window.__require=function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AES:[function(t,e,o){"use strict";cc._RF.push(e,"a8574L2byhNxZgSqKOjs1Vn","AES");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AES=void 0;var a=t("../lib/BlockCipher"),r=[],s=[],c=[],l=[],u=[],p=[],d=[],f=[],h=[],g=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var o=0,n=0;for(e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,r[o]=i,s[i]=o;var a=t[o],y=t[a],_=t[y],v=257*t[i]^16843008*i;c[o]=v<<24|v>>>8,l[o]=v<<16|v>>>16,u[o]=v<<8|v>>>24,p[o]=v,v=16843009*_^65537*y^257*a^16843008*o,d[i]=v<<24|v>>>8,f[i]=v<<16|v>>>16,h[i]=v<<8|v>>>24,g[i]=v,o?(o=a^t[t[t[_^a]]],n^=t[t[n]]):o=n=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],_=function(t){function e(e,o,n){return t.call(this,e,o,n)||this}return i(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,o=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],s=0;s<i;s++)if(s<n)a[s]=o[s];else{var c=a[s-1];s%n?n>6&&s%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=y[s/n|0]<<24),a[s]=a[s-n]^c}for(var l=this._invKeySchedule=[],u=0;u<i;u++)s=i-u,c=void 0,c=u%4?a[s]:a[s-4],l[u]=u<4||s<=4?c:d[r[c>>>24]]^f[r[c>>>16&255]]^h[r[c>>>8&255]]^g[r[255&c]]}},e.prototype.encryptBlock=function(t,e){this._doCryptBlock(t,e,this._keySchedule,c,l,u,p,r)},e.prototype.decryptBlock=function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,d,f,h,g,s),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},e.prototype._doCryptBlock=function(t,e,o,n,i,a,r,s){for(var c=t[e]^o[0],l=t[e+1]^o[1],u=t[e+2]^o[2],p=t[e+3]^o[3],d=4,f=1;f<this._nRounds;f++){var h=n[c>>>24]^i[l>>>16&255]^a[u>>>8&255]^r[255&p]^o[d++],g=n[l>>>24]^i[u>>>16&255]^a[p>>>8&255]^r[255&c]^o[d++],y=n[u>>>24]^i[p>>>16&255]^a[c>>>8&255]^r[255&l]^o[d++],_=n[p>>>24]^i[c>>>16&255]^a[l>>>8&255]^r[255&u]^o[d++];c=h,l=g,u=y,p=_}var v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^o[d++],m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^o[d++],S=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^o[d++],b=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^o[d++];t[e]=v,t[e+1]=m,t[e+2]=S,t[e+3]=b},e.keySize=8,e}(a.BlockCipher);o.AES=_,cc._RF.pop()},{"../lib/BlockCipher":"BlockCipher"}],ActionCharacterType:[function(t,e,o){"use strict";cc._RF.push(e,"4fc3fU4mUZPypl5nUUmuMc4","ActionCharacterType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActionCharacterType=void 0,function(t){t.NONE="none",t.IDLE="idle",t.RUN="run",t.WALK="walk",t.STOP="stop",t.ATTACK="attack",t.FREE="free",t.JUMB="jumb",t.DIE_HIT="die_hit",t.DIE_ICE="die_ice",t.DIE_LAVA="die_lava",t.DIE_BOMB="die_bomb",t.SUPPER="supper"}(o.ActionCharacterType||(o.ActionCharacterType={})),cc._RF.pop()},{}],ActiveBox:[function(t,e,o){"use strict";cc._RF.push(e,"7db68c+jzVO2bWlPO6OJ3A6","ActiveBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.requireComponent,s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.once=!0,e.listEvents=[],e}return i(e,t),e.prototype.start=function(){this.node.opacity=0},e.prototype.onCollisionEnter=function(t){cc.log("ActiveBox "+t.node.name),t.node===this.targetNode&&(cc.Component.EventHandler.emitEvents(this.listEvents),this.once&&(this.node.active=!1))},a([l(cc.Node)],e.prototype,"targetNode",void 0),a([l(cc.Boolean)],e.prototype,"once",void 0),a([l([cc.Component.EventHandler])],e.prototype,"listEvents",void 0),a([c,r(cc.BoxCollider)],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ActiveFun:[function(t,e,o){"use strict";cc._RF.push(e,"2ca293bvCBCyJyFHvJJqHxD","ActiveFun");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},a([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"28273v0gFZBtJL9nAz3j17h","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./MathUtil"),i=function(){function t(){}return t.shuffle=function(t){var e,o,n;for(n=t.length;n;n--)e=Math.floor(Math.random()*n),o=t[n-1],t[n-1]=t[e],t[e]=o},t.maxOf=function(t,e){void 0===e&&(e=function(t,e){return t>e});for(var o=t[0],n=1;n<t.length;n++)e(t[n],o)&&(o=t[n]);return o},t.getShuffleArray=function(t){for(var e,o,n=t.length;0!==n;)o=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[o],t[o]=e;return t},t.removeElement=function(t,e){var o=t.indexOf(e);o>-1&&t.splice(o,1)},t.removeElements=function(t,e){e.forEach(function(e){this.removeElement(t,e)}.bind(this))},t.moveElementFromTo=function(t,e,o){var n=t.length;n<2||e<0||o<0||e>n-1||o>n-1||e===o||t.splice(o,0,t.splice(e,1)[0])},t.swapElement=function(t,e,o){if(e!==o){var n=t[e];t[e]=t[o],t[o]=n}},t.swapRandomElement=function(t){var e=t.length;if(!(e<2))for(var o=0;o<e;o++){var n=void 0;do{n=Math.floor(Math.random()*e)}while(o===n);this.swapElement(t,o,n)}},t.prototype.count=function(t,e){var o=0;return t.forEach(function(t){e(t)&&o++}),o},t.prototype.sortAscending_CardUIArray=function(t){t.sort(function(t,e){return t.id-e.id})},t.prototype.sortGroup_CardUIArray=function(e){t.shuffle(e)},t.prototype.indexOfMax=function(t,e){void 0===e&&(e=function(t,e){return t>e});for(var o=0,n=1;n<t.length;n++)e(t[n],t[o])&&(o=n);return o},t.prototype.firstIndexOf=function(t,e){for(var o=0;o<t.length;o++)if(e(t[o]))return o;return-1},t.prototype.lastIndexOf=function(t,e){for(var o=t.length-1;o>=0;o--)if(e(t[o]))return o;return-1},t.sumOf=function(t){return t.reduce(function(t,e){return t+e})},t.isStringInNoUpperLowerDistinguish=function(t,e){for(var o=t.toLowerCase(),n=0;n<e.length;n++)e[n]=e[n].toLowerCase();return e.indexOf(o)>=0},t.getRandomTwoSwapIndex=function(t){var e=n.default.randomInt(t),o=n.default.randomInt(t);return e===o&&((o+=1)===t&&(o-=2),o=o>=0?o:0),{first:e,sec:o}},t.findMaxLessThan=function(t,e,o){void 0===o&&(o=1);for(var n=t.length-1;n>0;n--)if(t[n]*o<=e)return n;return-1},t.getClone2DArray=function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o].slice(0));return e},t.getClone1DArray=function(t){return[].concat(t)},t.get2DArrayOf1D=function(t,e){for(var o=[],n=Math.floor(t.length/e),i=0;i<n;i++){for(var a=[],r=i*e,s=r+e,c=r;c<s;c++)a.push(t[c]);o.push(a)}return o},t.concatNoDuplicate=function(t,e){for(var o=[].concat(t),n=0;n<e.length;n++)o.indexOf(e[n])<0&&o.push(e[n]);return o},t.initArrayByLength=function(t){for(var e=[],o=0;o<t;o++)e.push([]);return e},t.getValue=function(t,e,o){return""===t[e]||null===t[e]||void 0===t[e]?o:t[e]},t}();o.default=i,cc._RF.pop()},{"./MathUtil":"MathUtil"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"4fd31cuiKBAkI896NGa51Ca","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../plugins/fb/FBInstantData"),i=function(){function t(){}return Object.defineProperty(t,"RealMusicVolume",{get:function(){return t._MusicEnable?t._MusicVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RealEffectVolume",{get:function(){return t._EffectEnable?t._EffectVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MusicVolume",{get:function(){return t._MusicVolume},set:function(e){t._MusicVolume=e,t.arrAudioPlayer.forEach(function(t){t.setMusicVolume(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EffectVolume",{get:function(){return t._EffectVolume},set:function(e){t._EffectVolume=e,t.arrAudioPlayer.forEach(function(t){t.setEffectVolume(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EffectEnable",{get:function(){return n.FBInstantData.getData(["hp_2_EffectEnable"],function(e){t._EffectEnable=e.hp_2_EffectEnable},null),t._EffectEnable},set:function(e){t._EffectEnable=e;var o=e?t._EffectVolume:0;t.arrAudioPlayer.forEach(function(t){t.setEffectVolume(o)}),n.FBInstantData.setData({hp_2_EffectEnable:t._EffectEnable})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MusicEnable",{get:function(){return n.FBInstantData.getData(["hp_2_MusicEnable"],function(e){t._MusicEnable=e.hp_2_MusicEnable},null),t._MusicEnable},set:function(e){cc.log("MusicEnable: "+e),t._MusicEnable=e;var o=e?t._MusicVolume:0;t.arrAudioPlayer.forEach(function(t){t.setMusicVolume(o)}),n.FBInstantData.setData({hp_2_MusicEnable:t._MusicEnable})},enumerable:!1,configurable:!0}),t.add=function(e){t.arrAudioPlayer.push(e)},t.remove=function(e){var o=t.arrAudioPlayer.indexOf(e);-1!==o&&t.arrAudioPlayer.splice(o,1)},t._MusicVolume=1,t._EffectVolume=1,t._MusicEnable=!0,t._EffectEnable=!0,t.arrAudioPlayer=[],t}();o.default=i,cc._RF.pop()},{"../../plugins/fb/FBInstantData":"FBInstantData"}],AudioPlayId:[function(t,e,o){"use strict";cc._RF.push(e,"64605gIrJdCDoFRiN/cHV+6","AudioPlayId"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlayId=void 0,function(t){t[t.none=0]="none",t[t.game_play_music=2]="game_play_music",t[t.lose_level=22]="lose_level",t[t.win_level=23]="win_level",t[t.santa_hello=50]="santa_hello",t[t.santa_idle=51]="santa_idle",t[t.santa_win=52]="santa_win",t[t.santa_lose=53]="santa_lose",t[t.santa_jumb=54]="santa_jumb",t[t.santa_die=55]="santa_die",t[t.santa_attack=56]="santa_attack",t[t.santa_sigh=57]="santa_sigh",t[t.santa_crying=58]="santa_crying",t[t.effect_lava_appear=100]="effect_lava_appear",t[t.effect_lava_x_water=101]="effect_lava_x_water",t[t.effect_gems=103]="effect_gems",t[t.effect_change=104]="effect_change",t[t.effect_coin_collect=105]="effect_coin_collect",t[t.candy_drop=110]="candy_drop",t[t.effect_theif_attack=111]="effect_theif_attack",t[t.stick_block=150]="stick_block",t[t.stick_move=151]="stick_move",t[t.mom_thirty_lose=180]="mom_thirty_lose",t[t.mom_thirty_win=181]="mom_thirty_win",t[t.mom_panic_lose=182]="mom_panic_lose",t[t.mom_panic_win=183]="mom_panic_win",t[t.mom_smoke_lose=184]="mom_smoke_lose",t[t.mom_hum_long=185]="mom_hum_long",t[t.mom_surpirse=186]="mom_surpirse",t[t.mom_smile=187]="mom_smile",t[t.mom_sing=188]="mom_sing",t[t.mom_crying=200]="mom_crying",t[t.mom_baby_idle=201]="mom_baby_idle",t[t.mom_cold_idle=202]="mom_cold_idle",t[t.mom_win_normarl=203]="mom_win_normarl",t[t.mom_hum=204]="mom_hum",t[t.mom_win_full_libbey=205]="mom_win_full_libbey",t[t.mom_thirty_idle=206]="mom_thirty_idle",t[t.mom_panic_idle=207]="mom_panic_idle",t[t.daughter_sing=209]="daughter_sing",t[t.daughter_cold_idle=210]="daughter_cold_idle",t[t.daughter_win_normal=211]="daughter_win_normal",t[t.daughter_crying=212]="daughter_crying",t[t.daughter_drowning=213]="daughter_drowning",t[t.daughter_drowning_win=214]="daughter_drowning_win",t[t.daughter_smoke_lose=215]="daughter_smoke_lose",t[t.daughter_panic_idle=216]="daughter_panic_idle",t[t.daughter_panic_lose=217]="daughter_panic_lose",t[t.daughter_panic_win=218]="daughter_panic_win",t[t.daughter_thirty_idle=219]="daughter_thirty_idle",t[t.theif_fat_idle=220]="theif_fat_idle",t[t.theif_thin_idle=221]="theif_thin_idle",t[t.theif_fat_angry=222]="theif_fat_angry",t[t.theif_thin_angry=223]="theif_thin_angry",t[t.theif_fat_laugh=224]="theif_fat_laugh",t[t.theif_thin_laugh=225]="theif_thin_laugh",t[t.theif_die_bomb=226]="theif_die_bomb",t[t.rock_drop=230]="rock_drop",t[t.wood_drop=231]="wood_drop",t[t.puzzle_active=232]="puzzle_active",t[t.fire_active=240]="fire_active",t[t.boomb_active=241]="boomb_active",t[t.bonus_star=242]="bonus_star",t[t.coal_drop=243]="coal_drop",t[t.couple_idle=260]="couple_idle",t[t.couple_win=261]="couple_win",t[t.couple_lose=262]="couple_lose",t[t.couple_die_burned_dirty=263]="couple_die_burned_dirty",t[t.couple_intro=264]="couple_intro",t[t.dog_idle=270]="dog_idle",t[t.dog_eat=271]="dog_eat",t[t.daughter_dog_idle=280]="daughter_dog_idle",t[t.daughter_dog_win=281]="daughter_dog_win",t[t.background_intro=300]="background_intro",t[t.mom_hoho=301]="mom_hoho",t[t.couple_goodbey=302]="couple_goodbey",t[t.package_hit=303]="package_hit",t[t.rain=304]="rain",t[t.boy_simle=305]="boy_simle",t[t.effect_wind=306]="effect_wind",t[t.effect_key_dor=307]="effect_key_dor",t[t.background_home=308]="background_home",t[t.husband_idle=350]="husband_idle",t[t.husband_rose_win=351]="husband_rose_win",t[t.husband_ring_win=352]="husband_ring_win",t[t.husband_lose=353]="husband_lose",t[t.husband_die=354]="husband_die",t[t.husband_sceam=355]="husband_sceam",t[t.husband_whistling=356]="husband_whistling",t[t.krampus_idle=370]="krampus_idle",t[t.krampus_win=371]="krampus_win",t[t.krampus_lose=372]="krampus_lose",t[t.krampus_attack=373]="krampus_attack",t[t.delete=999]="delete"}(o.AudioPlayId||(o.AudioPlayId={})),cc._RF.pop()},{}],AudioPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"9bfc9UVsnVBHbXGh3Z4oKcE","AudioPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlay=o.AudioObject=void 0;var r=t("./AudioManager"),s=t("../../config/AudioPlayId"),c=t("../../MainScene"),l=cc._decorator,u=l.ccclass,p=l.property,d=l.inspector,f=function(){function t(){this.name=s.AudioPlayId.none,this.audioClip=null,this.isMusic=!1}return a([p({type:cc.Enum(s.AudioPlayId)})],t.prototype,"name",void 0),a([p({type:cc.AudioClip})],t.prototype,"audioClip",void 0),a([p(cc.Boolean)],t.prototype,"isMusic",void 0),a([u("AudioObject")],t)}();o.AudioObject=f;var h=function(t,e,o){this.audioId=t,this.volume=e,this.isMusic=o};o.AudioPlay=h;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrayAudioObj=[],e.maps=null,e.arrayMusic=[],e.arrayEffect=[],e}return i(e,t),Object.defineProperty(e.prototype,"resort",{set:function(t){t&&this.arrayAudioObj.sort(function(t,e){return t.name.valueOf()-e.name.valueOf()})},enumerable:!1,configurable:!0}),e.prototype.playAudio=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=1);var n,i=this.getAudioObject(t);if(!i)return cc.error("playAudio: "+t),null;if(i.isMusic){var a=cc.audioEngine.play(i.audioClip,e,o*r.default.RealMusicVolume);n=new h(a,o,!0),this.arrayMusic.push(n)}else a=cc.audioEngine.play(i.audioClip,e,o*r.default.RealEffectVolume),n=new h(a,o,!1),this.arrayEffect.push(n);return n},e.prototype.stopAudioPlay=function(t,e){var o;if(t)if(t.isMusic)-1!==(o=this.arrayMusic.indexOf(t))&&(cc.audioEngine.stop(t.audioId),this.arrayMusic.splice(o,1));else if(-1!==(o=this.arrayEffect.indexOf(t))){if(e){var n=this;cc.tween({a:t.volume}).to(.5,{a:0},{progress:function(e,o,i,a){i=e+(o-e)*a,n.setAudioPlayVolume(t,i)}}).call(function(){cc.audioEngine.stop(t.audioId)}).start()}else cc.audioEngine.stop(t.audioId);this.arrayEffect.splice(o,1)}},e.prototype.setAudioPlayVolume=function(t,e){t.volume=e,t.isMusic?cc.audioEngine.setVolume(t.audioId,e*r.default.RealMusicVolume):cc.audioEngine.setVolume(t.audioId,e*r.default.RealEffectVolume)},e.prototype.setVolume=function(t){this.setMusicVolume(t),this.setEffectVolume(t)},e.prototype.setMusicVolume=function(t){this.arrayMusic.forEach(function(e){cc.audioEngine.setVolume(e.audioId,e.volume*t)})},e.prototype.setEffectVolume=function(t){this.arrayEffect.forEach(function(e){cc.audioEngine.setVolume(e.audioId,e.volume*t)})},e.prototype.stopAllAudio=function(){this.stopAllEffect(),this.stopAllMusic()},e.prototype.stopAllMusic=function(){this.arrayMusic.forEach(function(t){cc.audioEngine.stop(t.audioId)}),this.arrayMusic=[]},e.prototype.stopAllEffect=function(){this.arrayEffect.forEach(function(t){cc.audioEngine.stop(t.audioId)}),this.arrayEffect=[]},e.prototype.getAudioObject=function(t){return this.maps||this.initMaps(),this.maps.get(t)},e.prototype.initMaps=function(){var t=this;this.maps=new Map,this.arrayAudioObj.forEach(function(e){t.maps.set(e.name,e)})},e.playArrAudioObj=function(t){var e=[];return t.forEach(function(t){t.sound&&e.push(c.default.instance.audioPlayer.playAudio(t.sound,t.loop,t.volume))}),e},e.stopArrAudioObj=function(t){t.forEach(function(t){c.default.instance.audioPlayer.stopAudioPlay(t)})},e.prototype.onLoad=function(){r.default.add(this)},e.prototype.onDestroy=function(){r.default.remove(this),this.stopAllAudio()},a([p()],e.prototype,"resort",null),a([p([f])],e.prototype,"arrayAudioObj",void 0),a([u,d("packages://audio-player-sort/inspector/index.js")],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","./AudioManager":"AudioManager"}],BGActiveStageLevel:[function(t,e,o){"use strict";cc._RF.push(e,"3ba37q69CNJC5bX7hFfBH23","BGActiveStageLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BgWin=null,e.BgLose=null,e.fxChangeUp=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.questStagePass=function(){var t=this;this.BgWin&&this.showFXActiveNodeCorrect(this.BgWin,function(){t.fxChangeUp&&(t.fxChangeUp.active=!0)}),this.BgLose&&(this.BgLose.active=!1)},e.prototype.questStageFail=function(){var t=this;this.BgWin&&(this.BgWin.active=!1),this.BgLose&&(this.BgLose.active=!0);var e=this.BgLose.getComponent(sp.Skeleton);e&&(e.setAnimation(0,"Open",!1),e.addAnimation(0,"Open2",!0),this.scheduleOnce(function(){t.BgLose.children.forEach(function(t){t.active=!0},2.5)}))},e.prototype.showFXActiveNodeCorrect=function(t,e){t.active=!0,cc.tween(t).to(.1,{scale:1.1}).to(.1,{scale:t.scale}).call(function(){e&&e()}).start()},a([c(cc.Node)],e.prototype,"BgWin",void 0),a([c(cc.Node)],e.prototype,"BgLose",void 0),a([c(cc.Node)],e.prototype,"fxChangeUp",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BackgroundLoader:[function(t,e,o){"use strict";cc._RF.push(e,"a964bAjM8hIm7cETX000x4q","BackgroundLoader"),Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundLoader=void 0;var n=function(){function t(){}return t.removeTask=function(t){var e=this.tasks.indexOf(t);-1!=e&&this.tasks.splice(e,1),console.log("completed. Remain: "+this.tasks.length)},t.addTask=function(t){var e=this;if(this.tasks.length>0){var o=this.tasks[this.tasks.length-1];o._completeCallback=function(){e.removeTask(o),t._callback()}}else t._callback();t._completeCallback=function(){e.removeTask(t)},this.tasks.push(t)},t.tasks=[],t}();o.BackgroundLoader=n,cc._RF.pop()},{}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"d2743cPFrhBHYqiAhT9tQzk","Ball");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../level/MapLevel"),s=t("../../config/AudioPlayId"),c=t("../../config/GroupConfig"),l=t("../../MainScene"),u=t("../../config/PhysicsConfig"),p=t("../../config/TagObject"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.available=!0,e.fx=null,e.sprite=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){u.PhysicsConfig.initPhysicConfig(this.node,"gems")},e.prototype.start=function(){o.transformCount=0},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t){if(this.available&&t.node.group===c.GroupConfig.COLLIDER)if(this.fx.active=!0,this.fx.setPosition(this.sprite.node.getPosition()),t.node.name==p.TagConfig.BOMB){var e=t.node.getComponent(p.default).tag2;if(e==p.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(e==p.TagConfig.NONE)return void(this.sprite.node.active=!1)}else this.sprite.node.active=!1},e.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&r.default.instance.isPlaying&&l.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water)},e.transformCount=0,a([h(cc.Node)],e.prototype,"fx",void 0),a([h(cc.Sprite)],e.prototype,"sprite",void 0),o=a([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"fe7d21qbyVDDayHyj4vq4II","Base64"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){t.clamp();for(var e=[],o=0;o<t.sigBytes;o+=3)for(var n=(t.words[o>>>2]>>>24-o%4*8&255)<<16|(t.words[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t.words[o+2>>>2]>>>24-(o+2)%4*8&255,i=0;i<4&&o+.75*i<t.sigBytes;i++)e.push(this._map.charAt(n>>>6*(3-i)&63));var a=this._map.charAt(64);if(a)for(;e.length%4;)e.push(a);return e.join("")},t.parse=function(t){var e=t.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var o=0;o<this._map.length;o++)this._reverseMap[this._map.charCodeAt(o)]=o}var n=this._map.charAt(64);if(n){var i=t.indexOf(n);-1!==i&&(e=i)}return this.parseLoop(t,e,this._reverseMap)},t.parseLoop=function(t,e,o){for(var i=[],a=0,r=0;r<e;r++)if(r%4){var s=o[t.charCodeAt(r-1)]<<r%4*2,c=o[t.charCodeAt(r)]>>>6-r%4*2;i[a>>>2]|=(s|c)<<24-a%4*8,a++}return new n.WordArray(i,a)},t._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t._reverseMap=void 0,t}();o.Base64=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Base:[function(t,e,o){"use strict";cc._RF.push(e,"6e617383w5PTrGEqN772dO6","Base"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base=void 0;o.Base=function(){},cc._RF.pop()},{}],BgWinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"a3f28xOzKpO5KOC17iRm5bB","BgWinPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.start=function(){this.node.children[0].active=!1},e.prototype.active=function(){this.node.children[0].active=!0},e.prototype.deActive=function(){this.node.children[0].active=!1},e._instance=null,o=a([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],BigBang:[function(t,e,o){"use strict";cc._RF.push(e,"4b544/S0+VBi7Mf5oLI8B72","BigBang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../MainScene"),s=t("../../config/AudioPlayId"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeAttack=.5,e.hitAttack=null,e.bumPrefab=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.hitAttack.isValid&&(t.hitAttack.removeComponent(cc.CircleCollider),t.node.destroy())},this.timeAttack),this.showBumEffect()},e.prototype.showBumEffect=function(){var t=cc.instantiate(this.bumPrefab);t.setPosition(this.node.getPosition()),t.scale=1,this.node.getParent().addChild(t),r.default.instance.audioPlayer.playAudio(s.AudioPlayId.boomb_active),cc.tween(t).delay(2).call(function(){t.destroy()}).start()},a([u(cc.Float)],e.prototype,"timeAttack",void 0),a([u(cc.Node)],e.prototype,"hitAttack",void 0),a([u(cc.Prefab)],e.prototype,"bumPrefab",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId"}],BigSpider:[function(t,e,o){"use strict";cc._RF.push(e,"60434tkAkRBmLEzwNZK6oAI","BigSpider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Enemies"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([c],e)}(r.default));o.default=l,cc._RF.pop()},{"./Enemies":"Enemies"}],BigStone:[function(t,e,o){"use strict";cc._RF.push(e,"ae47diI/DNKZ6oYDkVlYShG","BigStone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"big_stone")},e.prototype.onCollisionEnter=function(t){t.node.group===r.GroupConfig.BERRIE||(t.node.group,r.GroupConfig.ROCK)},a([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],BlockCipherModeAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"215dcJ9eM1NZ5FV34H+5WBP","BlockCipherModeAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherModeAlgorithm=void 0;var n=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this._cipher=t,this._iv=e},t}();o.BlockCipherModeAlgorithm=n,cc._RF.pop()},{}],BlockCipherMode:[function(t,e,o){"use strict";cc._RF.push(e,"2ccb35VwFBIlZEfT5t0TZkz","BlockCipherMode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherMode=void 0;var n=t("./BlockCipherModeAlgorithm"),i=function(){function t(){}return t.createEncryptor=function(t,e){return new(0,this.Encryptor)(t,e)},t.createDecryptor=function(t,e){return new(0,this.Decryptor)(t,e)},t.Encryptor=n.BlockCipherModeAlgorithm,t.Decryptor=n.BlockCipherModeAlgorithm,t}();o.BlockCipherMode=i,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],BlockCipher:[function(t,e,o){"use strict";cc._RF.push(e,"5c4e1pBgXZCvKCvVYX8KbUO","BlockCipher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipher=void 0;var a=t("./Cipher"),r=t("../mode/CBC"),s=t("../pad/PKCS7"),c=function(t){function e(e,o,n){return t.call(this,e,o,Object.assign({blockSize:4,mode:r.CBC,padding:s.PKCS7},n))||this}return i(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var e;this._xformMode===this.constructor._ENC_XFORM_MODE?e=this.cfg.mode.createEncryptor:(e=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===e?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=e.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=e)},e.prototype._doProcessBlock=function(t,e){this._mode.processBlock(t,e)},e.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var t;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),t=this._process(!0)}else t=this._process(!0),this.cfg.padding.unpad(t);return t},e}(a.Cipher);o.BlockCipher=c,cc._RF.pop()},{"../mode/CBC":"CBC","../pad/PKCS7":"PKCS7","./Cipher":"Cipher"}],Bomb:[function(t,e,o){"use strict";cc._RF.push(e,"27a9fLgW7hIIrOK0rr5oTkV","Bomb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigBangPrefab=null,e}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"bomb")},e.prototype.onCollisionEnter=function(t){t.node.group!==r.GroupConfig.CHARACTER&&t.node.group!==r.GroupConfig.BERRIE&&t.node.group!==r.GroupConfig.ROCK&&t.node.group!==r.GroupConfig.WATER||this.attack()},e.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var t=cc.instantiate(this.bigBangPrefab),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),this.node.destroy()},a([u(cc.Prefab)],e.prototype,"bigBangPrefab",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],Bouquet:[function(t,e,o){"use strict";cc._RF.push(e,"d62f6oJwo5GgYOtfZvEbQoS","Bouquet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.StateBouquet=void 0;var r,s=t("../../base/ColliderCallback"),c=t("../../config/GlobalSignals"),l=t("../../config/TagObject"),u=t("../../level/MapLevel"),p=t("../rose/RoseGO"),d=cc._decorator,f=d.ccclass,h=d.property;(function(t){t[t.Normal=0]="Normal",t[t.Mid=1]="Mid",t[t.Correct=2]="Correct",t[t.Wrong=3]="Wrong"})(r=o.StateBouquet||(o.StateBouquet={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateSprite=[],e.lbProcess=null,e.boxCheck=null,e.Flower=null,e.targetPos=null,e.pointMove=null,e.total=0,e.rateCorrect=0,e.rateWrong=0,e.isPass=!1,e.isFail=!1,e}return i(e,t),e.prototype.onLoad=function(){this.boxCheck.setColliderCallback(this.onColliderEnterCallback.bind(this))},e.prototype.showFxMoveToFlower=function(t){var e=this,o=this.node.convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position));t.setParent(this.node),t.position=o,this.scheduleOnce(function(){cc.tween(t).to(.3,{position:e.vCheck}).call(function(){t.destroy()}).start()},.1)},e.prototype.onColliderEnterCallback=function(t){var e=this;if(t.node.name===l.TagConfig.ROSE.toString()){t.node.removeComponent(cc.CircleCollider),t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.RigidBody),this.showFxMoveToFlower(t.node);var o=t.node.getComponent(p.default);if(o.active&&o){if(this.rateCorrect+=this.rate(),this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=50&&u.default.instance.isPlaying&&(this.stateSprite[r.Mid].active=!0),this.rateCorrect>=100&&u.default.instance.isPlaying){if(this.isPass)return;this.isPass=!0,this.stateSprite[r.Correct].active=!0,c.GlobalSignals.questPassSignal.dispatch()}return}if(!o.active&&o){if(this.rateWrong+=this.rate(),this.rateWrong>=10&&u.default.instance.isPlaying){if(this.isFail)return;this.isFail=!0,this.stateSprite.forEach(function(t){t!=e.stateSprite[r.Wrong]&&(t.active=!1)}),this.stateSprite[r.Wrong].active=!0,c.GlobalSignals.questFailSignal.dispatch()}return}}},e.prototype.rate=function(){return 1/this.total*100},e.prototype.update=function(){if(this.vCheck=this.node.convertToNodeSpaceAR(this.pointMove.convertToWorldSpaceAR(cc.Vec3.ZERO)),this.targetPos){var t=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),e=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(t),o=cc.v2(1e3,0).signAngle(e);this.Flower.angle=180*o/3.14;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.Flower.setPosition(this.Flower.parent.convertToNodeSpaceAR(n))}},a([h([cc.Node])],e.prototype,"stateSprite",void 0),a([h(cc.Label)],e.prototype,"lbProcess",void 0),a([h(s.default)],e.prototype,"boxCheck",void 0),a([h(cc.Node)],e.prototype,"Flower",void 0),a([h(cc.Node)],e.prototype,"targetPos",void 0),a([h(cc.Node)],e.prototype,"pointMove",void 0),a([h(cc.Integer)],e.prototype,"total",void 0),a([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../rose/RoseGO":"RoseGO"}],BoxGift:[function(t,e,o){"use strict";cc._RF.push(e,"e77db9S6AJJE4nbUWsuh7uo","BoxGift");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.StateBoxGift=void 0;var r,s=t("../base/utils/SkeletonUtil"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t.IDLE="Idle",t.OPEN="Open"})(r=o.StateBoxGift||(o.StateBoxGift={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.assets=null,e.animWin=[],e.animObj=[],e.state=r.IDLE,e}return i(e,t),e.prototype.mixer_multi_anim=function(t,e,o){1==e.length?t.setAnimation(0,e[0],!0):e.length>1&&s.SkeletonUtil.playMultiAnim(t,e,o||null)},e.prototype.setState=function(t,e){switch(t){case r.IDLE:this.state=r.IDLE,s.SkeletonUtil.playAnimation(this.assets,"Idle",!0,e||null);break;case r.OPEN:this.state=r.OPEN,this.mixer_multi_anim(this.assets,this.animWin,function(){e&&e()})}},e.prototype.resetState=function(){this.setState(r.IDLE)},a([u({type:sp.Skeleton})],e.prototype,"assets",void 0),a([u([cc.String])],e.prototype,"animWin",void 0),a([u([s.AnimObj])],e.prototype,"animObj",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../base/utils/SkeletonUtil":"SkeletonUtil"}],BoxLoseStageLevel:[function(t,e,o){"use strict";cc._RF.push(e,"ffc5cfjVcZLW5y7ep71CA7z","BoxLoseStageLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.BoxLoseStageLevel=void 0;var r=t("../config/GlobalSignals"),s=t("../config/TagObject"),c=t("./BGActiveStageLevel"),l=t("./MapLevel"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrongObject=s.TagConfig.NONE,e.totalWrongObject=0,e.listEventStageLevel=[],e._stageIndex=0,e.rateWrong=0,e.isFail=!1,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;if(t.node.name===this.wrongObject.toString()&&(this.rateWrong+=this.rate(),this.rateWrong>=10&&l.default.instance.isPlaying)){if(this.isFail)return;this.isFail=!0,this.scheduleOnce(function(){r.GlobalSignals.questStageFail.dispatch(e._stageIndex),e.listEventStageLevel.forEach(function(t){t&&t.questStageFail()})},1)}},e.prototype.rate=function(){return 1/this.totalWrongObject*100},e.prototype.setStageIndex=function(t){this._stageIndex=t},a([d({type:cc.Enum(s.TagConfig)})],e.prototype,"wrongObject",void 0),a([d(cc.Integer)],e.prototype,"totalWrongObject",void 0),a([d({type:[c.default]})],e.prototype,"listEventStageLevel",void 0),a([p],e)}(cc.Component);o.BoxLoseStageLevel=f,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../config/TagObject":"TagObject","./BGActiveStageLevel":"BGActiveStageLevel","./MapLevel":"MapLevel"}],BoxWinStageLevel:[function(t,e,o){"use strict";cc._RF.push(e,"45566C1eH1EMrGeH8m/OUUY","BoxWinStageLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.BoxWinStageLevel=void 0;var r=t("../config/GlobalSignals"),s=t("../config/TagObject"),c=t("./BGActiveStageLevel"),l=t("./MapLevel"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrongObject=s.TagConfig.NONE,e.correctObject=s.TagConfig.NONE,e.totalCorrectObject=0,e.listEventStageLevel=[],e.rateCorrect=0,e.rateWrong=0,e.isPass=!1,e.isFail=!1,e._stageIndex=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;if(t.node.name===this.correctObject.toString()&&(this.rateCorrect+=this.rate(),this.rateCorrect>=100&&l.default.instance.isPlaying)){if(this.isPass)return;this.isPass=!0,this.showFxCoinFly(function(){r.GlobalSignals.questStagePass.dispatch(e._stageIndex),e.listEventStageLevel.forEach(function(t){t&&t.questStagePass()})})}if(t.node.name===this.wrongObject.toString()&&(this.rateWrong+=this.rate(),this.rateWrong>=10&&l.default.instance.isPlaying)){if(this.isFail)return;this.isFail=!0,r.GlobalSignals.questStageFail.dispatch(this._stageIndex),this.listEventStageLevel.forEach(function(t){t&&t.questStageFail()})}},e.prototype.showFxCoinFly=function(t){this.scheduleOnce(function(){t()},1)},e.prototype.rate=function(){return 1/this.totalCorrectObject*100},e.prototype.setStageIndex=function(t){this._stageIndex=t},a([d({type:cc.Enum(s.TagConfig)})],e.prototype,"wrongObject",void 0),a([d({type:cc.Enum(s.TagConfig)})],e.prototype,"correctObject",void 0),a([d(cc.Integer)],e.prototype,"totalCorrectObject",void 0),a([d({type:[c.default]})],e.prototype,"listEventStageLevel",void 0),a([p()],e)}(cc.Component);o.BoxWinStageLevel=f,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../config/TagObject":"TagObject","./BGActiveStageLevel":"BGActiveStageLevel","./MapLevel":"MapLevel"}],BtnGiftBox:[function(t,e,o){"use strict";cc._RF.push(e,"7f3ecw8dTJDorK8U2M4NyAB","BtnGiftBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtBtn=null,e.txtTimeCount=null,e}return i(e,t),e.prototype.setupState=function(t){this.txtBtn.active=!t,this.txtTimeCount.active=t},a([c(cc.Node)],e.prototype,"txtBtn",void 0),a([c(cc.Node)],e.prototype,"txtTimeCount",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BufferedBlockAlgorithmConfig:[function(t,e,o){"use strict";cc._RF.push(e,"bcd7aXTUztHaIlBMuneitvv","BufferedBlockAlgorithmConfig"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BufferedBlockAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"4389exlQERFmIkVyMSSB/Ub","BufferedBlockAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedBlockAlgorithm=void 0;var n=t("../lib/WordArray"),i=t("../enc/Utf8"),a=function(){function t(t){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},t),this._data=new n.WordArray,this._nDataBytes=0}return t.prototype.reset=function(){this._data=new n.WordArray,this._nDataBytes=0},t.prototype._append=function(t){"string"==typeof t&&(t=i.Utf8.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var e,o=4*this.cfg.blockSize,i=this._data.sigBytes/o,a=(i=t?Math.ceil(i):Math.max((0|i)-this._minBufferSize,0))*this.cfg.blockSize,r=Math.min(4*a,this._data.sigBytes);if(a){for(var s=0;s<a;s+=this.cfg.blockSize)this._doProcessBlock(this._data.words,s);e=this._data.words.splice(0,a),this._data.sigBytes-=r}return new n.WordArray(e,r)},t.prototype.clone=function(){var t=this.constructor();for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t._data=this._data.clone(),t},t}();o.BufferedBlockAlgorithm=a,cc._RF.pop()},{"../enc/Utf8":"Utf8","../lib/WordArray":"WordArray"}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"ce76b+UskFF5pu2I3GghrjS","Bullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;t.node.group===r.GroupConfig.CHARACTER&&(this.scheduleOnce(function(){e.node.opacity=0,cc.Tween.stopAllByTarget(e.node)},.05),this.scheduleOnce(function(){e.node.active=!1,e.node.destroy()},.2))},e.velocityHit=500,a([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],ButtonActive:[function(t,e,o){"use strict";cc._RF.push(e,"3b1c8B5ioNCjbQb6w+1FUpy","ButtonActive");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=null,e.deactive=null,e}return i(e,t),e.prototype.activeBtn=function(){this.active.active=!0,this.deactive.active=!1},e.prototype.deactiveBtn=function(){this.active.active=!1,this.deactive.active=!0},a([c(cc.Node)],e.prototype,"active",void 0),a([c(cc.Node)],e.prototype,"deactive",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ButtonRoomState:[function(t,e,o){"use strict";cc._RF.push(e,"a8e00Bqj/FKx7b8grc4hOdp","ButtonRoomState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconLock=null,e.iconChoose=null,e.iconRoom=null,e.buttonClick=null,e._stateActive=!1,e._roomId=0,e}return i(e,t),e.prototype.initState=function(){this._roomId>r.GameData.currentRoomId?(this.iconLock.active=!0,this.buttonClick.getComponent(cc.Button).interactable=!1,this.iconRoom.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.iconRoom.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.iconLock.active=!1,this.buttonClick.getComponent(cc.Button).interactable=!0,this.iconRoom.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.iconRoom.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))),this._roomId==r.GameData.currentRoomDecor&&this.chooseRoom()},e.prototype.setInfor=function(t){this._roomId=t},e.prototype.chooseRoom=function(){this.iconChoose.active=!0},e.prototype.dontChooseRoom=function(){this.iconChoose.active=!1},a([l(cc.Node)],e.prototype,"iconLock",void 0),a([l(cc.Node)],e.prototype,"iconChoose",void 0),a([l(cc.Sprite)],e.prototype,"iconRoom",void 0),a([l(cc.Button)],e.prototype,"buttonClick",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData"}],CBCDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"f9d4fl6l0ZOfKWQbNvYaQ8m","CBCDecryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCDecryptor=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var o=t.slice(e,e+this._cipher.cfg.blockSize);this._cipher.decryptBlock(t,e),this.xorBlock(t,e,this._cipher.cfg.blockSize),this._prevBlock=o},e.prototype.xorBlock=function(t,e,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)t[e+i]^=n[i]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCDecryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBCEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"3156akD5EtMw61Y5xYGHwVX","CBCEncryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCEncryptor=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(t,e,this._cipher.cfg.blockSize),this._cipher.encryptBlock(t,e),this._prevBlock=t.slice(e,e+this._cipher.cfg.blockSize)},e.prototype.xorBlock=function(t,e,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)t[e+i]^=n[i]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCEncryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBC:[function(t,e,o){"use strict";cc._RF.push(e,"397bcXouhFJRIwYe7GnQ3+D","CBC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBC=void 0;var a=t("./BlockCipherMode"),r=t("./CBCEncryptor"),s=t("./CBCDecryptor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Encryptor=r.CBCEncryptor,e.Decryptor=s.CBCDecryptor,e}(a.BlockCipherMode);o.CBC=c,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./CBCDecryptor":"CBCDecryptor","./CBCEncryptor":"CBCEncryptor"}],CCRigid:[function(t,e,o){"use strict";cc._RF.push(e,"326e9GhCHdBFoSc03S1nQYU","CCRigid"),Object.defineProperty(o,"__esModule",{value:!0});var n,i,a=t("../HomeScreen"),r=t("../MainScene"),s=t("./FillBannerGD"),c=t("./TouchManager"),l=document.documentElement,u=document.getElementById("bannerOverlay"),p={w:0,h:0};cc.view.setResizeCallback(function(){cc.RigidBody._resized_=!0,a.default.instance&&a.default.instance.updateUI(),n&&(clearTimeout(n),n=null),i&&(clearTimeout(i),i=null),n=setTimeout(function(){cc.RigidBody._resized_=!1,clearTimeout(n),n=null},50),s.deleteChild(),p.w=u.offsetWidth,p.h=u.offsetHeight;var t=s.findClosestSize(p);t&&(l.style.setProperty("--width",t.w+"px"),l.style.setProperty("--height",t.h+"px")),i=setTimeout(function(){window.gdsdk&&window.gdsdk.showAd(window.gdsdk.AdType.Display,{containerId:"CONTAINER_ID_TO_PUT_AD_IN"}).then(function(){console.info("showAd(window.gdsdk.AdType.Display) resolved.")}).catch(function(t){return console.info(t)})},1e3),cc.sys.isBrowser&&!cc.sys.isMobile||(cc.view.getFrameSize().width>cc.view.getFrameSize().height?(r.default.instance.showRotatePopup(),c.default.instance.disableTouch()):(r.default.instance.hideRotatePopup(),c.default.instance.enableTouch()))}),cc.RigidBody._resized_=!1,cc.RigidBody.prototype.update=function(){cc.RigidBody._resized_&&(this.sync_position&&this.syncPosition(this.type===cc.RigidBodyType.Animated),this.sync_rotation&&this.syncRotation(this.type===cc.RigidBodyType.Animated))},cc._RF.pop()},{"../HomeScreen":"HomeScreen","../MainScene":"MainScene","./FillBannerGD":"FillBannerGD","./TouchManager":"TouchManager"}],CameraManager:[function(t,e,o){"use strict";cc._RF.push(e,"018efHpEyZNTIO3/WkMkGmR","CameraManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.CameraManager=void 0;var r=cc._decorator,s=r.ccclass,c=r.requireComponent,l=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._camera=null,e.camera_ui=null,e._tween=[],e._root_pos=cc.v3(),e._root_zoom_ratio=1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._camera=this.getComponent(cc.Camera),this._root_pos=this.node.position,this._root_zoom_ratio=this._camera.zoomRatio,o._instance=this},e.prototype.focusTo=function(t,e,o){var n=this.get_local_position(this.node,t);return this._tween.push(cc.tween(this.node).to(o,{position:n}).start()),this._tween.push(cc.tween(this._camera).to(o,{zoomRatio:e}).start()),o},e.prototype.moveFromTo=function(t,e,o){if(void 0===o&&(o=.75),t instanceof cc.Vec3)var n={position:t,zoom_ratio:this._camera.zoomRatio,is_world_pos:!1};else n=t;if(e instanceof cc.Vec3)var i={position:e,zoom_ratio:this._camera.zoomRatio,is_world_pos:!1};else i=e;var a=i.is_world_pos?this.node.parent.convertToNodeSpaceAR(i.position):i.position;n.is_world_pos&&this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n.position)),this._camera.zoomRatio=n.zoom_ratio,this._tween.push(cc.tween(this.node).to(o,{position:a}).start()),this._tween.push(cc.tween(this._camera).to(o,{zoomRatio:i.zoom_ratio}).start())},e.prototype.onDisable=function(){for(var t=0,e=this._tween;t<e.length;t++)e[t].stop()},e.prototype.reset=function(){cc.Tween.stopAllByTarget(this.camera),cc.Tween.stopAllByTarget(this.camera.node),this.node.position=this._root_pos,this._camera.zoomRatio=this._root_zoom_ratio},e.prototype.get_local_position=function(t,e){if(e instanceof cc.Node){var o=e.convertToWorldSpaceAR(cc.v3());return t.parent.convertToNodeSpaceAR(o)}return e.is_world_pos?t.parent.convertToNodeSpaceAR(e.position):e.position},e.prototype.activeCameraUI=function(t){this.camera_ui.node.active=t},e._instance=null,a([l(cc.Camera)],e.prototype,"camera_ui",void 0),o=a([s,c(cc.Camera)],e)}(cc.Component);o.CameraManager=u,cc._RF.pop()},{}],CampFire:[function(t,e,o){"use strict";cc._RF.push(e,"9a5058eOI5F9Zi0Yfr8JGFU","CampFire");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../MainScene"),s=t("../../config/AudioPlayId"),c=t("../../config/GlobalSignals"),l=t("../../config/GroupConfig"),u=t("../../level/MapLevel"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.percent=null,e.fire=null,e.fxFireCollided=null,e.isPlayed=!1,e.rate=0,e}return i(e,t),e.prototype.onEnable=function(){this.percent.string="0%",this.rate=0},e.prototype.onCollisionEnter=function(t){if(t.node.group===l.GroupConfig.ROCK){if(t.node.active=!1,this.rate+=10,this.rate<100?this.percent.string=this.rate+"%":this.percent.string="100%",!this.isPlayed){this.playAnimation("Rocks",!1);var e=this.skeleton.findAnimation("Rocks").duration;this.scheduleOnce(function(){u.default.instance.isPlaying&&u.default.instance.isQuestBuilding&&c.GlobalSignals.questPassSignal.dispatch()},e)}this.isPlayed=!0,r.default.instance.audioPlayer.playAudio(s.AudioPlayId.rock_drop,!1,.5)}if(t.node.group===l.GroupConfig.WOOD&&(t.node.active=!1,r.default.instance.audioPlayer.playAudio(s.AudioPlayId.wood_drop,!1,.5),this.rate+=20,this.rate<100?this.percent.string=this.rate+"%":this.percent.string="100%",this.isPlayed||(this.playAnimation("Woods",!1),e=this.skeleton.findAnimation("Woods").duration,this.scheduleOnce(function(){u.default.instance.isPlaying&&u.default.instance.isQuestBuilding&&c.GlobalSignals.questPassSignal.dispatch()},e)),this.isPlayed=!0),t.node.group===l.GroupConfig.MATCHBOX&&(t.node.active=!1,this.fire.active=!0,r.default.instance.audioPlayer.playAudio(s.AudioPlayId.fire_active),this.scheduleOnce(function(){u.default.instance.isPlaying&&u.default.instance.isQuestBuilding&&c.GlobalSignals.questPassSignal.dispatch()},.3)),t.node.group===l.GroupConfig.COAL){r.default.instance.audioPlayer.playAudio(s.AudioPlayId.coal_drop,!1,.2);var o=1/u.default.instance.total*100;return this.rate+=o,this.percent.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.showFxFireCollided(t.node),t.node.active=!1,void(this.rate>=100&&u.default.instance.isPlaying&&(this.fire.active=!0,r.default.instance.audioPlayer.playAudio(s.AudioPlayId.fire_active),c.GlobalSignals.questPassSignal.dispatch()))}},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.showFxFireCollided=function(t){var e=cc.instantiate(this.fxFireCollided);e.position=t.position,e.parent=t.getParent()},a([f(sp.Skeleton)],e.prototype,"skeleton",void 0),a([f(cc.Label)],e.prototype,"percent",void 0),a([f(cc.Node)],e.prototype,"fire",void 0),a([f(cc.Prefab)],e.prototype,"fxFireCollided",void 0),a([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel"}],CaseSound:[function(t,e,o){"use strict";cc._RF.push(e,"4108f2zlhtIwI2ZMOo/PzHL","CaseSound"),Object.defineProperty(o,"__esModule",{value:!0}),o.CaseSound=void 0,function(t){t.NORMAL="normal",t.EATBREAD="eatbread",t.FULLCOININLIBBEY="fullcoininlibbey",t.GETLIFEBOUY="getlifebouy",t.WINTHIRTY="winthirty",t.WINPANIC="winpanic",t.WINPUZZLE="winpuzzle",t.WINDOG="windog"}(o.CaseSound||(o.CaseSound={})),cc._RF.pop()},{}],CharacterAudioSetup:[function(t,e,o){"use strict";cc._RF.push(e,"e7a4dXHQKBFg6at/aavPV38","CharacterAudioSetup");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterAudioSetup=o.AudioObjectSetup=void 0;var i=t("../../config/AudioPlayId"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(){function t(){this.sound=i.AudioPlayId.none,this.loop=!1,this.volume=1}return n([s({type:cc.Enum(i.AudioPlayId)})],t.prototype,"sound",void 0),n([s(cc.Boolean)],t.prototype,"loop",void 0),n([s({type:cc.Float,slide:!0,range:[0,1]})],t.prototype,"volume",void 0),n([r("AudioObjectSetup")],t)}();o.AudioObjectSetup=c;var l=function(){function t(){this._soundIdle=[],this._soundWin=[],this._soundLose=[],this._soundDie=[],this._soundAttack=[]}return Object.defineProperty(t.prototype,"soundIdle",{get:function(){return this._soundIdle},set:function(t){this._soundIdle=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundWin",{get:function(){return this._soundWin},set:function(t){this._soundWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundLose",{get:function(){return this._soundLose},set:function(t){this._soundLose=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundDie",{get:function(){return this._soundDie},set:function(t){this._soundDie=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundAttack",{get:function(){return this._soundAttack},set:function(t){this._soundAttack=t},enumerable:!1,configurable:!0}),n([s({type:[c]})],t.prototype,"_soundIdle",void 0),n([s({type:[c]})],t.prototype,"soundIdle",null),n([s({type:[c]})],t.prototype,"_soundWin",void 0),n([s({type:[c]})],t.prototype,"soundWin",null),n([s({type:[c]})],t.prototype,"_soundLose",void 0),n([s({type:[c]})],t.prototype,"soundLose",null),n([s({type:[c]})],t.prototype,"_soundDie",void 0),n([s({type:[c]})],t.prototype,"soundDie",null),n([s({type:[c]})],t.prototype,"_soundAttack",void 0),n([s({type:[c]})],t.prototype,"soundAttack",null),n([r("CharacterAudioSetup")],t)}();o.CharacterAudioSetup=l,cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId"}],Character:[function(t,e,o){"use strict";cc._RF.push(e,"028fayw1+FMb5Lyi+B6DgJG","Character");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterAudio=o.AudioObj=void 0;var r=t("../../base/ColliderCallback"),s=t("./MoveCtrl"),c=t("./ColliderSearch"),l=t("./ColliderGround"),u=t("../../config/TagObject"),p=t("../../config/GroupConfig"),d=t("../../config/PhysicsConfig"),f=t("../../skin/SlotsSpineDuplicate"),h=t("../../config/AudioPlayId"),g=t("../../base/audio/AudioPlayer"),y=t("../../level/MapLevel"),_=t("../../GameData"),v=t("../../base/utils/GUIUtil"),m=t("../../config/ActionCharacterType"),S=t("../../config/GlobalSignals"),b=cc._decorator,C=b.ccclass,k=b.property,P=function(){function t(){this.sound=h.AudioPlayId.none,this.loop=!1,this.volume=1}return a([k({type:cc.Enum(h.AudioPlayId)})],t.prototype,"sound",void 0),a([k(cc.Boolean)],t.prototype,"loop",void 0),a([k({type:cc.Float,slide:!0,range:[0,1]})],t.prototype,"volume",void 0),a([C("AudioObj")],t)}();o.AudioObj=P;var O=function(){function t(){this._soundIdle=[],this._soundWin=[],this._soundLose=[],this._soundDie=[],this._soundAttack=[]}return Object.defineProperty(t.prototype,"soundIdle",{get:function(){return this._soundIdle},set:function(t){this._soundIdle=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundWin",{get:function(){return this._soundWin},set:function(t){this._soundWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundLose",{get:function(){return this._soundLose},set:function(t){this._soundLose=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundDie",{get:function(){return this._soundDie},set:function(t){this._soundDie=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundAttack",{get:function(){return this._soundAttack},set:function(t){this._soundAttack=t},enumerable:!1,configurable:!0}),a([k({type:[P]})],t.prototype,"_soundIdle",void 0),a([k({type:[P]})],t.prototype,"soundIdle",null),a([k({type:[P]})],t.prototype,"_soundWin",void 0),a([k({type:[P]})],t.prototype,"soundWin",null),a([k({type:[P]})],t.prototype,"_soundLose",void 0),a([k({type:[P]})],t.prototype,"soundLose",null),a([k({type:[P]})],t.prototype,"_soundDie",void 0),a([k({type:[P]})],t.prototype,"soundDie",null),a([k({type:[P]})],t.prototype,"_soundAttack",void 0),a([k({type:[P]})],t.prototype,"soundAttack",null),a([C("CharacterAudio")],t)}();o.CharacterAudio=O;var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.stun=null,e.hit=null,e.idleAnim="Idle",e.runAnim="Run",e.walkAnim="Walk",e.attackAnim="GamePlay2/Hit_Spider",e.dieAnim="Die",e.dieFireAnim="Burned",e.dieIceAnim="Ice",e.audio=new O,e.rootCollider=null,e.groundCollider=null,e.headCollider=null,e.bodyCollider=null,e.attackCollider=null,e.handCollider=null,e.elementHand=null,e.searchCollider=null,e.nodePet=null,e.ignoreFluids=[],e.slotDuplicate=null,e._stateCharacter=m.ActionCharacterType.NONE,e.attackDistance=0,e.currentSkin="",e.deadCallback=null,e.isGround=!0,e.isDirty=!1,e.soundIdleObj=[],e.soundWinObj=[],e.soundLoseObj=[],e.soundMoveObj=[],e.soundDieObj=[],e.soundAttackObj=[],e.cam_focus=null,e._isAlive=!0,e.isRunning=!1,e.moveCtrl=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"StateCharacter",{get:function(){return this._stateCharacter},set:function(t){t!=this._stateCharacter&&(this._stateCharacter=t,S.GlobalSignals.characterChangeState.dispatch(this._stateCharacter))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"world_cam_focus_position",{get:function(){return null!=this.cam_focus?this.cam_focus.convertToWorldSpaceAR(this.cam_focus.position):this.node.convertToWorldSpaceAR(cc.v3())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this._isAlive},set:function(t){var e=this;this._isAlive=t,this._isAlive||(cc.log(this.node.name+" isAlive = false"),this.deadCallback&&this.deadCallback(this.node),this.moveCtrl&&(this.moveCtrl.stopMove(),this.moveCtrl.enabled=!1),this.scheduleOnce(function(){try{e.rootCollider.active=!1}catch(t){cc.warn(t)}},.2))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.slotDuplicate=this.node.getComponent(f.default),this.searchCollider&&y.default.instance.isMapOther&&this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this)),this.hit){var t=this.hit.getComponent(u.default);t&&(this.tagHit=t.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.handCollider&&this.handCollider.setColliderCallback(this.onHandCollider.bind(this)),this.moveCtrl=this.getComponent(s.default),this.attackDistance=this.attackCollider.getComponent(cc.BoxCollider).size.width/2,this.currentSkin=this.skeleton.defaultSkin,this.playAnimation(this.idleAnim,!0),this.stun&&(this.stun.node.active=!1),d.PhysicsConfig.initPhysicConfig(this.node,"character")},e.prototype.setDeadCallback=function(t){this.deadCallback=t},e.prototype.checkIgnoreFluid=function(t){return-1!=this.ignoreFluids.indexOf(t)},e.prototype.addToIgnoreSearchCollier=function(t){this.searchCollider&&this.searchCollider.addToIgnore(t)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this.slotDuplicate&&this.slotDuplicate.next_anim(t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this.slotDuplicate&&this.slotDuplicate.addAnimation(t,e,o),this},e.prototype.changeSkin=function(t){this.currentSkin=t,this.skeleton.setSkin(t),this.skeleton.setSlotsToSetupPose()},e.prototype.getCurrentSkin=function(){return this.currentSkin},e.prototype.getHandCollider=function(){return this.handCollider?this.handCollider:null},e.prototype.runToTarget=function(t){this.moveToTarget(t,this.runAnim)},e.prototype.walkToTarget=function(t){this.moveToTarget(t,this.walkAnim)},e.prototype.moveToTarget=function(t,e){var n=!0;if(t){var i=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),a=t.getComponent(cc.BoxCollider),r=a?a.offset.x+a.size.width/2:0;if(Math.abs(this.node.position.x-i.x)<this.attackDistance+r)return;n=this.node.position.x<i.x}else n=this.node.scaleX===o.SCALE_RIGHT;n?this.moveRight(e):this.moveLeft(e)},e.prototype.rotateFaceToTarget=function(t){var e=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position));this.node.position.x<e.x?this.node.scaleX=o.SCALE_RIGHT:this.node.scaleX=o.SCALE_LEFT},e.prototype.moveLeft=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_LEFT,this.moveCtrl.moveLeft(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveRight=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_RIGHT,this.moveCtrl.moveRight(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveJump=function(){this.moveCtrl&&this.moveCtrl.moveJump()},e.prototype.stopMove=function(){this.moveCtrl&&(this.isRunning=!1,this.moveCtrl.stopMove())},e.prototype.onAttackCollider=function(){},e.prototype.onHandCollider=function(){},e.prototype.onBodyCollider=function(){},e.prototype.onHeadCollider=function(){},e.prototype.onSearchCollider=function(){},e.prototype.initPetSkin=function(){_.GameData.CurrentPet&&null!=this.nodePet&&v.default.addPetForCharacter(this.nodePet)},e.prototype.onGroundCollisionEnter=function(t){cc.log("onGroundCollisionEnter: "+t),this.isGround=t,this.attackCollider.node.active=t,this.searchCollider&&(this.searchCollider.node.active=t),this.node.getComponent(cc.PhysicsCircleCollider).friction,t&&o.FRICTION},e.prototype.disablePhysicsBody=function(){var t=this.node.getComponent(cc.PhysicsCollider);t&&(t.enabled=!1,t.node.group=p.GroupConfig.DEAD,t.enabled=!0)},e.prototype.onSoundDie=function(){this.soundDieObj=g.default.playArrAudioObj(this.audio.soundDie)},e.prototype.onSoundIdle=function(){0==this.soundIdleObj.length&&(this.soundIdleObj=g.default.playArrAudioObj(this.audio.soundIdle))},e.prototype.offSoundIdle=function(){g.default.stopArrAudioObj(this.soundIdleObj)},e.prototype.onSoundWin=function(){0==this.soundWinObj.length&&(this.soundWinObj=g.default.playArrAudioObj(this.audio.soundWin))},e.prototype.onSoundLose=function(){this._isAlive?0==this.soundWinObj.length&&(this.soundLoseObj=g.default.playArrAudioObj(this.audio.soundLose)):this.onSoundDie()},e.prototype.onSoundAttack=function(){this.soundAttackObj=g.default.playArrAudioObj(this.audio.soundAttack)},e.prototype.offSoundAttack=function(){g.default.stopArrAudioObj(this.soundAttackObj)},e.prototype.onMove=function(){this.node.scaleX==o.SCALE_RIGHT?this.moveRight(this.runAnim):this.moveLeft(this.runAnim),this.StateCharacter=m.ActionCharacterType.RUN},e.SCALE_RIGHT=1,e.SCALE_LEFT=-1,e.FRICTION=.2,a([k(sp.Skeleton)],e.prototype,"skeleton",void 0),a([k(sp.Skeleton)],e.prototype,"stun",void 0),a([k(cc.Node)],e.prototype,"hit",void 0),a([k(cc.String)],e.prototype,"idleAnim",void 0),a([k(cc.String)],e.prototype,"runAnim",void 0),a([k(cc.String)],e.prototype,"walkAnim",void 0),a([k(cc.String)],e.prototype,"attackAnim",void 0),a([k(cc.String)],e.prototype,"dieAnim",void 0),a([k(cc.String)],e.prototype,"dieFireAnim",void 0),a([k(cc.String)],e.prototype,"dieIceAnim",void 0),a([k({type:O})],e.prototype,"audio",void 0),a([k(cc.Node)],e.prototype,"rootCollider",void 0),a([k(l.default)],e.prototype,"groundCollider",void 0),a([k(r.default)],e.prototype,"headCollider",void 0),a([k(r.default)],e.prototype,"bodyCollider",void 0),a([k(r.default)],e.prototype,"attackCollider",void 0),a([k(r.default)],e.prototype,"handCollider",void 0),a([k(cc.Node)],e.prototype,"elementHand",void 0),a([k(c.default)],e.prototype,"searchCollider",void 0),a([k(cc.Node)],e.prototype,"nodePet",void 0),a([k([cc.String])],e.prototype,"ignoreFluids",void 0),a([k(cc.Node)],e.prototype,"cam_focus",void 0),o=a([C],e)}(cc.Component);o.default=A,cc._RF.pop()},{"../../GameData":"GameData","../../base/ColliderCallback":"ColliderCallback","../../base/audio/AudioPlayer":"AudioPlayer","../../base/utils/GUIUtil":"GUIUtil","../../config/ActionCharacterType":"ActionCharacterType","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../../skin/SlotsSpineDuplicate":"SlotsSpineDuplicate","./ColliderGround":"ColliderGround","./ColliderSearch":"ColliderSearch","./MoveCtrl":"MoveCtrl"}],CheckLose:[function(t,e,o){"use strict";cc._RF.push(e,"be25fs0gadGqZgk9yYV+13G","CheckLose");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./config/GlobalSignals"),s=t("./config/GroupConfig"),c=t("./config/TagObject"),l=t("./level/MapLevel"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrongObject=c.TagConfig.NONE,e.fxSmokeOver=null,e.total=0,e.rate=0,e.checkDone=!1,e.count=0,e.totalInContainer=0,e.isFail=!1,e}return i(e,t),e.prototype.start=function(){l.default.instance.container&&(l.default.instance.isQuestCollectWater||l.default.instance.isQuestCollectSmoke)&&(this.totalInContainer=l.default.instance.container.total)},e.prototype.onCollisionEnter=function(t){if(t.node.name===this.wrongObject.toString()&&(this.rate+=this.calculateRate(),this.rate>=10&&l.default.instance.isPlaying)){if(this.isFail)return;this.isFail=!0,r.GlobalSignals.questFailSignal.dispatch()}if(t.node.group!==s.GroupConfig.ITEM&&t.node.group!==s.GroupConfig.MATCHBOX){if(t.node.group===s.GroupConfig.GEMS){if(t.node.name==c.TagConfig.COIN){if(o=l.default.instance.totalGems){var e=1/o*100;this.rate+=e,this.rate>=20&&l.default.instance.isPlaying&&r.GlobalSignals.questFailSignal.dispatch()}return}var o;if(t.node.name==c.TagConfig.CANDY)return void((o=l.default.instance.totalGems)&&(e=1/o*100,this.rate+=e,this.rate>=10&&l.default.instance.isPlaying&&r.GlobalSignals.questFailSignal.dispatch()))}if(t.node.group!==s.GroupConfig.WATER){if(t.node.group!==s.GroupConfig.SMOKE);else if(l.default.instance.container&&l.default.instance.isQuestCollectSmoke){var n=1/this.totalInContainer*100;if(this.rate+=n,this.rate>=10&&l.default.instance.isPlaying){var i=cc.instantiate(this.fxSmokeOver);this.node.addChild(i,1,"fx1"),r.GlobalSignals.questFailSignal.dispatch()}}}else if(l.default.instance.container&&l.default.instance.isQuestCollectWater){var a=1/this.totalInContainer*100;this.rate+=a,this.rate>=10&&l.default.instance.isPlaying&&r.GlobalSignals.questFailSignal.dispatch()}else this.count++,this.count>=5&&l.default.instance.isPlaying&&r.GlobalSignals.questFailSignal.dispatch()}else this.scheduleOnce(function(){r.GlobalSignals.questFailSignal.dispatch()},.3)},e.prototype.calculateRate=function(){return 1/this.total*100},a([d({type:cc.Enum(c.TagConfig)})],e.prototype,"wrongObject",void 0),a([d(cc.Prefab)],e.prototype,"fxSmokeOver",void 0),a([d(cc.Integer)],e.prototype,"total",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./config/GlobalSignals":"GlobalSignals","./config/GroupConfig":"GroupConfig","./config/TagObject":"TagObject","./level/MapLevel":"MapLevel"}],CheckWinIntro:[function(t,e,o){"use strict";cc._RF.push(e,"01668tMjPtAjaNxY6YUsyHO","CheckWinIntro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../MainScene"),s=t("../config/GlobalSignals"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.mapLevel=null,e.ringTop=null,e.animLock=null,e}return i(e,t),e.prototype.onEnable=function(){this._onPassIntro=this.onPassIntro.bind(this),s.GlobalSignals.questPassIntro.add(this._onPassIntro)},e.prototype.onPassIntro=function(){var t=this;this.ringTop.active=!1,this.mapLevel.active=!1,this.animLock.play();var e=this.animLock.defaultClip.duration;this.scheduleOnce(function(){r.default.instance.showIntroScreen(),t.node.parent.removeFromParent(!0)},e)},e.prototype.onDisable=function(){s.GlobalSignals.questPassIntro.remove(this._onPassIntro)},a([u(cc.Node)],e.prototype,"bgNode",void 0),a([u(cc.Node)],e.prototype,"mapLevel",void 0),a([u(cc.Node)],e.prototype,"ringTop",void 0),a([u(cc.Animation)],e.prototype,"animLock",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../MainScene":"MainScene","../config/GlobalSignals":"GlobalSignals"}],CheckWinPuzzles:[function(t,e,o){"use strict";cc._RF.push(e,"c0cfdkLtMZFBIBjDt9H8LSc","CheckWinPuzzles");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../GameData"),c=t("../MainScene"),l=t("../PlayScreen"),u=t("../base/ColliderCallback"),p=t("../config/GameState"),d=t("../config/GlobalSignals"),f=t("../config/GroupConfig"),h=t("../config/TagObject"),g=t("../level/MapLevel"),y=t("../objects/character/Daughter/Daughter"),_=t("../objects/character/Daughter/DaughterOther"),v=t("../objects/character/Mom/Mom"),m=t("../objects/character/Mom/MomOther"),S=t("../objects/character/SantaClaus/SantaClaus"),b=t("../objects/more/ItemPuzzle"),C=t("./PuzzlesPopup"),k=cc._decorator,P=k.ccclass,O=k.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxCheck=null,e.popupPuzzle=null,e.itemPuzzle=null,e.isPlay=!0,e.popup=null,e}return i(e,t),e.prototype.start=function(){this.boxCheck.setColliderCallback(this.onHitCollider.bind(this))},e.prototype.onLoad=function(){var t=null;v.default.instance&&null!=v.default.instance.cam_focus?t=v.default.instance:m.default.instance&&null!=m.default.instance.cam_focus?t=m.default.instance:S.default.instance&&null!=S.default.instance.cam_focus?t=S.default.instance:_.default.instanceD&&null!=_.default.instanceD.cam_focus?t=_.default.instanceD:y.default.instanceD&&null!=y.default.instanceD.cam_focus&&(t=y.default.instanceD),t&&(l.default.instance.posCharacter=t.world_cam_focus_position)},e.prototype.onHitCollider=function(t){var e=this;if(t.node.group!=f.GroupConfig.ITEM||g.default.instance.isPlaying||(t.node.active=!1),t.node.group==f.GroupConfig.ITEM&&g.default.instance.isPlaying){if(t.node.name==h.TagConfig.MONEY_BAG)return t.node.active=!1,void l.default.instance.onEventBeforePass(function(){d.GlobalSignals.questPassSignal.dispatch()});var o=Math.abs(t.node.angle%360);t.node.angle=o;var n;if(n=o<180?0:360,this.isPlay){this.isPlay=!1,this.itemPuzzle.node.removeComponent(cc.RigidBody),this.itemPuzzle.node.removeComponent(cc.PhysicsCircleCollider),this.itemPuzzle.node.removeComponent(cc.BoxCollider),this.itemPuzzle.node.zIndex=1,this.popup=cc.instantiate(this.popupPuzzle),this.popup.parent=c.default.instance.node.parent,this.popup.children[1].active=!1;var i=this.popup.getComponent(C.default),a=r(s.GameData.arrayItemsInRoom[s.GameData.currentItem].puzzles);a.push(this.itemPuzzle.puzzles),a.sort(),g.default.instance.gameState==p.GameState.PLAYING&&cc.tween(this.itemPuzzle.node).to(1.2,{position:cc.v3(0,0,0),angle:n,scale:1.9},{easing:"circOut"}).call(function(){i.setStateBtnAds(!0),4==a.length?i.setStateBtnAds(!1):i.setStateBtnAds(!0),i.getComponent(C.default).init(a,s.GameData.currentItem+1,s.GameData.currentRoomId,function(){d.GlobalSignals.questPassSignal.dispatch()},e.itemPuzzle.puzzles),e.itemPuzzle.node.active=!1,e.popup.children[1].active=!0}).start()}}},e.prototype.onDisable=function(){this.popup&&this.popup.destroy()},a([O(u.default)],e.prototype,"boxCheck",void 0),a([O(cc.Prefab)],e.prototype,"popupPuzzle",void 0),a([O(b.default)],e.prototype,"itemPuzzle",void 0),a([P],e)}(cc.Component);o.default=A,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../base/ColliderCallback":"ColliderCallback","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/GroupConfig":"GroupConfig","../config/TagObject":"TagObject","../level/MapLevel":"MapLevel","../objects/character/Daughter/Daughter":"Daughter","../objects/character/Daughter/DaughterOther":"DaughterOther","../objects/character/Mom/Mom":"Mom","../objects/character/Mom/MomOther":"MomOther","../objects/character/SantaClaus/SantaClaus":"SantaClaus","../objects/more/ItemPuzzle":"ItemPuzzle","./PuzzlesPopup":"PuzzlesPopup"}],CipherParamsInterface:[function(t,e,o){"use strict";cc._RF.push(e,"c75daeSX3JNJ6BVRuAL5QQB","CipherParamsInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],CipherParams:[function(t,e,o){"use strict";cc._RF.push(e,"04f98j4UgVD3rdnqkB3IuGk","CipherParams");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CipherParams=void 0;var a=function(t){function e(e){var o=t.call(this)||this;return o.ciphertext=e.ciphertext,o.key=e.key,o.iv=e.iv,o.salt=e.salt,o.algorithm=e.algorithm,o.mode=e.mode,o.padding=e.padding,o.blockSize=e.blockSize,o.formatter=e.formatter,o}return i(e,t),e.prototype.extend=function(t){return void 0!==t.ciphertext&&(this.ciphertext=t.ciphertext),void 0!==t.key&&(this.key=t.key),void 0!==t.iv&&(this.iv=t.iv),void 0!==t.salt&&(this.salt=t.salt),void 0!==t.algorithm&&(this.algorithm=t.algorithm),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.padding&&(this.padding=t.padding),void 0!==t.blockSize&&(this.blockSize=t.blockSize),void 0!==t.formatter&&(this.formatter=t.formatter),this},e.prototype.toString=function(t){if(t)return t.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},e}(t("../lib/Base").Base);o.CipherParams=a,cc._RF.pop()},{"../lib/Base":"Base"}],Cipher:[function(t,e,o){"use strict";cc._RF.push(e,"0822aDCGLVF/oR5hzoNBCgx","Cipher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Cipher=void 0;var a=t("./BufferedBlockAlgorithm"),r=t("./SerializableCipher"),s=t("./PasswordBasedCipher"),c=function(t){function e(e,o,n){var i=t.call(this,Object.assign({blockSize:1},n))||this;return i._xformMode=e,i._key=o,i.reset(),i}return i(e,t),e.createEncryptor=function(t,e){return new this(this._ENC_XFORM_MODE,t,e)},e.createDecryptor=function(t,e){return new this(this._DEC_XFORM_MODE,t,e)},e._createHelper=function(t){return{encrypt:function(e,o,n){return"string"==typeof o?s.PasswordBasedCipher.encrypt(t,e,o,n):r.SerializableCipher.encrypt(t,e,o,n)},decrypt:function(e,o,n){return"string"==typeof o?s.PasswordBasedCipher.decrypt(t,e,o,n):r.SerializableCipher.decrypt(t,e,o,n)}}},e.prototype.process=function(t){return this._append(t),this._process()},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e._ENC_XFORM_MODE=1,e._DEC_XFORM_MODE=2,e.keySize=4,e.ivSize=4,e}(a.BufferedBlockAlgorithm);o.Cipher=c,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm","./PasswordBasedCipher":"PasswordBasedCipher","./SerializableCipher":"SerializableCipher"}],CoalGO:[function(t,e,o){"use strict";cc._RF.push(e,"3485dVD3sxIQ5S1inEwMaKn","CoalGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),c=t("../../config/TagObject"),l=t("../../level/MapLevel"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"coal")},e.prototype.onCollisionEnter=function(t){if(t.node.group!==r.GroupConfig.COLLIDER);else if(t.node.name==c.TagConfig.BOMB){var e=t.node.getComponent(c.default).tag2;if(e==c.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(e==c.TagConfig.NONE)return this.node.active=!1,void l.default.instance.countCoalDestroyed++}},a([p],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],ColliderCallback:[function(t,e,o){"use strict";cc._RF.push(e,"972fagnS5RCV7DBQ88ri4Nf","ColliderCallback");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colliderEnterCb=null,e.colliderExitCb=null,e}return i(e,t),e.prototype.setColliderCallback=function(t,e){void 0===e&&(e=null),this.colliderEnterCb=t,this.colliderExitCb=e},e.prototype.onCollisionEnter=function(t,e){this.colliderEnterCb&&this.colliderEnterCb(t,e)},e.prototype.onCollisionExit=function(t,e){this.colliderExitCb&&this.colliderExitCb(t,e)},a([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],ColliderGround:[function(t,e,o){"use strict";cc._RF.push(e,"addec/A/HVEDbijn4GbN/Wg","ColliderGround");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../base/utils/ArrayUtil"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groundConfig=[r.GroupConfig.BERRIE,r.GroupConfig.ROCK],e.arrayGround=[],e.callback=null,e.isGround=!1,e}return i(e,t),e.prototype.setGroundColliderCallback=function(t){this.callback=t},e.prototype.onCollisionEnter=function(t){if(-1!==this.groundConfig.indexOf(t.node.group)&&-1==this.arrayGround.indexOf(t.node))return this.arrayGround.push(t.node),this.isGround?void 0:(this.isGround=!0,void(this.callback&&this.callback(!0)))},e.prototype.onCollisionExit=function(t){-1!==this.groundConfig.indexOf(t.node.group)&&(s.default.removeElement(this.arrayGround,t.node),0===this.arrayGround.length&&(this.callback&&this.callback(!1),this.isGround=!1))},a([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ColliderSearch:[function(t,e,o){"use strict";cc._RF.push(e,"fbc57yBL25Jzpq6ppx2EzJN","ColliderSearch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../base/ColliderCallback"),s=t("../../config/GroupConfig"),c=t("../../base/utils/ArrayUtil"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.signalCollider=null,e.listIgnore=[],e.isDebug=!1,e.rootPosition=null,e.searchCallback=null,e.listColliderEnter=[],e._listGroupTarget=[s.GroupConfig.CHARACTER,s.GroupConfig.ITEM_SEARCH],e}return i(e,t),e.prototype.onLoad=function(){var t=this.signalCollider.node;t.getComponent(cc.Sprite).enabled=this.isDebug,this.rootPosition=t.position,this.signalCollider.setColliderCallback(this.onSignalCollider.bind(this)),this.listIgnore.push(t)},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.signalCollider.node)},e.prototype.addToIgnore=function(t){-1===this.listIgnore.indexOf(t)&&(cc.log("addToIgnore: "+t.name),this.listIgnore.push(t))},e.prototype.checkSearchTarget=function(t){return-1!=this._listGroupTarget.indexOf(t.node.group)},e.prototype.setColliderCallback=function(t){this.searchCallback=t},e.prototype.onCollisionEnter=function(t){-1==this.listIgnore.indexOf(t.node)&&this.checkSearchTarget(t)&&(-1==this.listColliderEnter.indexOf(t)&&this.listColliderEnter.push(t),cc.Tween.stopAllByTarget(this.signalCollider.node),this.pingToTarget(t))},e.prototype.onCollisionExit=function(t){this.checkSearchTarget(t)&&c.default.removeElement(this.listColliderEnter,t),this.refreshPingToTarget()},e.prototype.pingToTarget=function(t,e){var o=this;void 0===e&&(e=!0);var n=this.signalCollider.node;n.position=this.rootPosition;var i=n.getParent().convertToNodeSpaceAR(t.node.getParent().convertToWorldSpaceAR(t.node.position));t.size.height&&(i.y+=t.offset.y-t.size.height/2+20,i.x+=t.offset.x-t.size.width/2+20,cc.tween(n).to(.1,{position:i}).delay(.5).call(function(){e&&o.pingToTarget(t)}).start())},e.prototype.refreshPingToTarget=function(t){this.listColliderEnter.length>0?this.pingToTarget(this.listColliderEnter[0],!1):t&&t()},e.prototype.onSignalCollider=function(t){if(-1==this.listIgnore.indexOf(t.node)){var e=this.signalCollider.node;e.position=this.rootPosition,cc.Tween.stopAllByTarget(e),this.searchCallback&&this.searchCallback(t)}},a([p(r.default)],e.prototype,"signalCollider",void 0),a([p([cc.Node])],e.prototype,"listIgnore",void 0),a([p(cc.Boolean)],e.prototype,"isDebug",void 0),a([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ContainType:[function(t,e,o){"use strict";cc._RF.push(e,"0c2d4Z8ZQ9M8ZSfwq89T2sD","ContainType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ContainType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SINK=1]="SINK",t[t.STOVE=2]="STOVE",t[t.SHOWER=3]="SHOWER",t[t.CHIMNEY=4]="CHIMNEY",t[t.INFUSION_BAG=5]="INFUSION_BAG",t[t.HEATER=6]="HEATER",t[t.DOOR=7]="DOOR",t[t.BATHTUB=8]="BATHTUB"}(o.ContainType||(o.ContainType={})),cc._RF.pop()},{}],Container:[function(t,e,o){"use strict";cc._RF.push(e,"59ef18PFB1MDqUEuj1yu7mV","Container");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.EventContainer=o.TagObjOrGroup=o.TypeEventContainer=void 0;var r,s=t("../../MainScene"),c=t("../../base/ColliderCallback"),l=t("../../config/AudioPlayId"),u=t("../../config/GlobalSignals"),p=t("../../config/GroupConfig"),d=t("../../config/TagObject"),f=t("../../level/MapLevel"),h=t("./ContainType"),g=t("./SmokeGO"),y=cc._decorator,_=y.ccclass,v=y.property;(function(t){t.NORMAL="NORMAL",t.WRONG="WRONG",t.CORRECT="CORRECT"})(r=o.TypeEventContainer||(o.TypeEventContainer={})),function(t){t.NONE="NONE",t.TAGOBJECT="TAGOBJECT",t.GROUP="GROUP"}(o.TagObjOrGroup||(o.TagObjOrGroup={}));var m=function(){function t(){this.backgroundCorrect=null,this.backgroundWrong=null,this._questPassSignal=u.GlobalSignals.questPassSignal.add(this.onQuestPass.bind(this)),this._questFailSignal=u.GlobalSignals.questFailSignal.add(this.onQuestFail.bind(this)),this._typeContainer=null}return t.prototype.initEvent=function(t){this._typeContainer=t},t.prototype.onQuestPass=function(){this._typeContainer==h.ContainType.HEATER&&(this.backgroundCorrect.active=!1,this.backgroundWrong.active=!1)},t.prototype.onQuestFail=function(){},t.prototype.onMessageEvent=function(t){switch(t){case r.NORMAL:break;case r.WRONG:this._typeContainer!=h.ContainType.HEATER&&this._typeContainer!=h.ContainType.DOOR||this.showFXActiveNodeWrong(this.backgroundWrong);break;case r.CORRECT:this._typeContainer!=h.ContainType.HEATER&&this._typeContainer!=h.ContainType.DOOR||this.showFXActiveNodeCorrect(this.backgroundCorrect)}},t.prototype.showFXActiveNodeCorrect=function(t,e){t.active=!0;var o=t.scale;t.scale=0,cc.tween(t).to(.15,{scale:o}).call(function(){e&&e()}).start()},t.prototype.showFXActiveNodeWrong=function(t,e){t.active=!0,t.opacity=0,cc.tween(t).to(.15,{opacity:255}).call(function(){e&&e()}).start()},a([v({type:cc.Node})],t.prototype,"backgroundCorrect",void 0),a([v({type:cc.Node})],t.prototype,"backgroundWrong",void 0),a([_("EventContainer")],t)}();o.EventContainer=m;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.containType=h.ContainType.NONE,e.wrongObject=d.TagConfig.NONE,e.correctObject=d.TagConfig.NONE,e.wrongNode=null,e.correctNode=null,e.centerCollider=null,e.boxCheck=null,e.effectNew=null,e.effectSmoke=null,e.effectCoadlCollided=null,e.effectSmokeDirty=null,e.effectDirtyMucus=null,e.effectSnowDoor=null,e.total=0,e.lbProcess=null,e.bigbang=null,e.fire=null,e.animShowNewDoor=null,e.activeEventContainer=!1,e._eventContainer=null,e.rateCorrect=0,e.rateWrong=0,e.isPass=!1,e.isFail=!1,e.effectWrongNode=[],e}return i(e,t),Object.defineProperty(e.prototype,"eventContainer",{get:function(){return this._eventContainer||(this._eventContainer=new m),this._eventContainer},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.activeEventContainer&&this._eventContainer.initEvent(this.containType)},e.prototype.onEnable=function(){this.boxCheck.setColliderCallback(this.onBoxCheckCollider.bind(this)),this.centerCollider.setColliderCallback(this.onCenterCollider.bind(this)),this.containType==h.ContainType.SINK&&(this.effectSmokeDirty&&this.showEffectSmokeDirty(),this.effectDirtyMucus&&this.showEffectDirtyMucus())},e.prototype.onBoxCheckCollider=function(t){var e=this;if(this.containType!=h.ContainType.SINK&&this.containType!=h.ContainType.STOVE||!f.default.instance.isQuestCollectWater)if(this.containType==h.ContainType.CHIMNEY&&f.default.instance.isQuestCollectSmoke)t.node.group===p.GroupConfig.SMOKE&&(t.node.getComponent(g.default).force=1e4);else if(this.containType==h.ContainType.INFUSION_BAG&&f.default.instance.isQuestCollectWater){if(t.node.group===p.GroupConfig.WATER)return o=1/this.total*100,this.rateCorrect+=o,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",void(this.rateCorrect>=100&&f.default.instance.isPlaying&&u.GlobalSignals.questPassSignal.dispatch());if(t.node.group===p.GroupConfig.DIRTY)return n=1/this.total*100,this.rateWrong+=n,void(this.rateWrong>=10&&f.default.instance.isPlaying&&u.GlobalSignals.questFailSignal.dispatch())}else{if(this.containType==h.ContainType.HEATER||this.containType==h.ContainType.DOOR){if(t.node.name===this.correctObject.toString()&&(this.rateCorrect+=this.rate(),this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=100&&f.default.instance.isPlaying)){if(this.isPass)return;if(this.isPass=!0,this.containType==h.ContainType.HEATER)return void this.showFXActiveNodeCorrect(this.correctNode,function(){e.wrongNode.active=!1,e.isPass=!0,e._eventContainer.onMessageEvent(r.CORRECT),u.GlobalSignals.questStagePass.dispatch()});if(this.containType==h.ContainType.DOOR)return void this.showAnimNewDoor(function(){e.effectSnowDoor.active=!1,e.showFXActiveNodeCorrect(e.correctNode,function(){e.wrongNode.active=!1,e._eventContainer.onMessageEvent(r.CORRECT),e.scheduleOnce(function(){u.GlobalSignals.questStagePass.dispatch()},1)})})}if(t.node.name===this.wrongObject.toString()&&(this.rateWrong+=this.rate(),this.rateWrong>=10&&f.default.instance.isPlaying)){if(this.isFail)return;if(this.isFail=!0,u.GlobalSignals.questStageFail.dispatch(),this.containType==h.ContainType.HEATER)return this._eventContainer.onMessageEvent(r.WRONG),this.correctNode.active=!1,void(this.wrongNode.active=!0);if(this.containType==h.ContainType.DOOR)return this._eventContainer.onMessageEvent(r.WRONG),this.correctNode.active=!1,void(this.wrongNode.active=!1)}}if(this.containType==h.ContainType.BATHTUB&&f.default.instance.isQuestCollectWater){if(t.node.group===p.GroupConfig.WATER&&(this.rateCorrect+=this.rate(),this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=100&&f.default.instance.isPlaying)){if(this.isPass)return;this.isPass=!0,this.showEffectNew(),u.GlobalSignals.questPassSignal.dispatch()}if(t.node.group===p.GroupConfig.DIRTY&&(this.rateWrong+=this.rate(),this.rateWrong>=10&&f.default.instance.isPlaying)){if(this.isFail)return;this.isFail=!0}}if(this.containType==h.ContainType.NONE&&t.node.group===p.GroupConfig.WATER&&(this.rateCorrect+=this.rate(),this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=100&&f.default.instance.isPlaying)){if(this.isPass)return;this.isPass=!0,u.GlobalSignals.questPassSignal.dispatch()}}else{if(t.node.group===p.GroupConfig.WATER){var o=1/this.total*100;return this.rateCorrect+=o,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",void(this.rateCorrect>=100&&f.default.instance.isPlaying&&(u.GlobalSignals.questPassSignal.dispatch(),this.wrongNode.active=!1,this.containType==h.ContainType.SINK?(s.default.instance.audioPlayer.playAudio(l.AudioPlayId.effect_change),this.offEffectWrong(),this.effectNew&&this.showEffectNew()):this.containType==h.ContainType.STOVE&&this.effectSmoke&&this.showEffectSmoke(),this.correctNode.active=!0,this.fire&&(this.fire.active=!1)))}if(t.node.group===p.GroupConfig.DIRTY){var n=1/this.total*100;return this.rateWrong+=n,void(this.rateWrong>=10&&f.default.instance.isPlaying&&(u.GlobalSignals.questFailSignal.dispatch(),this.wrongNode.active=!0,this.correctNode.active=!1))}}},e.prototype.onCenterCollider=function(t){if(t.node.group!==p.GroupConfig.WATER)if(t.node.group!==p.GroupConfig.DIRTY)if(t.node.group!==p.GroupConfig.ROCK)if(t.node.group!=p.GroupConfig.COLLIDER){if(this.containType!=h.ContainType.CHIMNEY||!f.default.instance.isQuestCollectSmoke){if(t.node.group===p.GroupConfig.LAVA){var e=1/this.total*100;return this.rateWrong+=e,this.rateWrong>=10&&f.default.instance.isPlaying&&this.onFireStove(),void(t.node.active=!1)}return t.node.group==p.GroupConfig.COAL?(this.showFxFireCollided(t.node),void t.node.destroy()):void 0}if(t.node.group===p.GroupConfig.SMOKE){var o=1/this.total*100;return this.rateCorrect+=o,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=100&&f.default.instance.isPlaying&&u.GlobalSignals.questPassSignal.dispatch(),void(t.node.active=!1)}}else t.node.destroy();else t.node.active=!1;else t.node.active=!1;else t.node.active=!1},e.prototype.rate=function(){return 1/this.total*100},e.prototype.showFXActiveNodeCorrect=function(t,e){t.active=!0,cc.tween(t).to(.1,{scale:1.1}).to(.1,{scale:t.scale}).call(function(){e&&e()}).start()},e.prototype.showAnimNewDoor=function(t){var e=this,o=this.animShowNewDoor.getComponent(sp.Skeleton),n=o.findAnimation("animation2").duration;o.setAnimation(0,"animation2",!1),this.scheduleOnce(function(){e.animShowNewDoor.active=!1,t()},n)},e.prototype.onFireStove=function(){var t=cc.instantiate(this.bigbang),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),this.wrongNode.active=!0,this.correctNode.active=!1,this.fire.active=!1},e.prototype.showEffectNew=function(){cc.instantiate(this.effectNew).parent=this.node},e.prototype.showEffectSmoke=function(){cc.instantiate(this.effectSmoke).parent=this.node},e.prototype.showEffectSmokeDirty=function(){var t=cc.instantiate(this.effectSmokeDirty);t.parent=this.node,t.setPosition(cc.v3(this.wrongNode.x,this.wrongNode.y+55)),this.effectWrongNode.push(t)},e.prototype.showFxFireCollided=function(t){var e=cc.instantiate(this.effectCoadlCollided);e.position=f.default.instance.node.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)),e.parent=f.default.instance.node},e.prototype.showEffectDirtyMucus=function(){var t=cc.instantiate(this.effectDirtyMucus);t.parent=this.node,t.setPosition(cc.v3(this.wrongNode.x,this.wrongNode.y-55)),this.effectWrongNode.push(t)},e.prototype.offEffectWrong=function(){this.effectWrongNode.forEach(function(t){t.active=!1})},a([v({type:cc.Enum(h.ContainType)})],e.prototype,"containType",void 0),a([v({type:cc.Enum(d.TagConfig)})],e.prototype,"wrongObject",void 0),a([v({type:cc.Enum(d.TagConfig)})],e.prototype,"correctObject",void 0),a([v(cc.Node)],e.prototype,"wrongNode",void 0),a([v(cc.Node)],e.prototype,"correctNode",void 0),a([v(c.default)],e.prototype,"centerCollider",void 0),a([v(c.default)],e.prototype,"boxCheck",void 0),a([v(cc.Prefab)],e.prototype,"effectNew",void 0),a([v(cc.Prefab)],e.prototype,"effectSmoke",void 0),a([v(cc.Prefab)],e.prototype,"effectCoadlCollided",void 0),a([v({type:cc.Prefab,visible:function(){return this.containType==h.ContainType.SINK}})],e.prototype,"effectSmokeDirty",void 0),a([v({type:cc.Prefab,visible:function(){return this.containType==h.ContainType.SINK}})],e.prototype,"effectDirtyMucus",void 0),a([v({type:cc.Node,visible:function(){return this.containType==h.ContainType.DOOR}})],e.prototype,"effectSnowDoor",void 0),a([v(cc.Integer)],e.prototype,"total",void 0),a([v(cc.Label)],e.prototype,"lbProcess",void 0),a([v({type:cc.Prefab,visible:function(){return this.containType==h.ContainType.STOVE}})],e.prototype,"bigbang",void 0),a([v({type:cc.Node,visible:function(){return this.containType==h.ContainType.STOVE}})],e.prototype,"fire",void 0),a([v({type:cc.Node,visible:function(){return this.containType==h.ContainType.DOOR}})],e.prototype,"animShowNewDoor",void 0),a([v(cc.Boolean)],e.prototype,"activeEventContainer",void 0),a([v({type:m})],e.prototype,"_eventContainer",void 0),a([v({type:m,visible:function(){return this.activeEventContainer}})],e.prototype,"eventContainer",null),a([_],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","./ContainType":"ContainType","./SmokeGO":"SmokeGO"}],Couple:[function(t,e,o){"use strict";cc._RF.push(e,"b52e0zRO8dNV4IAoVBtAeSg","Couple");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../GameData"),s=t("../../../MainScene"),c=t("../../../config/AudioPlayId"),l=t("../../../config/GlobalSignals"),u=t("../../../config/GroupConfig"),p=t("../../../config/TagObject"),d=t("../Character"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animIdle2="idle2",e.animLose="Lose",e.animWin1="Win",e.animWin2="Win2",e.animDirty="Dirty",e.effectChangeClothes=null,e.soundIdle=null,e.soundWin=null,e.soundLose=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this),this.skeleton.setSkin("Skin1")},e.prototype.start=function(){this.onSoundColdIdle()},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onPassIntro=this.onPassIntro.bind(this),l.GlobalSignals.questFailSignal.add(this._onQuestFail),l.GlobalSignals.questPassSignal.add(this._onQuestPass),l.GlobalSignals.questPassIntro.add(this._onPassIntro)},e.prototype.onDisable=function(){l.GlobalSignals.questPassIntro.remove(this._onPassIntro),l.GlobalSignals.questPassSignal.remove(this._onQuestPass),l.GlobalSignals.questFailSignal.remove(this._onQuestFail),o._instance=null},e.prototype.onSoundColdIdle=function(){0!=r.GameData.currentLevelId?this.soundIdle=s.default.instance.audioPlayer.playAudio(c.AudioPlayId.couple_idle):this.soundIdle=s.default.instance.audioPlayer.playAudio(c.AudioPlayId.couple_intro),this.soundLose=c.AudioPlayId.couple_lose,this.soundWin=c.AudioPlayId.couple_win},e.prototype.offSoundColdIdle=function(){s.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onSoundWin=function(){s.default.instance.audioPlayer.playAudio(this.soundLose)},e.prototype.onSoundLose=function(){s.default.instance.audioPlayer.playAudio(this.soundWin)},e.prototype.onBodyCollider=function(t){t.node.group!==u.GroupConfig.DIRTY?t.node.group===u.GroupConfig.GEMS&&(t.node.name!=p.TagConfig.COIN&&t.node.name!=p.TagConfig.CANDY||(t.node.active=!1)):this.isDirty?t.node.active=!1:(this.playAnimation(this.animDirty,!0),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.couple_die_burned_dirty),this.isDirty=!0)},e.prototype.onQuestFail=function(){this.isDirty||this.stopMove(),this.isAlive&&!this.isDirty&&(this.skeleton.setSkin("Skin2"),this.showEffectChangeClothes(),this.onSoundLose(),this.playAnimation(this.animWin1,!0))},e.prototype.onQuestPass=function(){this.isDirty||this.stopMove(),this.isAlive&&!this.isDirty&&(this.onSoundWin(),this.playAnimation(this.animLose,!0))},e.prototype.onPassIntro=function(){var t=this;this.stopMove(),this.scheduleOnce(function(){t.playAnimation("Intro2",!0)},.65)},e.prototype.showEffectChangeClothes=function(){var t=cc.instantiate(this.effectChangeClothes);t.position=this.bodyCollider.node.position,t.parent=this.node},e._instance=null,a([g(cc.String)],e.prototype,"animIdle2",void 0),a([g(cc.String)],e.prototype,"animLose",void 0),a([g(cc.String)],e.prototype,"animWin1",void 0),a([g(cc.String)],e.prototype,"animWin2",void 0),a([g(cc.String)],e.prototype,"animDirty",void 0),a([g(cc.Prefab)],e.prototype,"effectChangeClothes",void 0),o=a([h],e)}(d.default);o.default=y,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../Character":"Character"}],DailyButton:[function(t,e,o){"use strict";cc._RF.push(e,"7df49ybAtNNkrPSR+NIQ5fB","DailyButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../ResUtil"),c=t("../base/SetLabelLanguage"),l=t("../ui/FlyingCoins"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=null,e.day=null,e.dailyActive=null,e.claimed=null,e.pinSkin=null,e.flyingCoins=null,e.targetPos=null,e.coinReward=null,e.pinReward=null,e}return i(e,t),e.prototype.init=function(t,e){var o=this;e!=r.GameData.receivedDaily+1?(this.node.getComponent(cc.Button).interactable=!1,e<r.GameData.receivedDaily+1&&(this.claimed.active=!0)):e==r.GameData.receivedDaily+1&&(this.dailyActive.active=!0,r.GameData.isReceivedDaily&&(this.node.getComponent(cc.Button).interactable=!1,this.claimed.active=!0,this.dailyActive.active=!1)),e%7==0&&(s.ResUtil.getSprInSprAlats("HomePin2/PopupSkin/Skin/Pin/PinList",t.skin).then(function(t){o.pinSkin.spriteFrame=t}),this.pinReward=t.skin),this.coinReward=t.coin,this.coin.string="+"+t.coin,this.day.string=c.ChangeLanguage.getText("day")+e},e.prototype.receiveReward=function(){if(this.coinReward){r.GameData.addCoin(this.coinReward),this.node.getComponent(cc.Button).interactable=!1;var t=cc.instantiate(this.flyingCoins);t.getComponent(l.default).setTarget(this.targetPos),t.parent=this.node}else this.pinReward&&r.GameData.addSkinBoss({array:r.GameData.myPinSkins,key:r.GameData.KEY_PIN_SKINS},this.pinReward,null);this.dailyActive.active=!1,this.claimed.active=!0,r.GameData.setReceivedDaily(!0);var e=Date.now();r.GameData.saveDAY(e)},a([d(cc.Label)],e.prototype,"coin",void 0),a([d(cc.Label)],e.prototype,"day",void 0),a([d(cc.Node)],e.prototype,"dailyActive",void 0),a([d(cc.Node)],e.prototype,"claimed",void 0),a([d(cc.Sprite)],e.prototype,"pinSkin",void 0),a([d(cc.Prefab)],e.prototype,"flyingCoins",void 0),a([d(cc.Node)],e.prototype,"targetPos",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../base/SetLabelLanguage":"SetLabelLanguage","../ui/FlyingCoins":"FlyingCoins"}],DailyConfig:[function(t,e,o){"use strict";cc._RF.push(e,"4f3b1erSg9CSbXBDlQD2llS","DailyConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.DailyConfig=void 0;var n=function(){function t(){}return t.get_type={coin:"coin",skin:"skin"},t.WeekPrize0=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin14"}],t.WeekPrize1=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin15"}],t.WeekPrize2=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin16"}],t.WeekPrize3=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin17"}],t}();o.DailyConfig=n,cc._RF.pop()},{}],DaughterOther:[function(t,e,o){"use strict";cc._RF.push(e,"e37ccDtao5JdYJEErdLGA9K","DaughterOther");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../GameData"),s=t("../../../Gift/SeftUtils"),c=t("../../../base/ColliderCallback"),l=t("../../../config/ActionCharacterType"),u=t("../../../config/GameConfig"),p=t("../../../config/GameState"),d=t("../../../config/GlobalSignals"),f=t("../../../config/GroupConfig"),h=t("../../../config/ItemLevelSkin"),g=t("../../../config/SkinConfig"),y=t("../../../config/TagObject"),_=t("../../../custom/SyncPosition"),v=t("../../../level/MapLevel"),m=t("../../homePin2/Libbey"),S=t("../Character"),b=t("../Mom/MomOther"),C=t("../SantaClaus/SantaClaus"),k=cc._decorator,P=k.ccclass,O=k.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attackSpider="GamePlay2/Hit_Spider",e.failAnim="Lose",e.winEgg1="Win_Egg",e.winAnim="Win3",e.sitAnim="GetCoin",e.krampusHold="Krampus_Hold",e.isAutoMove=!1,e.jumpCollider=null,e.sync=null,e.hasWeapon=!1,e._skinApplyNow=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instanceD",{get:function(){return o._instanceD},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instanceD=this,t.prototype.onLoad.call(this),this.initDaughterSkin()},e.prototype.start=function(){v.default.instance.isQuestSaveDaughter||this.initPetSkin()},e.prototype.onEnable=function(){var t=this;this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this._saveByMom=this.saveByMom.bind(this),d.GlobalSignals.questPassSignal.add(this._onQuestPass),d.GlobalSignals.questFailSignal.add(this._onQuestFail),d.GlobalSignals.collectGemsSignal.add(this._onCollectGems),d.GlobalSignals.autoMoveSignal.add(this._onAutoMove),d.GlobalSignals.daughterIsSaved.add(this._saveByMom),this.skeleton.setCompleteListener(function(e){v.default.instance.isPlaying&&e.animation.name==t.attackSpider&&(t.playAnimation(t.idleAnim,!0),t.removeSkinStickFromDaughter(),t.node.scaleX==S.default.SCALE_RIGHT?t.moveRight(t.runAnim):t.moveLeft(t.runAnim),t.skeleton.setCompleteListener(null),t.StateCharacter=l.ActionCharacterType.RUN,t.hit.active=!1)}),this.skeleton.skeletonData.getRuntimeData().AnimationStateData},e.prototype.onDisable=function(){d.GlobalSignals.questPassSignal.remove(this._onQuestPass),d.GlobalSignals.questFailSignal.remove(this._onQuestFail),d.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),d.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),d.GlobalSignals.daughterIsSaved.remove(this._saveByMom),o._instanceD=null,this.unscheduleAllCallbacks()},e.prototype.onHandCollider=function(){},e.prototype.onBodyCollider=function(t){if(this.isAlive&&v.default.instance.isPlaying)if(t.node.group===f.GroupConfig.GEMS&&v.default.instance.countGemsCollected++,t.node.group!==f.GroupConfig.LAVA)if(t.node.group!==f.GroupConfig.ITEM)if(t.node.group!==f.GroupConfig.ITEM_SEARCH){if(t.node.group===f.GroupConfig.COLLIDER){if(t.node.name==y.TagConfig.REDIRECT_RIGHT)return this.moveRight(this.runAnim),void(this.StateCharacter=l.ActionCharacterType.RUN);if(t.node.name==y.TagConfig.REDIRECT_LEFT)return this.moveLeft(this.runAnim),void(this.StateCharacter=l.ActionCharacterType.RUN);if(t.node.name==y.TagConfig.REDIRECT_STOP)return this.playAnimation(this.idleAnim,!0),void this.stopMove();var e=t.node.getComponent(y.default);if(e&&e.tag2==y.TagConfig.ROCK)return void this.onDieNormal();if(t.node.name==y.TagConfig.HIT){if(e.tag2==y.TagConfig.KRAMPUS)return void this.onKrampusCatched(t.node);if(e.tag2==y.TagConfig.BOSS||e.tag2==y.TagConfig.GIRL)return;return void this.onDieNormal()}if(t.node.name==y.TagConfig.BOMB)return void this.onDieFire()}}else t.node.name==y.TagConfig.HEATER&&v.default.instance.gameState!=p.GameState.LOSE&&d.GlobalSignals.questPassSignal.dispatch();else t.node.name==y.TagConfig.BREAD&&(t.node.active=!1,this.addSkinDaughter(h.ItemLevelSkin.ITEMHAND,"Foods/Bread"),v.default.instance.gameState!=p.GameState.LOSE&&d.GlobalSignals.questPassSignal.dispatch());else this.onDieFire()},e.prototype.onAttackCollider=function(t){var e=this;if(this.isAlive&&v.default.instance.isPlaying)return t.node.group===f.GroupConfig.ITEM&&t.node.name==y.TagConfig.CHEST?(this.stopMove(),this.rotateFaceToTarget(t.node),void this.scheduleOnce(function(){e.isAlive&&v.default.instance.isPlaying&&(v.default.instance.isCollectGems=!0,e.scheduleOnce(function(){e.isAlive&&v.default.instance.isPlaying&&(v.default.instance.gameState=p.GameState.WIN,v.default.instance.isPlaying&&v.default.instance.isQuestOpenChest&&d.GlobalSignals.questPassSignal.dispatch())},1.5))},1)):t.node.group===f.GroupConfig.ITEM_SEARCH&&(t.node.name==y.TagConfig.ITEM_SEARCH&&(this.stopMove(),d.GlobalSignals.questPassSignal.dispatch()),t.node.name==y.TagConfig.STICK)?(cc.log("Boss onAttackCollider: STICK = "+t.node.name),this.stopMove(),void this.changeSkinToStickDaughter(function(){try{e.node.scale==S.default.SCALE_RIGHT?e.moveRight(e.runAnim):e.moveLeft(e.runAnim),e.StateCharacter=l.ActionCharacterType.RUN,t.node.removeComponent(cc.PhysicsBoxCollider),t.node.removeComponent(cc.BoxCollider),t.node.removeComponent(cc.RigidBody),t.node.destroy()}catch(o){cc.warn(o)}})):t.node.group!==f.GroupConfig.CHARACTER||!this.hasWeapon||t.node.name!=y.TagConfig.BIG_SPIDER&&t.node.name!=y.TagConfig.RAT&&t.node.name!=y.TagConfig.THEIF_FAT&&t.node.name!=y.TagConfig.THEIF_THIN&&t.node.name!=y.TagConfig.WEB_SPIDER?void 0:(d.GlobalSignals.bossAttackSignal.dispatch(),void this.playAttack(t.node))},e.prototype.playAttack=function(t){var e=this;this.rotateFaceToTarget(t),this.stopMove(),this.playAnimation(this.attackSpider),this.scheduleOnce(function(){e.hit.active=!0},.2)},e.prototype.addSkinDaughter=function(t,e){s.SeftUtils.deleteSkinTemp(this.skeleton);var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentSkinDaughter),a=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentHatDaughter),c=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentShoeDaughter),l=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentGloveDaughter),u=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentEarDaughter);switch(t){case h.ItemLevelSkin.HAT:a=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_HATS,array:r.GameData.myDaughterHats},g.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setHatDaughter(e,function(){});break;case h.ItemLevelSkin.SHOE:c=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_SHOES,array:r.GameData.myDaughterShoes},g.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setShoeDaughter(e,function(){});break;case h.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_SKINS,array:r.GameData.myDaughterSkins},g.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setSkinDaughter(e,function(){});break;case h.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBossOther(r.GameData.KEY_DAUGHTER_CURRENT_EAR);break;case h.ItemLevelSkin.GLOVES:l=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBossOther(r.GameData.KEY_DAUGHTER_CURRENT_GLOVES);break;case h.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(e)}var p=new sp.spine.Skin("Temp");p.addSkin(i),a&&(p.addSkin(a),r.GameData.currentEarDaughter&&p.addSkin(u)),c&&p.addSkin(c),o&&p.addSkin(o),l&&p.addSkin(l),n&&p.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(p),this.skeleton.setSkin(p.name)},e.prototype.removeSkinDaughter=function(t){for(var e,o=this.skeleton.skeletonData.getRuntimeData().skins,n=this.skeleton.skeletonData.getRuntimeData().slots,i=0,a=o;i<a.length;i++){var r=a[i];"Temp"==r.name&&(e=r)}for(var s=0,c=n;s<c.length;s++){var l=c[s];l.name==t&&e.removeAttachment(l.index,l.attachmentName)}this.skeleton.setToSetupPose()},e.prototype.initDaughterSkin=function(){s.SeftUtils.deleteSkinTemp(this.skeleton);var t=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentSkinDaughter),e=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentHatDaughter),o=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentShoeDaughter),n=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentGloveDaughter),i=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentEarDaughter),a=new sp.spine.Skin("Temp");a.addSkin(t),e&&a.addSkin(e),o&&a.addSkin(o),n&&(r.GameData.currentSkinDaughter!=u.GameConfig.daughter_skin_default&&r.GameData.currentSkinDaughter!=g.SkinConfig.arraySkinDaughter[0].skins[0]||a.addSkin(n)),i&&(r.GameData.currentHatDaughter!=g.SkinConfig.arrayHatDaughter[0].skins[0]&&r.GameData.currentHatDaughter||a.addSkin(i)),this.skeleton.skeletonData.getRuntimeData().skins.push(a),this.skeleton.setSkin(a.name),this._skinApplyNow=a},e.prototype.saveByMom=function(t,e,n){var i=this;this.isAlive&&v.default.instance.isPlaying&&(this.rotateFaceToTarget(e),t?(o.instanceD.playAnimationGiveEgg(t,function(){i.isAlive&&(b.default.instance?b.default.instance.playAnimation("Win").addAnimation("Win2",!0):C.default.instance)}),d.GlobalSignals.daughterGiveEggSignal.dispatch(t,n)):(n(),o.instanceD.playOutAnimation(e)))},e.prototype.onSearchCollider=function(t){this.isAlive&&v.default.instance.isPlaying&&t.node.group==f.GroupConfig.ITEM_SEARCH&&(t.node.name!=y.TagConfig.ITEM_SEARCH&&t.node.name!=y.TagConfig.ITEM&&t.node.name!=y.TagConfig.STICK&&t.node.name!=y.TagConfig.HEATER||(d.GlobalSignals.bossWalkToTargetSignal.dispatch(),this.walkToTarget(t.node)))},e.prototype.playAnimationGiveEgg=function(t,e){this.isAlive||t&&v.default.instance.eggCpm.setupEgg(t.skins),this.playAnimation(this.winEgg1,!0),v.default.instance.eggCpm.node.active=!0,e()},e.prototype.playOutAnimation=function(t){this.rotateFaceToTarget(t),this.playAnimation(this.winAnim,!0)},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===f.GroupConfig.BERRIE&&this.moveJump()},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,v.default.instance.isQuestSaveDaughter||this.isAlive&&this.isGround&&v.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAlive&&!this._isAttack&&this.playAnimation(this.runAnim,!0),this.isAutoMove=!1,this.StateCharacter=l.ActionCharacterType.STOP},e.prototype.onQuestPass=function(){this.isAlive&&(v.default.instance.isQuestSaveDaughter||this.playAnimation(this.winAnim,!0),this.offSoundIdle(),this.onSoundWin())},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.failAnim,!0),this.offSoundIdle(),this.onSoundLose())},e.prototype.onDieFire=function(){this.stopMove(),this.offSoundIdle(),this.onSoundDie(),this.playAnimation(this.dieFireAnim,!0),this.slotDuplicate&&(this.slotDuplicate.enabled=!1),this.isAlive=!1;var t=v.default.instance.node.getComponentInChildren(m.default);t&&(t.node.active=!1),d.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieNormal=function(){this.stopMove(),this.offSoundIdle(),this.onSoundDie(),this.playAnimation(this.dieAnim,!1),this.isAlive=!1,d.GlobalSignals.questFailSignal.dispatch()},e.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var t=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){v.default.instance.gameState!=p.GameState.LOSE&&d.GlobalSignals.questPassSignal.dispatch()},t)},e.prototype.onKrampusCatched=function(t){var e=this;this.playAnimation(this.krampusHold,!0);var o=this.skeleton.findAnimation(this.krampusHold).duration;this.enemy=t;var n=this.enemy.convertToWorldSpaceAR(cc.Vec3.ZERO),i=this.node.parent.convertToNodeSpaceAR(n.subtract(cc.v3(this.node.scaleX>0?20:-20,30,0)));cc.tween(this.node).to(.2,{position:i},{easing:"sinOutIn"}).call(function(){e.node.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,e.enemy=t,e.schedule(function(){var t=e.enemy.convertToWorldSpaceAR(cc.Vec3.ZERO);e.node.setPosition(e.node.parent.convertToNodeSpaceAR(t.subtract(cc.v3(e.node.scaleX>0?20:-20,80,0))))},0,100,.02)}).start(),this.scheduleOnce(function(){d.GlobalSignals.questFailSignal.dispatch()},o),this.isAlive=!1,this.offSoundIdle()},e.prototype.changeSkinToStickDaughter=function(t){var e=this,o=this.skeleton.findAnimation(this.sitAnim).duration;this.playAnimation(this.sitAnim,!1),this.scheduleOnce(function(){e.hasWeapon=!0,e.addSkinDaughter(h.ItemLevelSkin.ITEMHAND,"Elements/Bloom"),e.playAnimation(e.runAnim,!0),e.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,e.attackCollider.node.active=!1;var o=e.groundCollider.node.getComponent(y.default);o&&(o.setTag(y.TagConfig.GIRL_STICK),cc.log("changeSkinToStickBoss")),e.scheduleOnce(function(){e.attackCollider.node.active=!0,e.searchCollider.refreshPingToTarget()},.1),t&&t()},o+.1)},e.prototype.removeSkinStickFromDaughter=function(){var t=this;this.scheduleOnce(function(){t.hasWeapon=!1,t.removeSkinDaughter("Elements/Element_Broom"),t.playAnimation(t.runAnim,!0);var e=t.groundCollider.node.getComponent(y.default);e&&(e.setTag(y.TagConfig.GIRL),cc.log("changSkinToNoStickGirl"))},.1)},e.prototype.onMove=function(){this.node.scaleX==S.default.SCALE_RIGHT?this.moveRight(this.runAnim):this.moveLeft(this.runAnim),this.StateCharacter=l.ActionCharacterType.RUN},e._instanceD=null,a([O(cc.String)],e.prototype,"winEgg1",void 0),a([O(cc.String)],e.prototype,"winAnim",void 0),a([O(cc.String)],e.prototype,"krampusHold",void 0),a([O(c.default)],e.prototype,"jumpCollider",void 0),a([O(_.default)],e.prototype,"sync",void 0),o=a([P],e)}(S.default);o.default=A,cc._RF.pop()},{"../../../GameData":"GameData","../../../Gift/SeftUtils":"SeftUtils","../../../base/ColliderCallback":"ColliderCallback","../../../config/ActionCharacterType":"ActionCharacterType","../../../config/GameConfig":"GameConfig","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../custom/SyncPosition":"SyncPosition","../../../level/MapLevel":"MapLevel","../../homePin2/Libbey":"Libbey","../Character":"Character","../Mom/MomOther":"MomOther","../SantaClaus/SantaClaus":"SantaClaus"}],Daughter:[function(t,e,o){"use strict";cc._RF.push(e,"5e870ChW59JzagZE6lhFneu","Daughter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../GameData"),s=t("../../../Gift/SeftUtils"),c=t("../../../config/GameConfig"),l=t("../../../config/GlobalSignals"),u=t("../../../config/GroupConfig"),p=t("../../../config/ItemLevelSkin"),d=t("../../../config/PhysicsConfig"),f=t("../../../config/SkinConfig"),h=t("../../../config/TagObject"),g=t("../../../level/MapLevel"),y=t("../../../puzzles/PuzzlesPopup"),_=t("../../../skin/SlotsSpineDuplicate"),v=t("../../more/ItemSync"),m=t("../Mom/Mom"),S=t("../MoveCtrl"),b=cc._decorator,C=b.ccclass,k=(b.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"instanceD",{get:function(){return o._instanceD},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(o._instanceD=this,this.slotDuplicate=this.node.getComponent(_.default),this.searchCollider&&g.default.instance.isMapOther&&this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this)),this.hit){var t=this.hit.getComponent(h.default);t&&(this.tagHit=t.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.handCollider&&this.handCollider.setColliderCallback(this.onHandCollider.bind(this)),this.moveCtrl=this.getComponent(S.default),this.attackDistance=this.attackCollider.getComponent(cc.BoxCollider).size.width/2,this.currentSkin=this.skeleton.defaultSkin,this.playAnimation(this.idleAnim,!0),this.stun&&(this.stun.node.active=!1),d.PhysicsConfig.initPhysicConfig(this.node,"character"),this.initDaughterSkin()},e.prototype.onDisable=function(){l.GlobalSignals.questPassSignal.remove(this._onQuestPass),l.GlobalSignals.questFailSignal.remove(this._onQuestFail),l.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),l.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),l.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty),o._instanceD=null,this.unscheduleAllCallbacks()},e.prototype.onHandCollider=function(t){var e=this;if(t.node.group===u.GroupConfig.ITEM){if(g.default.instance.isQuestCollectSkin){var o=p.ItemSkinLevel.getSkinName(g.default.instance.itemLevelSkin);return void this.runEffectItemWin(t.node,this.headCollider.node,function(){e.addSkinDaughter(g.default.instance.itemLevelSkin,o),l.GlobalSignals.questPassSignal.dispatch()},!0)}if(g.default.instance.isQuestCollectSingleItem)switch(parseInt(t.node.name,10)){case h.TagConfig.LIFEBOUY:var n=t.node.addComponent(v.default);this.runEffectItemWin(t.node,this.bodyCollider.node,function(){n.targetPos=e.elementHand,l.GlobalSignals.questPassSignal.dispatch()});break;case h.TagConfig.BREAD:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinDaughter(p.ItemLevelSkin.ITEMHAND,"Foods/Bread"),l.GlobalSignals.questPassSignal.dispatch()},!0);break;default:this.runEffectItemWin(t.node,this.bodyCollider.node,function(){l.GlobalSignals.questPassSignal.dispatch()},!0)}}},e.prototype.addSkinDaughter=function(t,e){s.SeftUtils.deleteSkinTemp(this.skeleton);var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentSkinDaughter),a=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentHatDaughter),c=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentShoeDaughter),l=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentGloveDaughter),u=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentEarDaughter);switch(t){case p.ItemLevelSkin.HAT:a=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_HATS,array:r.GameData.myDaughterHats},f.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setHatDaughter(e,function(){});break;case p.ItemLevelSkin.SHOE:c=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_SHOES,array:r.GameData.myDaughterShoes},f.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setShoeDaughter(e,function(){});break;case p.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBoss({key:r.GameData.KEY_DAUGHTER_SKINS,array:r.GameData.myDaughterSkins},f.SkinConfig.arraySkinDaughter[0].skinId,function(){}),r.GameData.setSkinDaughter(e,function(){});break;case p.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBossOther(r.GameData.KEY_DAUGHTER_CURRENT_EAR);break;case p.ItemLevelSkin.GLOVES:l=this.skeleton.skeletonData.getRuntimeData().findSkin(e),r.GameData.addSkinBossOther(r.GameData.KEY_DAUGHTER_CURRENT_GLOVES);break;case p.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(e)}var d=new sp.spine.Skin("Temp");d.addSkin(i),a&&(d.addSkin(a),r.GameData.currentEarDaughter&&d.addSkin(u)),c&&d.addSkin(c),o&&d.addSkin(o),l&&d.addSkin(l),n&&d.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(d),this.skeleton.setSkin(d.name),this.dataNewSkin=d},e.prototype.initDaughterSkin=function(){s.SeftUtils.deleteSkinTemp(this.skeleton);var t=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentSkinDaughter),e=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentHatDaughter),o=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentShoeDaughter),n=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentGloveDaughter),i=this.skeleton.skeletonData.getRuntimeData().findSkin(r.GameData.currentEarDaughter),a=new sp.spine.Skin("Temp");a.addSkin(t),e&&a.addSkin(e),o&&a.addSkin(o),n&&(r.GameData.currentSkinDaughter!=c.GameConfig.daughter_skin_default&&r.GameData.currentSkinDaughter!=f.SkinConfig.arraySkinDaughter[0].skins[0]||a.addSkin(n)),i&&(r.GameData.currentHatDaughter!=f.SkinConfig.arrayHatDaughter[0].skins[0]&&r.GameData.currentHatDaughter||a.addSkin(i)),this.skeleton.skeletonData.getRuntimeData().skins.push(a),this.skeleton.setSkin(a.name),this.dataNewSkin=a},e.prototype.onQuestPass=function(){var t=this;this.isAlive&&(this.offSoundIdle(),g.default.instance.isCollectPuzzle?y.default.instance.setPlayAnimCallBack(function(){t.playAnimation(t.winAnim).addAnimation(t.winAnim2,!0),t.onSoundWin()}):(this.onSoundWin(),g.default.instance.isQuestSaveDaughter||this.isDirty?g.default.instance.isQuestCollectSingleItem&&0==r.GameData.currentRoomId&&cc.tween(this.node).call(function(){t.playAnimation("Walk2",!0)}).by(1.2,{position:cc.v3(100,0,0)}).start():""!=this.winAnim2?this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0):this.playAnimation(this.winAnim,!0)))},e._instanceD=null,o=a([C],e)}(m.default));o.default=k,cc._RF.pop()},{"../../../GameData":"GameData","../../../Gift/SeftUtils":"SeftUtils","../../../config/GameConfig":"GameConfig","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/PhysicsConfig":"PhysicsConfig","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../puzzles/PuzzlesPopup":"PuzzlesPopup","../../../skin/SlotsSpineDuplicate":"SlotsSpineDuplicate","../../more/ItemSync":"ItemSync","../Mom/Mom":"Mom","../MoveCtrl":"MoveCtrl"}],DecorButton:[function(t,e,o){"use strict";cc._RF.push(e,"dd0f06Ev2pLCK05k5dsEOVL","DecorButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../ResUtil"),s=t("../GameData"),c=t("../config/PuzzlesConfig"),l=t("../config/GlobalSignals"),u=t("../config/RoomConfig"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=null,e.viewButton=null,e.upgradeButton=null,e.decorName="",e}return i(e,t),e.prototype.onEnable=function(){l.GlobalSignals.updateDecorButton.add(this.updateStateButton.bind(this)),this.updateStateButton()},e.prototype.onDisable=function(){l.GlobalSignals.updateDecorButton.remove(this.updateStateButton.bind(this))},e.prototype.init=function(t,e,o,n,i){var a=this;if(this.puzzleIndex=n,this.lvPuzzle=e,this.sprite=i,this.roomName=o,this.roomId=u.RoomConfig.getRoomIdByName(this.roomName),t>=4)if(e>1){this.activeBtnUpdate(!0),this.updateStateButton(),5==e&&(this.node.active=!1);var s="/HomePin2/Decor/"+o+"/Upgrade/"+this.decorName+"/lv"+e;r.ResUtil.loadSprite(s,function(t){var e=new cc.SpriteFrame;e.setTexture(t),a.sprite.spriteFrame=e})}else this.activeBtnUpdate(!0);else this.activeBtnUpdate(!1),this.count.string=t},e.prototype.upgradeSprite=function(t){var e=this;this.lvPuzzle<5&&(t&&(cc.tween(this.sprite.node).by(.2,{scale:.1}).call(function(){cc.instantiate(e.effect).parent=e.sprite.node}).by(.2,{scale:-.1}).call(function(){var t="/HomePin2/Decor/"+e.roomName+"/Upgrade/"+e.decorName+"/lv"+e.lvPuzzle;r.ResUtil.loadSprite(t,function(t){var o=new cc.SpriteFrame;o.setTexture(t),e.sprite.spriteFrame=o})}).start(),this.lvPuzzle+=1,s.GameData.addCoin(-c.PuzzlesConfig.upgradePrice),s.GameData.setUpgadeDecor(this.roomId,this.puzzleIndex,this.lvPuzzle,null),l.GlobalSignals.updateDecorButton.dispatch()),5==this.lvPuzzle&&(this.node.active=!1))},e.prototype.updateStateButton=function(){s.GameData.playerCoin<c.PuzzlesConfig.upgradePrice?(this.upgradeButton.getComponent(cc.Button).interactable=!1,this.upgradeButton.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.upgradeButton.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.upgradeButton.getComponent(cc.Button).interactable=!0,this.upgradeButton.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.upgradeButton.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")))},e.prototype.activeBtnUpdate=function(t){this.viewButton.active=!t,this.upgradeButton.active=t},e.prototype.setEffect=function(t){t&&(this.effect=t)},a([f(cc.Label)],e.prototype,"count",void 0),a([f(cc.Node)],e.prototype,"viewButton",void 0),a([f(cc.Node)],e.prototype,"upgradeButton",void 0),a([f(cc.String)],e.prototype,"decorName",void 0),a([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","../config/PuzzlesConfig":"PuzzlesConfig","../config/RoomConfig":"RoomConfig"}],DirtyGO:[function(t,e,o){"use strict";cc._RF.push(e,"86be7dhc+hBr6YJ71cx3FZ1","DirtyGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/AudioPlayId"),c=t("../../MainScene"),l=t("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"dirty")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t){if(this.available)return t.node.group===r.GroupConfig.BERRIE?(o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&(c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)))):void 0},e.isTransform=!1,e.colliderBarrieCount=0,a([d(cc.Node)],e.prototype,"border",void 0),a([d(cc.Node)],e.prototype,"drop",void 0),o=a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],DogOther:[function(t,e,o){"use strict";cc._RF.push(e,"2d3edgtatRKPb6gjF3XE7/Z","DogOther");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Enemies"),s=t("../../../config/GroupConfig"),c=t("../../../config/TagObject"),l=t("../../../config/AudioPlayId"),u=t("../../../MainScene"),p=t("../../../level/MapLevel"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eatAnim="Win",e.eatAnim2="Win2",e.isEating=!1,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.onSoundIdle()},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===s.GroupConfig.BERRIE&&this.moveJump()},e.prototype.onBodyCollider=function(t){if(this.isAlive&&!this.checkIgnoreFluid(t.node.group))if(t.node.group!==s.GroupConfig.LAVA)if(t.node.group!==s.GroupConfig.SNOW){if(t.node.group===s.GroupConfig.COLLIDER){if(t.node.name==c.TagConfig.HIT){var e=t.node.getComponent(c.default).tag2;return void(e!=c.TagConfig.FIRE_BALL&&e!=c.TagConfig.BOSS&&e!=c.TagConfig.STICK&&e!=c.TagConfig.ITEM&&e!=c.TagConfig.TRAP&&e!=c.TagConfig.ROCK&&e!=c.TagConfig.BIG_ROCK&&e!=c.TagConfig.POW&&e!=c.TagConfig.SAW&&e!=c.TagConfig.LAZE||this.onDieNormal())}if(t.node.name==c.TagConfig.TRAP)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){this.isAlive&&(this.isEating||(t.node.group!==s.GroupConfig.CHARACTER||t.node==this.groundCollider.node||t.node.name!=c.TagConfig.THEIF_THIN&&t.node.name!=c.TagConfig.THEIF_FAT&&t.node.name!=c.TagConfig.BOSS&&t.node.name!=c.TagConfig.GIRL&&t.node.name!=c.TagConfig.SANTA?t.node.group===s.GroupConfig.ITEM_SEARCH&&t.node.name==c.TagConfig.MEAT&&(this.isEating=!0,u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_eat),this.stopMove(),this.rotateFaceToTarget(t.node),this.disableCollider(),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim).addAnimation(this.eatAnim2,!0),t.node.destroy()):this.playAttack(t.node)))},e.prototype.onSearchCollider=function(t){this.isAlive&&p.default.instance.isPlaying&&!this._isAttack&&(this.isEating||(t.node.group!==s.GroupConfig.ITEM_SEARCH||t.node.name!=c.TagConfig.MEAT?t.node.group!==s.GroupConfig.CHARACTER||t.node==this.groundCollider.node||(t.node.name==c.TagConfig.BOSS||t.node.name==c.TagConfig.GIRL||t.node.name==c.TagConfig.SANTA||t.node.name==c.TagConfig.THEIF_FAT||t.node.name==c.TagConfig.THEIF_THIN?this.walkToTarget(t.node):this.addToIgnoreSearchCollier(t.node)):this.runToTarget(t.node)))},e.prototype.disableCollider=function(){this.attackCollider.node.active=!1,this.bodyCollider.node.active=!1,this.groundCollider.node.active=!1,this.searchCollider.node.active=!1},e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this)},a([h(cc.String)],e.prototype,"eatAnim",void 0),a([h(cc.String)],e.prototype,"eatAnim2",void 0),a([f],e)}(r.default);o.default=g,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","./Enemies":"Enemies"}],Dog:[function(t,e,o){"use strict";cc._RF.push(e,"3f19e8Qk9JDqLr7LacnS5JF","Dog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Enemies"),s=t("../../../config/GroupConfig"),c=t("../../../config/TagObject"),l=t("../../../config/GlobalSignals"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eatAnim="Win",e.eatAnim2="Win2",e.isEating=!1,e}return i(e,t),e.prototype.onAttackCollider=function(e,o){var n=this;this.isEating||(t.prototype.onAttackCollider.call(this,e,o),e.node.group===s.GroupConfig.ITEM&&e.node.name==c.TagConfig.MEAT&&(this.isEating=!0,this.rotateFaceToTarget(e.node),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim).addAnimation(this.eatAnim2,!0),this.scheduleOnce(function(){n.moveRight(n.walkAnim),l.GlobalSignals.questPassSignal.dispatch()},1),e.node.destroy()))},e.prototype.onHeadCollider=function(t){if(this.isAlive)return t.node.group===s.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void(t.node.group!==s.GroupConfig.ITEM||t.node.name!=c.TagConfig.CHEST&&t.node.name!=c.TagConfig.ITEM&&t.node.name!=c.TagConfig.STICK||this.onDieNormal())},e.prototype.onSearchCollider=function(e){this.isEating||t.prototype.onSearchCollider.call(this,e)},e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this)},e.prototype.disablePhysicsBody=function(){var t=this.node.getComponent(cc.RigidBody);t&&(t.type=cc.RigidBodyType.Static)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this)},a([d(cc.String)],e.prototype,"eatAnim",void 0),a([d(cc.String)],e.prototype,"eatAnim2",void 0),a([p],e)}(r.default);o.default=f,cc._RF.pop()},{"../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],Door:[function(t,e,o){"use strict";cc._RF.push(e,"884e9WF4tVBHYzGf8vYvyvq","Door");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/TagObject"),s=t("../../config/GlobalSignals"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openSprite=null,e.closeSprite=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){t.node.name==r.TagConfig.BOSS&&(this.openSprite.node.active=!0,this.closeSprite.node.active=!1,s.GlobalSignals.questPassSignal.dispatch())},a([u(cc.Sprite)],e.prototype,"openSprite",void 0),a([u(cc.Sprite)],e.prototype,"closeSprite",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject"}],ECBDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"53721N5X5hL05JMW5vEveD7","ECBDecryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBDecryptor=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){this._cipher.decryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBDecryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECBEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"33df0fiPsBKOI139kHKRo/3","ECBEncryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBEncryptor=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){this._cipher.encryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBEncryptor=a,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECB:[function(t,e,o){"use strict";cc._RF.push(e,"e4f9dlfXlNDnbs5KDhCFA3G","ECB");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECB=void 0;var a=t("./BlockCipherMode"),r=t("./ECBEncryptor"),s=t("./ECBDecryptor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Encryptor=r.ECBEncryptor,e.Decryptor=s.ECBDecryptor,e}(a.BlockCipherMode);o.ECB=c,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./ECBDecryptor":"ECBDecryptor","./ECBEncryptor":"ECBEncryptor"}],EggFoundPopup:[function(t,e,o){"use strict";cc._RF.push(e,"ce502hip49PZLZU3RCNkIxV","EggFoundPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/audio/AudioManager"),s=t("../base/GameDistribution"),c=t("../config/AudioPlayId"),l=t("../GameData"),u=t("../MainScene"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeletonEgg=null,e.countNumberEgg=null,e.btnAds=null,e._dataEggFound=null,e._cbClosePopup=null,e}return i(e,t),e.prototype.onEnable=function(){u.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_change)},e.prototype.onDisable=function(){console.log("EggFoundPopup"),this._cbClosePopup=null,this.node.removeFromParent()},e.prototype.init=function(t,e){this._dataEggFound=t;var o=l.GameData.getNumberEgg(this._dataEggFound.eggId);this.setCbClosePopup(e),this.setDisplay(t,o)},e.prototype.setDisplay=function(t,e){this.skeletonEgg.defaultSkin=t.skins,this.countNumberEgg.string=e+"/"+t.value},e.prototype.setCbClosePopup=function(t){this._cbClosePopup=t},e.prototype.onClickClosePopup=function(){this._cbClosePopup(),this.node.active=!1},e.prototype.onClickWatchAds=function(){window.setFuncGetAnotherEgg=function(){l.GameData.addEggNumber(this._dataEggFound.eggId,function(){}),this.setDisplay(this._dataEggFound,l.GameData.getNumberEgg(this._dataEggFound.eggId)),this.btnAds.active=!1}.bind(this),s.default.instance.rewardType="getAnotherEgg",s.default.instance.effectSoundState=r.default.EffectEnable,s.default.instance.musicSoundState=r.default.MusicEnable,s.default.instance.GDShowRewardedAd()},a([f(sp.Skeleton)],e.prototype,"skeletonEgg",void 0),a([f(cc.Label)],e.prototype,"countNumberEgg",void 0),a([f(cc.Node)],e.prototype,"btnAds",void 0),a([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/GameDistribution":"GameDistribution","../base/audio/AudioManager":"AudioManager","../config/AudioPlayId":"AudioPlayId"}],Egg:[function(t,e,o){"use strict";cc._RF.push(e,"a3f41IkRPNCQ4JZOe1HWxGw","Egg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.assetsEgg=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.active=!0},e.prototype.setupEgg=function(t){this.assetsEgg.defaultSkin=t,this.assetsEgg.setAnimation(0,"Idle",!0)},a([c(sp.Skeleton)],e.prototype,"assetsEgg",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Encoding:[function(t,e,o){"use strict";cc._RF.push(e,"9a7fefikc9FvrKzR1AkV9Fc","Encoding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Enemies:[function(t,e,o){"use strict";cc._RF.push(e,"c0d19Q53chFxZ8/bnKcdE1A","Enemies");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Character"),s=t("../../../config/GroupConfig"),c=t("../../../config/TagObject"),l=t("../../../level/MapLevel"),u=t("../../../base/audio/CharacterAudioSetup"),p=t("../ColliderGround"),d=t("../../../base/ColliderCallback"),f=t("../ColliderSearch"),h=t("../MoveCtrl"),g=t("../../../config/PhysicsConfig"),y=t("../../../base/audio/AudioPlayer"),_=cc._decorator,v=_.ccclass,m=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.stun=null,e.hit=null,e.idleAnim="Idle",e.runAnim="Run",e.walkAnim="Walk",e.attackAnim="Attack",e.dieAnim="Die",e.dieFireAnim="Burned",e.dieIceAnim="DieIce",e.superAppearAnim="Idle",e.audioSetup=new u.CharacterAudioSetup,e.rootCollider=null,e.groundCollider=null,e.headCollider=null,e.bodyCollider=null,e.attackCollider=null,e.searchCollider=null,e.jumpCollider=null,e.ignoreFluids=[],e._isAlive=!0,e.deadCallback=null,e.isRunning=!1,e.moveCtrl=null,e.isGround=!0,e.attackDistance=0,e._isSuper=!1,e._isAttack=!1,e.soundIdleObj=[],e.soundWinObj=[],e.soundLoseObj=[],e.soundMoveObj=[],e.soundDieObj=[],e.soundAttackObj=[],e}return i(e,t),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this._isAlive},set:function(t){var e=this;this._isAlive=t,this._isAlive||(cc.log(this.node.name+" isAlive = false"),this.deadCallback&&this.deadCallback(this.node),this.moveCtrl&&(this.moveCtrl.stopMove(),this.moveCtrl.enabled=!1),this.scheduleOnce(function(){try{e.rootCollider.active=!1}catch(t){cc.warn(t)}},.2))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.playAnimation(this.idleAnim,!0),this.stun&&(this.stun.node.active=!1),this.searchCollider&&l.default.instance.isMapOther&&(this.searchCollider.node.active=!0,this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this))),this.hit){var t=this.hit.getComponent(c.default);t&&(this.tagHit=t.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.moveCtrl=this.getComponent(h.default),g.PhysicsConfig.initPhysicConfig(this.node,"character")},e.prototype.start=function(){this.hit&&(this.hit.active=!1),this.jumpCollider&&this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this))},e.prototype.playAttack=function(t){var e=this;this._isAttack||(this._isAttack=!0,this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.onSoundAttack(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){e.isAlive&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleAnim,!0),e.hit.active=!1,e._isAttack=!1,e.stopMove(),e.searchCollider.refreshPingToTarget())}))},e.prototype.checkIgnoreFluid=function(t){return-1!=this.ignoreFluids.indexOf(t)},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===s.GroupConfig.BERRIE&&this.moveJump()},e.prototype.onGroundCollisionEnter=function(t){this.isGround=t,this.attackCollider.node.active=t,this.searchCollider&&(this.searchCollider.node.active=t),this.node.getComponent(cc.PhysicsCircleCollider).friction,t&&r.default.FRICTION},e.prototype.onHeadCollider=function(t){if(this.isAlive)return t.node.group===s.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void(t.node.group!==s.GroupConfig.ITEM||t.node.name!=c.TagConfig.CHEST&&t.node.name!=c.TagConfig.ITEM&&t.node.name!=c.TagConfig.STICK||this.onDieNormal())},e.prototype.onBodyCollider=function(t){if(this.isAlive&&!this.checkIgnoreFluid(t.node.group))if(t.node.group!==s.GroupConfig.LAVA)if(t.node.group!==s.GroupConfig.SNOW){if(t.node.group===s.GroupConfig.COLLIDER){if(t.node.name==c.TagConfig.HIT){var e=t.node.getComponent(c.default).tag2;return void(e!=c.TagConfig.FIRE_BALL&&e!=c.TagConfig.BOSS&&e!=c.TagConfig.STICK&&e!=c.TagConfig.ITEM&&e!=c.TagConfig.TRAP&&e!=c.TagConfig.ROCK&&e!=c.TagConfig.BIG_ROCK&&e!=c.TagConfig.POW&&e!=c.TagConfig.SAW&&e!=c.TagConfig.LAZE&&e!=c.TagConfig.DOG||this.onDieNormal())}if(t.node.name==c.TagConfig.GAS||t.node.name==c.TagConfig.BOMB)return void this.onDieFire()}}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){if(this.isAlive){if(cc.log(this.node.name+" onAttackCollider: "+t.node.name),t.node.group===s.GroupConfig.CHARACTER&&t.node!=this.groundCollider.node)return t.node.name==c.TagConfig.BOSS||t.node.name==c.TagConfig.GIRL||t.node.name==c.TagConfig.SANTA?void this.playAttack(t.node):(this.stopMove(),void this.playAnimation(this.idleAnim,!0));if(t.node.group===s.GroupConfig.ITEM&&t.node.name==c.TagConfig.HOLY_WATER){try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.destroy()}catch(e){cc.warn(e)}return this.stopMove(),void this.changeSkinToSuper()}}},e.prototype.changeSkinToSuper=function(){this._isSuper=!0,this.idleAnim+="2",this.attackAnim+="2",this.walkAnim+="2",this.runAnim+="2",this.hit.removeFromParent(),this.node.addChild(this.hit);var t=this.attackCollider.getComponent(cc.BoxCollider),e=this.hit.getComponent(cc.BoxCollider);this.hit.position=this.attackCollider.node.position,this.hit.angle=this.attackCollider.node.angle,e.offset=t.offset,e.size=t.size,this.playAnimation(this.superAppearAnim).addAnimation(this.idleAnim,!0)},e.prototype.onSearchCollider=function(t){this.isAlive&&l.default.instance.isPlaying&&!this._isAttack&&(t.node.group!==s.GroupConfig.CHARACTER||t.node==this.groundCollider.node||(t.node.name==c.TagConfig.BOSS||t.node.name==c.TagConfig.GIRL||t.node.name==c.TagConfig.GIRL_WONDER||t.node.name==c.TagConfig.SANTA?(this.walkToTarget(t.node),cc.log(this.node.name+" onSearchCollider: "+t.node.name)):this.addToIgnoreSearchCollier(t.node)))},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.addToIgnoreSearchCollier=function(t){this.searchCollider&&this.searchCollider.addToIgnore(t)},e.prototype.onAutoMove=function(){this.isAlive&&this.walkToTarget(null)},e.prototype.runToTarget=function(t){this.moveToTarget(t,this.runAnim)},e.prototype.walkToTarget=function(t){this.moveToTarget(t,this.walkAnim)},e.prototype.moveToTarget=function(t,e){var o=!0;if(t){var n=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),i=t.getComponent(cc.BoxCollider),a=i?i.offset.x+i.size.width/2:0;if(Math.abs(this.node.position.x-n.x)<this.attackDistance+a)return;o=this.node.position.x<n.x}else o=this.node.scaleX===r.default.SCALE_RIGHT;o?this.moveRight(e):this.moveLeft(e)},e.prototype.rotateFaceToTarget=function(t){var e=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position));this.node.position.x<e.x?this.node.scaleX=r.default.SCALE_RIGHT:this.node.scaleX=r.default.SCALE_LEFT},e.prototype.onDieFire=function(){this.stopMove(),this.playAnimation(this.dieFireAnim),this.isAlive=!1},e.prototype.moveLeft=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=r.default.SCALE_LEFT,this.moveCtrl.moveLeft(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveJump=function(){this.moveCtrl&&this.moveCtrl.moveJump()},e.prototype.stopMove=function(){this.moveCtrl&&(this.isRunning=!1,this.moveCtrl.stopMove())},e.prototype.moveRight=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=r.default.SCALE_RIGHT,this.moveCtrl.moveRight(),""!=t&&this.playAnimation(t,!0))},e.prototype.disablePhysicsBody=function(){var t=this.node.getComponent(cc.PhysicsCollider);t&&(t.enabled=!1,t.node.group=s.GroupConfig.DEAD,t.enabled=!0)},e.prototype.setDeadCallback=function(t){this.deadCallback=t},e.prototype.onDieNormal=function(){this.stopMove(),this.onSoundDie(),this.offSoundIdle(),this.playAnimation(this.dieAnim),this.isAlive=!1},e.prototype.onDieIce=function(){this.stopMove(),this.offSoundIdle(),this.onSoundDie(),this.playAnimation(this.dieIceAnim),this.isAlive=!1},e.prototype.onSoundDie=function(){this.soundDieObj=y.default.playArrAudioObj(this.audioSetup.soundDie)},e.prototype.onSoundIdle=function(){0==this.soundIdleObj.length&&(this.soundIdleObj=y.default.playArrAudioObj(this.audioSetup.soundIdle))},e.prototype.offSoundIdle=function(){y.default.stopArrAudioObj(this.soundIdleObj)},e.prototype.onSoundWin=function(){0==this.soundWinObj.length&&(this.soundWinObj=y.default.playArrAudioObj(this.audioSetup.soundWin))},e.prototype.onSoundLose=function(){this._isAlive?0==this.soundWinObj.length&&(this.soundLoseObj=y.default.playArrAudioObj(this.audioSetup.soundLose)):this.onSoundDie()},e.prototype.onSoundAttack=function(){this.soundAttackObj=y.default.playArrAudioObj(this.audioSetup.soundAttack)},e.prototype.offSoundAttack=function(){y.default.stopArrAudioObj(this.soundAttackObj)},a([m(sp.Skeleton)],e.prototype,"skeleton",void 0),a([m(sp.Skeleton)],e.prototype,"stun",void 0),a([m(cc.Node)],e.prototype,"hit",void 0),a([m(cc.String)],e.prototype,"idleAnim",void 0),a([m(cc.String)],e.prototype,"runAnim",void 0),a([m(cc.String)],e.prototype,"walkAnim",void 0),a([m(cc.String)],e.prototype,"attackAnim",void 0),a([m(cc.String)],e.prototype,"dieAnim",void 0),a([m(cc.String)],e.prototype,"dieFireAnim",void 0),a([m(cc.String)],e.prototype,"dieIceAnim",void 0),a([m(cc.String)],e.prototype,"superAppearAnim",void 0),a([m({type:u.CharacterAudioSetup})],e.prototype,"audioSetup",void 0),a([m(cc.Node)],e.prototype,"rootCollider",void 0),a([m(p.default)],e.prototype,"groundCollider",void 0),a([m(d.default)],e.prototype,"headCollider",void 0),a([m(d.default)],e.prototype,"bodyCollider",void 0),a([m(d.default)],e.prototype,"attackCollider",void 0),a([m(f.default)],e.prototype,"searchCollider",void 0),a([m(d.default)],e.prototype,"jumpCollider",void 0),a([m([cc.String])],e.prototype,"ignoreFluids",void 0),a([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../../base/ColliderCallback":"ColliderCallback","../../../base/audio/AudioPlayer":"AudioPlayer","../../../base/audio/CharacterAudioSetup":"CharacterAudioSetup","../../../config/GroupConfig":"GroupConfig","../../../config/PhysicsConfig":"PhysicsConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Character":"Character","../ColliderGround":"ColliderGround","../ColliderSearch":"ColliderSearch","../MoveCtrl":"MoveCtrl"}],EventStageLevel:[function(t,e,o){"use strict";cc._RF.push(e,"b1b1aa7fL5KM74uzc9JtnyO","EventStageLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,t("../config/GlobalSignals")),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._questStagePass=null,e._questStageFail=null,e}return i(e,t),e.prototype.onEnable=function(){this._questStagePass=this.questStagePass.bind(this),this._questStageFail=this.questStageFail.bind(this),c.GlobalSignals.questStagePass.add(this._questStagePass),c.GlobalSignals.questStageFail.add(this._questStageFail)},e.prototype.onDisable=function(){c.GlobalSignals.questStagePass.remove(this._questStagePass),c.GlobalSignals.questStageFail.remove(this._questStageFail)},e.prototype.questStagePass=function(){},e.prototype.questStageFail=function(){},a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals"}],EvpKDF:[function(t,e,o){"use strict";cc._RF.push(e,"9a3b4WMLaRGGoHpkrr1WBEx","EvpKDF"),Object.defineProperty(o,"__esModule",{value:!0}),o.EvpKDF=void 0;var n=t("../lib/WordArray"),i=t("../algo/MD5"),a=function(){function t(t){this.cfg=Object.assign({keySize:4,hasher:i.MD5,iterations:1},t)}return t.prototype.compute=function(t,e){for(var o,i=new this.cfg.hasher,a=new n.WordArray;a.words.length<this.cfg.keySize;){o&&i.update(o),o=i.update(t).finalize(e),i.reset();for(var r=1;r<this.cfg.iterations;r++)o=i.finalize(o),i.reset();a.concat(o)}return a.sigBytes=4*this.cfg.keySize,a},t}();o.EvpKDF=a,cc._RF.pop()},{"../algo/MD5":"MD5","../lib/WordArray":"WordArray"}],ExpertComponent:[function(t,e,o){"use strict";cc._RF.push(e,"740d5r2dmBPbIR/xbAlU6Xz","ExpertComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.ExpertComponent=o.BaseMasterClass=void 0;var s=cc._decorator,c=s.ccclass,l=s.property,u=t("./Supporter/supporter"),p=function(){function t(){}return t.prototype.quicklog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.supporter.log(this._log,t)},t.prototype.LogString=function(t){return this._log+t},t.prototype.assert=function(t,e){t||u.supporter.error(this._log,e)},a([c("BaseMasterClass")],t)}();o.BaseMasterClass=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.message="",e.antiDuplicate=!1,e.readme="",e}return i(e,t),e.prototype.LogString=function(t){return this._log+t},e.prototype.onLoad=function(){this.preException(),this.antiDuplicateFunction(),this.expertSelfInit(),this.init()},e.prototype.expertSelfInit=function(){this._log="["+this.constructor.name+"] Log: "},e.prototype.init=function(){},e.prototype.quicklog=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];u.supporter.log(this.LogString(t),e)},e.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.supporter.warn.apply(u.supporter,r([this._log],t))},e.prototype.logString=function(t){return this._log+t},e.prototype.antiDuplicateFunction=function(){this.assert(!this.antiDuplicate,"This `"+this.constructor.name+"` Component is marked as an Antiduplicate Component, so please override the `ExpertComponent.antiDuplicateFunction` function.")},e.prototype.assert=function(t,e){t||(this.message=e,u.supporter.error(e))},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this),this.node.stopAllActions()},a([l({readonly:!0,visible:function(){return this.message},displayName:"[MSG]",multiline:!0})],e.prototype,"message",void 0),a([l({readonly:!0,tooltip:"Enable this dude will prevent you from duplicate this `Component` in a single `Node`.",visible:function(){return this.antiDuplicate}})],e.prototype,"antiDuplicate",void 0),a([l({readonly:!0,multiline:!0,visible:function(){return this.readme.length>0}})],e.prototype,"readme",void 0),a([c],e)}(cc.Component);o.ExpertComponent=d,cc._RF.pop()},{"./Supporter/supporter":"supporter"}],FBInstantData:[function(t,e,o){"use strict";cc._RF.push(e,"09452fizKlBLom5nLmzsz3a","FBInstantData"),Object.defineProperty(o,"__esModule",{value:!0}),o.FBInstantData=void 0;var n=t("../../base/LocalStorageManager"),i=function(){function t(){}return t.getData=function(t,e){for(var o={},i=0;i<=t.length;i++)o[t[i]]=JSON.parse(n.LocalStorageManager.getItem(t[i]));e&&e(o)},t.setData=function(t,e){void 0===e&&(e=null),n.LocalStorageManager.setItem(Object.keys(t)[0],JSON.stringify(Object.values(t)[0])),e&&e(null)},t}();o.FBInstantData=i,cc._RF.pop()},{"../../base/LocalStorageManager":"LocalStorageManager"}],FCChainHelper:[function(t,e,o){"use strict";cc._RF.push(e,"93d95DOfvxHVqV7GiWfG3SJ","FCChainHelper");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.FCChainHelper=o.Num=o.Vec=o.VecOrnum=o.DataType=o.ByTo=void 0;var r,s,c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.BY=0]="BY",t[t.TO=1]="TO"})(r=o.ByTo||(o.ByTo={})),function(t){t[t.VEC=0]="VEC",t[t.NUMBER=1]="NUMBER"}(s=o.DataType||(o.DataType={}));var p=function(){function t(){this.target=void 0}return a([u({type:void 0})],t.prototype,"target",void 0),a([l("VecOrNum")],t)}();o.VecOrnum=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=cc.Vec3.ZERO,e}return i(e,t),a([u({override:!0})],e.prototype,"target",void 0),a([l("Vec")],e)}(p);o.Vec=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=0,e}return i(e,t),a([u({override:!0,type:cc.Float})],e.prototype,"target",void 0),a([l("Num")],e)}(p);o.Num=f;var h=function(){function t(){this.target=new f,this.duration=0,this.type=r.BY,this._dataType=s.NUMBER}var e;return e=t,Object.defineProperty(t.prototype,"dataType",{get:function(){return this._dataType},set:function(t){switch(this._dataType=t,t){case s.NUMBER:return void(this.target=new f);case s.VEC:return void(this.target=new d)}},enumerable:!1,configurable:!0}),t.create=function(t,o,n){var i=new e;return i.target=t,i.duration=o,i.type=n,i},a([u({type:p,visible:function(){return!!this.target}})],t.prototype,"target",void 0),a([u({min:0})],t.prototype,"duration",void 0),a([u({type:cc.Enum(r)})],t.prototype,"type",void 0),a([u({type:cc.Enum(s)})],t.prototype,"_dataType",void 0),a([u({type:cc.Enum(s)})],t.prototype,"dataType",null),e=a([l("FCChainHelper")],t)}();o.FCChainHelper=h,cc._RF.pop()},{}],FCMoveTo:[function(t,e,o){"use strict";cc._RF.push(e,"3e228I1GpBOAIZ69VJKb/Ng","FCMoveTo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./FastComponent"),s=t("./FCChainHelper"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actions=[],e.loopTime=0,e._action=null,e}return i(e,t),e.prototype.mechanic=function(){this.loopTime<=0?cc.tween(this.node).repeatForever(this._action).start():cc.tween(this.node).repeat(this.loopTime,this._action).start()},e.prototype.preException=function(){},e.prototype.init=function(){this._action=cc.tween(this.node);for(var t=0,e=this.actions;t<e.length;t++){var o=e[t];switch(o.type){case s.ByTo.BY:this._action.by(o.duration,{position:o.target.target});break;case s.ByTo.TO:this._action.to(o.duration,{position:o.target.target})}}},a([u({type:[s.FCChainHelper]})],e.prototype,"actions",void 0),a([u({type:cc.Integer,min:0})],e.prototype,"loopTime",void 0),a([l],e)}(r.FastComponent);o.default=p,cc._RF.pop()},{"./FCChainHelper":"FCChainHelper","./FastComponent":"FastComponent"}],FXButtonScale:[function(t,e,o){"use strict";cc._RF.push(e,"2b7ff1IGMNIaa7FP7Fk8sw5","FXButtonScale");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaleTo=1,e.duration=.5,e}return i(e,t),e.prototype.onEnable=function(){var t=cc.tween().to(this.duration,{scale:this.scaleTo}).to(this.duration,{scale:this.node.scale});cc.tween(this.node).repeatForever(t).start()},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.node)},e.prototype.setupCpm=function(t,e){this.scaleTo=t,this.duration=e},a([c({type:cc.Float})],e.prototype,"scaleTo",void 0),a([c({type:cc.Float})],e.prototype,"duration",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FXPrefabManager:[function(t,e,o){"use strict";cc._RF.push(e,"32ec4V2/NBDYpPo/2xlT4vr","FXPrefabManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=0,e.posTarget=null,e}return i(e,t),e.prototype.onLoad=function(){var t;this.posTarget&&(t=this.node.convertToNodeSpaceAR(this.posTarget.parent.convertToWorldSpaceAR(this.posTarget.position))),this.node.position=t||this.node.position},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.node.active=!1,t.node.removeFromParent(),t.node.destroy()},this.duration)},e.prototype.onDisable=function(){},e.prototype.onDestroy=function(){},a([c(cc.Float)],e.prototype,"duration",void 0),a([c(cc.Node)],e.prototype,"posTarget",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FXShowButton:[function(t,e,o){"use strict";cc._RF.push(e,"36343MHPuFD4YIpTgkPCxxv","FXShowButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeDelay=2.2,e.btnCpm=null,e}return i(e,t),e.prototype.onLoad=function(){this.btnCpm=this.node.getComponent(cc.Button),this.node.scale=0,this.btnCpm.interactable=!1},e.prototype.onEnable=function(){var t=this;cc.tween(this.node).delay(this.timeDelay).to(.5,{scale:1}).call(function(){t.btnCpm.interactable=!0}).start()},e.prototype.onDisable=function(){this.node.scale=0,this.btnCpm.interactable=!1,cc.Tween.stopAllByTarget(this.node)},a([c({type:cc.Float})],e.prototype,"timeDelay",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FastComponent:[function(t,e,o){"use strict";cc._RF.push(e,"72e02f2NoJO5Ju/fL5zbblf","FastComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.FastComponent=o.StartUp=void 0;var r,s=t("./ExpertComponent"),c=cc._decorator.executeInEditMode;(function(t){t[t.NO_START_UP=0]="NO_START_UP",t[t.ON_LOAD_STATE=1]="ON_LOAD_STATE",t[t.START_STATE=2]="START_STATE",t[t.ON_ENABLE_STATE=3]="ON_ENABLE_STATE",t[t.ON_LOAD_ENABLE=4]="ON_LOAD_ENABLE",t[t.ON_START_ENABLE=5]="ON_START_ENABLE"})(r=o.StartUp||(o.StartUp={}));var l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.antiDuplicate=!1,e.viewFullDetails=!0,e._temp=!1,e.start_up_state=r.NO_START_UP,e.maxRunTime=0,e.preDelayExecuting=0,e.selfLog=!0,e._runTime=0,e._totalTimeCost="",e._oned_=!1,e}return i(e,t),e.prototype.execute=function(){var t=this;this.runTimeChecker()&&this.scheduleOnce(function(){t.executeRunner(),t.selfLog&&t.executeLog()},this.preDelayExecuting)},e.prototype.executeRunner=function(){console.log("-----------------------"),this._runTime++,this.mechanic()},e.prototype.executeLog=function(){this.quicklog("EXECUTED! at "+this.node.name)},e.prototype.runTimeChecker=function(){return this.maxRunTime<=0||this._runTime<this.maxRunTime},e.prototype.onLoad=function(){switch(t.prototype.onLoad.call(this),this.start_up_state){case r.ON_LOAD_STATE:console.log("aaa"),this.execute();break;case r.ON_LOAD_ENABLE:this.execute(),this._oned_=!0}},e.prototype.start=function(){switch(this.start_up_state){case r.START_STATE:this.execute();break;case r.ON_START_ENABLE:this.execute(),this._oned_=!0}},e.prototype.onEnable=function(){switch(this.start_up_state){case r.ON_ENABLE_STATE:this.execute();break;case r.ON_LOAD_ENABLE:case r.ON_START_ENABLE:this._oned_&&this.execute()}},e.prototype.update=function(t){this.pv_update(t)},e.prototype.updateTimer=function(){this.preDelayExecuting>0&&(this._totalTimeCost="Pre-delay: "+this.preDelayExecuting+"s")},e.prototype.updater=function(){},e.prototype.pv_update=function(){},a([p({})],e.prototype,"viewFullDetails",void 0),a([p({multiline:!0,readonly:!0})],e.prototype,"_temp",void 0),a([p({tooltip:"Enable this mean you execute this `Component` on after it starting.",visible:function(){return this.viewFullDetails},type:cc.Enum(r)})],e.prototype,"start_up_state",void 0),a([p({type:cc.Integer,tooltip:"The max time this component can be executed. `0` mean it can be executed infinite times.",min:0,visible:function(){return this.viewFullDetails}})],e.prototype,"maxRunTime",void 0),a([p({tooltip:"The timer will be delay before this component casting the `execute` event.",type:cc.Float,min:0,visible:function(){return this.viewFullDetails}})],e.prototype,"preDelayExecuting",void 0),a([p({tooltip:"Uncheck this wont log something out. Maybe nothing happen",visible:function(){return this.viewFullDetails}})],e.prototype,"selfLog",void 0),a([p({readonly:!0,tooltip:"The total time this `FastCOmponent` will cost to be executed.You migth need this",visible:function(){return!!this._totalTimeCost&&this.viewFullDetails}})],e.prototype,"_totalTimeCost",void 0),a([u(),c()],e)}(s.ExpertComponent);o.FastComponent=d,cc._RF.pop()},{"./ExpertComponent":"ExpertComponent"}],FillBannerGD:[function(t,e,o){"use strict";cc._RF.push(e,"6173bc3gsFPn4BmIpx25GJx","FillBannerGD"),Object.defineProperty(o,"__esModule",{value:!0}),o.deleteChild=o.findClosestSize=void 0;var n=[{w:336,h:280},{w:300,h:250},{w:970,h:250},{w:728,h:90},{w:120,h:600},{w:160,h:600}];function i(t,e){return t.w<=e.w&&t.h<=e.h}o.findClosestSize=function(t){for(var e,o=Number.POSITIVE_INFINITY,a=0,r=n;a<r.length;a++){var s=r[a],c=s.w,l=s.h,u=Math.abs(t.w-c)+Math.abs(t.h-l);if(u<o&&i(s,t)&&(o=u,e=s),0===o)break}return e},o.deleteChild=function(){for(var t=document.getElementById("CONTAINER_ID_TO_PUT_AD_IN"),e=t.lastElementChild;e;)t.removeChild(e),e=t.lastElementChild},cc._RF.pop()},{}],FireBall:[function(t,e,o){"use strict";cc._RF.push(e,"3b75aNqdaNIOIPzvHQpdNPY","FireBall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bumPrefab=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;if(t.node.group===r.GroupConfig.BERRIE)return this.showBumEffect(),this.node.active=!1,this.node.stopAllActions(),void this.node.destroy();t.node.group===r.GroupConfig.CHARACTER&&(this.showBumEffect(),this.scheduleOnce(function(){e.node.opacity=0,e.node.stopAllActions(),cc.Tween.stopAllByTarget(e.node)},.05),this.scheduleOnce(function(){e.node.active=!1,e.node.destroy()},.2))},e.prototype.showBumEffect=function(){var t=cc.instantiate(this.bumPrefab);t.setPosition(this.node.getPosition()),t.scale=.66,this.node.getParent().addChild(t),cc.tween(t).delay(.8).call(function(){t.destroy()}).start()},e.velocityHit=500,a([l(cc.Prefab)],e.prototype,"bumPrefab",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],FixFlash:[function(t,e,o){"use strict";cc._RF.push(e,"cdb8bQk571CyaSX89Bi/eqR","FixFlash");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundSkeleton=null,e.skeleton=null,e.maskCpm=null,e}return i(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.getComponent(sp.Skeleton),this.maskCpm=this.node.getComponentInChildren(cc.Mask),this.timeAnimation=this.skeleton.findAnimation("animation").duration},e.prototype.onEnable=function(){var t=this;this.maskCpm.node.scale=1.5;var e=this.timeAnimation;cc.Tween.stopAllByTarget(this.maskCpm.node),cc.Tween.stopAllByTarget(this.backgroundSkeleton),cc.tween(this.maskCpm.node).to(.9,{scale:1}).start(),cc.tween(this.backgroundSkeleton).delay(e+.1).call(function(){t.backgroundSkeleton.active=!1}).start()},e.prototype.onDisable=function(){this.backgroundSkeleton.active=!0},e.prototype.resizeCanvas=function(){},e.prototype.setSizeBg=function(){var t=cc.winSize;this.backgroundSkeleton.width=t.width,this.backgroundSkeleton.height=t.height},a([c(cc.Node)],e.prototype,"backgroundSkeleton",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FlyingCoins:[function(t,e,o){"use strict";cc._RF.push(e,"bf9dbU+4XBJsbyx0t6tqd8S","FlyingCoins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../MainScene"),s=t("../config/AudioPlayId"),c=t("../config/GlobalSignals"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coins=null,e.targetPos=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onEnable=function(){this.flyingCoins(),r.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_coin_collect)},e.prototype.flyingCoins=function(){var t=this;cc.Tween.stopAllByTarget(this.node);for(var e=this.node.getParent().convertToNodeSpaceAR(this.targetPos.getParent().convertToWorldSpaceAR(this.targetPos.position)),o=function(o){var i=o;cc.tween(n.coins.children[i]).to(.25,{scale:1},{easing:"quintOut"}).start(),cc.tween(n.coins.children[i]).delay(.1).call(function(){t.coins.children[i].active=!0}).to(.25,{position:cc.v3(n.coins.children[i].x+n.getRandomNum(-90,90),n.coins.children[i].y+n.getRandomNum(-50,50))}).delay(.25+.05*i).to(.5,{position:cc.v3(e.x+20-n.targetPos.width,e.y-20)}).call(function(){t.coins.children[i].active=!1,i===t.coins.children.length-1&&c.GlobalSignals.coinCurrentUpdateSignal.dispatch()}).start()},n=this,i=0;i<this.coins.children.length;i++)o(i)},e.prototype.getRandomNum=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},e.prototype.setTarget=function(t){this.targetPos=t},e.prototype.onDisable=function(){this.node.destroy()},e._instance=null,a([p(cc.Node)],e.prototype,"coins",void 0),a([p(cc.Node)],e.prototype,"targetPos",void 0),o=a([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals"}],Formatter:[function(t,e,o){"use strict";cc._RF.push(e,"5d9f3i32EdJWKUr6F3ttVqY","Formatter"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FrameByFrame:[function(t,e,o){"use strict";cc._RF.push(e,"37b91uSOkFFCrubu+v1hcc9","FrameByFrame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.arrayFrames=[],e.dt=.12,e.reverse=!1,e.autoPlay=!0,e.loop=!1,e.time=0,e.anim=null,e.repeatCb=null,e.animDefault="default",e}return i(e,t),e.prototype.onLoad=function(){if(this.sprite||(this.sprite=this.node.getComponent(cc.Sprite),this.sprite)){var t=this.arrayFrames.length,e=Math.round(1/this.dt);this.time=t/e,this.reverse&&this.arrayFrames.reverse();var o=cc.AnimationClip.createWithSpriteFrames(this.arrayFrames,e);this.anim=this.sprite.node.addComponent(cc.Animation),this.anim.addClip(o,this.animDefault)}else cc.error("SpriteFrameBF: Please add Sprite Component")},e.prototype.onEnable=function(){this.autoPlay&&this.play()},e.prototype.onDisable=function(){this.stop()},e.prototype.play=function(t,e){var o=this;void 0===t&&(t=this.loop),void 0===e&&(e=1),this.anim&&(this.anim.stop(),this.anim.play(this.animDefault,0),e--,(t||e>0)&&(this.repeatCb=function(){o.play(t,e)},this.scheduleOnce(this.repeatCb,this.time)))},e.prototype.stop=function(){this.anim&&(this.anim.stop(),this.unschedule(this.repeatCb))},a([c(cc.Sprite)],e.prototype,"sprite",void 0),a([c([cc.SpriteFrame])],e.prototype,"arrayFrames",void 0),a([c(cc.Float)],e.prototype,"dt",void 0),a([c(cc.Boolean)],e.prototype,"reverse",void 0),a([c(cc.Boolean)],e.prototype,"autoPlay",void 0),a([c(cc.Boolean)],e.prototype,"loop",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FxRotationSprite:[function(t,e,o){"use strict";cc._RF.push(e,"5568eqf6/VBLbqY0j8MUklZ","FxRotationSprite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedRotation=1,e}return i(e,t),e.prototype.onEnable=function(){var t=this,e=cc.tween().to(this.speedRotation,{angle:360}).call(function(){t.node.angle=0});cc.tween(this.node).repeatForever(e).start()},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.node)},a([c({type:cc.Float})],e.prototype,"speedRotation",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FxUpgrade:[function(t,e,o){"use strict";cc._RF.push(e,"035a8FuXwpEGIn+ybGWvG61","FxUpgrade");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delaySparkle=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.delaySparkle.active=!0},.7)},a([c(cc.Node)],e.prototype,"delaySparkle",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GOPool:[function(t,e,o){"use strict";cc._RF.push(e,"3c8b01Pm6dJiZ8gPwovR+4N","GOPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.InitGoType=void 0;var r,s=cc._decorator,c=s.ccclass,l=s.property;(function(t){t[t.NODE_CHILDREN=0]="NODE_CHILDREN",t[t.NODE_POOL=1]="NODE_POOL"})(r=o.InitGoType||(o.InitGoType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._typeInit=r.NODE_CHILDREN,e.GO=null,e.quantity=0,e._goPool=new cc.NodePool,e}return i(e,t),Object.defineProperty(e.prototype,"typeInit",{get:function(){return this._typeInit},set:function(t){this._typeInit=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._typeInit==r.NODE_POOL&&this.initPool()},e.prototype.onEnable=function(){this._typeInit==r.NODE_POOL&&this.initGo()},e.prototype.initGo=function(){if(0!=this.quantity)for(var t=0;t<this.quantity;++t){var e=this.getGOInPool();e.setParent(this.node),e.setPosition(this.node.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v3())))}},e.prototype.initPool=function(){for(var t=0;t<this.quantity;++t){var e=cc.instantiate(this.GO);this._goPool.put(e)}},e.prototype.getGOInPool=function(){var t=null;return this._goPool.size()>0?t=this._goPool.get():(t=cc.instantiate(this.GO),this._goPool.put(t)),t},a([l({type:cc.Enum(r)})],e.prototype,"_typeInit",void 0),a([l({type:cc.Enum(r)})],e.prototype,"typeInit",null),a([l(cc.Prefab)],e.prototype,"GO",void 0),a([l(cc.Integer)],e.prototype,"quantity",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],GUIUtil:[function(t,e,o){"use strict";cc._RF.push(e,"96d7dsVwBhBvojHmMxxWpVf","GUIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.addClickListener=function(t,e,o,n,i){void 0===i&&(i="");var a=new cc.Component.EventHandler;a.target=e,a.component=o,a.handler=n,a.customEventData=i,t.getComponent(cc.Button).clickEvents.push(a)},t.addToggleListener=function(t,e,o,n,i){void 0===i&&(i="");var a=new cc.Component.EventHandler;a.target=e,a.component=o,a.handler=n,a.customEventData=i,t.getComponent(cc.Toggle).clickEvents.push(a)},t.getDistancePoints=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getImgBase64=function(){var t=new cc.Node;t.x=cc.visibleRect.width/2,t.y=cc.visibleRect.height/2,t.parent=cc.director.getScene();var e=t.addComponent(cc.Camera);e.backgroundColor=cc.Color.TRANSPARENT,e.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,e.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),e.targetTexture=o,e.render();var i=o.readPixels(),a=document.createElement("canvas"),r=a.getContext("2d"),s=a.width=o.width,c=a.height=o.height;a.width=o.width,a.height=o.height;for(var l=4*s,u=0;u<c;u++){for(var p=c-1-u,d=r.createImageData(s,1),f=p*s*4,h=0;h<l;h++)d.data[h]=i[f+h];r.putImageData(d,0,u)}return a.toDataURL("image/jpeg")},t.addPetForCharacter=function(t){cc.resources.load("prefabs/PetPopup/Pet",cc.Prefab,function(e,o){if(!e){var n=cc.instantiate(o);t.addChild(n)}})},t}();o.default=n,cc._RF.pop()},{}],GameConfig:[function(t,e,o){"use strict";cc._RF.push(e,"ea29aooc1FGnJ0IG5Bu1aAz","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0;var n=function(){function t(){}return t.versionData="2.1",t.boss_skin_default="Base",t.boss_hat_default="",t.boss_shoe_default="",t.boss_scarf_default="",t.boss_ear_default="",t.boss_glove_default="",t.daughter_skin_default="Base",t.daughter_hat_default="",t.daughter_shoe_default="",t.daughter_scarf_default="",t.daughter_ear_default="",t.daughter_glove_default="",t.pin_skin_default="SkinShop_PinBasic",t.coin_default=0,t.coin_level_up=100,t.coin_level_bonus=500,t.coin_watch_skin=1e3,t.coin_gift_skin=2e3,t}();o.GameConfig=n,cc._RF.pop()},{}],GameData:[function(t,e,o){"use strict";cc._RF.push(e,"25501QmpYxCcZCkmxSR9tuZ","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var n=t("./base/LocalStorageManager"),i=t("./plugins/fb/FBInstantData"),a=t("./config/GlobalSignals"),r=t("./config/RoomConfig"),s=t("./config/GameConfig"),c=t("./config/LevelConfig"),l=t("./config/ItemLevelSkin"),u=t("./config/PuzzlesConfig"),p=t("./ResUtil"),d=t("./base/utils/MathUtil"),f=t("./base/utils/ArrayUtil"),h=t("./pets/PetDataManager"),g=t("./config/PetConfig"),y=t("./StreakPopup/StreakData"),_=t("./config/SkinConfig"),v=t("./skin/SkinPopup"),m=function(){function t(){}return t.initPlayerData=function(e){var o=this;cc.log("initPlayerData");var a=n.LocalStorageManager.getItem(t.KEY_DATA);if(a){cc.log("init Data from Local");var r=JSON.parse(a);return this.setPlayerData(r),n.LocalStorageManager.removeItem(t.KEY_DATA),i.FBInstantData.setData(r),void(e&&e())}i.FBInstantData.getData([t.KEY_LEVEL,t.KEY_CURRENT_LEVEL_PUZZLE,t.KEY_LEVEL_REAL,t.KEY_ROOM,t.KEY_ITEMS_DECOR,t.KEY_CURRENT_ITEM,t.KEY_COIN,t.KEY_BOSS_CURRENT_SKIN,t.KEY_BOSS_SKINS,t.KEY_BOSS_CURRENT_HAT,t.KEY_BOSS_HATS,t.KEY_BOSS_CURRENT_SHOE,t.KEY_BOSS_SHOES,t.KEY_BOSS_CURRENT_SCARF,t.KEY_BOSS_CURRENT_GLOVES,t.KEY_BOSS_CURRENT_EAR,t.KEY_DAUGHTER_CURRENT_SKIN,t.KEY_DAUGHTER_SKINS,t.KEY_DAUGHTER_CURRENT_HAT,t.KEY_DAUGHTER_HATS,t.KEY_DAUGHTER_CURRENT_SHOE,t.KEY_DAUGHTER_CURRENT_SCARF,t.KEY_DAUGHTER_CURRENT_GLOVES,t.KEY_DAUGHTER_CURRENT_EAR,t.KEY_DAUGHTER_SHOES,t.KEY_CURRENT_PIN_SKIN,t.KEY_PIN_SKINS,t.KEY_SHOW_INTRO_4,t.KEY_DAILY,t.KEY_RECEIVED_DAILY,t.SAVEDAY,t.KEY_IS_RECEIVED,t.KEY_SHOW_INTRO,t.KEY_MESSAGE,t.KEY_CURRENT_ROOM_DECOR,t.KEY_PROCESS_GIFT,t.KEY_PETS_DATA,t.KEY_CURRENT_PET,t.KEY_EGGS_DATA,t.KEY_CURRENT_STREAK_ID,t.KEY_VERSION_DATA,t.KEY_SKIN_TRIAL_COUNTING,t.KEY_CURRENT_LANG,t.KEY_ENABLE_STEAK_POPUP],function(t){o.setPlayerData(t),e&&e()},function(){o.setPlayerData({}),e&&e()})},t.setPlayerData=function(e){this.currentLevelId=this.getValue(e,t.KEY_LEVEL,0),this.currentLevelIdReal=this.getValue(e,t.KEY_LEVEL_REAL,0),this.currentRoomId=this.getValue(e,t.KEY_ROOM,0),this.currentRoomDecor=this.getValue(e,t.KEY_CURRENT_ROOM_DECOR,this.currentRoomId),this.currentLevelPuzzle=this.getValue(e,t.KEY_CURRENT_LEVEL_PUZZLE,Math.floor(Math.random()*c.LevelConfig.levelsPuzzle.length)),this.previousLevelPuzzle=this.currentLevelPuzzle,this.currentItem=this.getValue(e,t.KEY_CURRENT_ITEM,d.default.randomInt(r.RoomConfig.rooms[this.currentRoomId].size-1)),this.arrayItemsDecor=this.getValue(e,t.KEY_ITEMS_DECOR,f.default.initArrayByLength(r.RoomConfig.rooms.length)),this.arrayItemsInRoom=r.RoomConfig.getItemsDecorInRoom(this.currentRoomId,this.arrayItemsDecor),this.currentProcessGift=this.getValue(e,t.KEY_PROCESS_GIFT,0),this.playerCoin=this.getValue(e,t.KEY_COIN,0),this.currentCoin=this.playerCoin,this.showIntro=this.getValue(e,t.KEY_SHOW_INTRO,!1),this.showIntroLevel4=this.getValue(e,t.KEY_SHOW_INTRO_4,!1),this.showMessage=this.getValue(e,t.KEY_MESSAGE,!1),this.currentSkinBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SKIN,s.GameConfig.boss_skin_default),this.myBossSkins=this.getValue(e,t.KEY_BOSS_SKINS,[]),this.currentHatBoss=this.getValue(e,t.KEY_BOSS_CURRENT_HAT,s.GameConfig.boss_hat_default),this.myBossHats=this.getValue(e,t.KEY_BOSS_HATS,[]),this.currentShoeBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SHOE,s.GameConfig.boss_shoe_default),this.myBossShoes=this.getValue(e,t.KEY_BOSS_SHOES,[]),this.currentScarfBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SCARF,s.GameConfig.boss_scarf_default),this.currentGloveBoss=this.getValue(e,t.KEY_BOSS_CURRENT_GLOVES,s.GameConfig.boss_glove_default),this.currentEarBoss=this.getValue(e,t.KEY_BOSS_CURRENT_EAR,s.GameConfig.boss_ear_default),this.currentSkinDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_SKIN,s.GameConfig.daughter_skin_default),this.myDaughterSkins=this.getValue(e,t.KEY_DAUGHTER_SKINS,[]),this.currentHatDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_HAT,s.GameConfig.daughter_hat_default),this.myDaughterHats=this.getValue(e,t.KEY_DAUGHTER_HATS,[]),this.currentShoeDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_SHOE,s.GameConfig.daughter_shoe_default),this.currentScarfDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_SCARF,s.GameConfig.daughter_scarf_default),this.currentGloveDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_GLOVES,s.GameConfig.daughter_glove_default),this.currentEarDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_EAR,s.GameConfig.daughter_ear_default),this.myDaughterShoes=this.getValue(e,t.KEY_DAUGHTER_SHOES,[]),this.currentPinSkin=this.getValue(e,t.KEY_CURRENT_PIN_SKIN,s.GameConfig.pin_skin_default),this.myPinSkins=this.getValue(e,t.KEY_PIN_SKINS,[]),this.currentDaily=this.getValue(e,t.KEY_DAILY,0),this.receivedDaily=this.getValue(e,t.KEY_RECEIVED_DAILY,0),this.isReceivedDaily=this.getValue(e,t.KEY_IS_RECEIVED,!1),this.setCurrentDay(e),this.CurrentPet=h.PetDataManager.ConvertDataPet(this.getValue(e,t.KEY_CURRENT_PET,"")),this.myPets=h.PetDataManager.ConvertToArrDataPet(this.getValue(e,t.KEY_PETS_DATA,"")),this.myEggs=h.PetDataManager.ConvertToArrDataEgg(this.getValue(e,t.KEY_EGGS_DATA,"")),this.currentStreakId=this.getValue(e,t.KEY_CURRENT_STREAK_ID,-1),this.skinsTrialCounting=this.getValue(e,t.KEY_SKIN_TRIAL_COUNTING,[]);var o=this.getValue(e,t.KEY_ENABLE_STEAK_POPUP,null);if(this.enableStreakPopup=this.checkEnableStreakPopup(o),y.default.arrAllSkinsUnowned=_.SkinConfig.getAllSkinsUnowned(),y.default.arrSkinTrialCounting=this.skinsTrialCounting,this.currentLanguage=this.getValue(e,t.KEY_CURRENT_LANG,"EN"),this.versionDataLocal=this.getValue(e,t.KEY_VERSION_DATA,""),""==this.versionDataLocal&&this.currentLevelId>=71){this.currentLevelId=71;var n={};n[t.KEY_LEVEL]=this.currentLevelId,i.FBInstantData.setData(n),this.saveVersionData(s.GameConfig.versionData)}else this.saveVersionData(s.GameConfig.versionData)},t.checkEnableStreakPopup=function(t){return t?((new Date).getTime()-t.currentTime)/864e5>=1?{enable:!0,currentTime:(new Date).getTime()}:{enable:!1,currentTime:t.currentTime}:{enable:!0,currentTime:(new Date).getTime()}},t.saveEnableStreakPopup=function(e){this.enableStreakPopup=e;var o={};o[t.KEY_ENABLE_STEAK_POPUP]=e,i.FBInstantData.setData(o)},t.saveCurrentLang=function(e){this.currentLanguage=e;var o={};o[t.KEY_CURRENT_LANG]=this.currentLanguage,i.FBInstantData.setData(o)},t.saveVersionData=function(e){this.versionDataLocal=e;var o={};o[t.KEY_VERSION_DATA]=this.versionDataLocal,i.FBInstantData.setData(o)},t.saveStreakId=function(){this.currentStreakId+=1,this.currentStreakId>y.default.arrayStreakPoint.length-1&&(this.currentStreakId=0);var e={};e[t.KEY_CURRENT_STREAK_ID]=this.currentStreakId,i.FBInstantData.setData(e)},t.setStreakId=function(e){this.currentStreakId=e;var o={};o[t.KEY_CURRENT_STREAK_ID]=this.currentStreakId,i.FBInstantData.setData(o)},t.saveSkinTrialCounting=function(e,o){var n=this.skinsTrialCounting.findIndex(function(t){return t.skinTrialInfo.skinId==e.skinTrialInfo.skinId});-1!=n?0==e.currentTime?(this.skinsTrialCounting.splice(n,1),t.setCurrentPin(s.GameConfig.pin_skin_default,function(){})):this.skinsTrialCounting[n].currentTime=e.currentTime:this.skinsTrialCounting.push(e);var a={};a[t.KEY_SKIN_TRIAL_COUNTING]=this.skinsTrialCounting,i.FBInstantData.setData(a,o)},t.saveLevelUp=function(){this.currentLevelId++,this.saveLevelReal();var e={};e[t.KEY_LEVEL]=this.currentLevelId,i.FBInstantData.setData(e)},t.saveLevelReal=function(){this.currentLevelId<c.LevelConfig.ArrMergerAllLevel.length&&(this.currentLevelIdReal=this.currentLevelId),this.setLevelReal(this.currentLevelIdReal)},t.setLevelReal=function(e){this.currentLevelIdReal=e;var o={};o[t.KEY_LEVEL_REAL]=this.currentLevelIdReal,i.FBInstantData.setData(o)},t.saveCoin=function(e){this.playerCoin=e,a.GlobalSignals.coinUpdateSignal.dispatch();var o={};o[t.KEY_COIN]=e,i.FBInstantData.setData(o)},t.saveShowIntro=function(){var e={};e[t.KEY_SHOW_INTRO]=!0,i.FBInstantData.setData(e)},t.saveShowMessage=function(){var e={};e[t.KEY_MESSAGE]=!0,i.FBInstantData.setData(e)},t.saveShowIntro4=function(){var e={};this.showIntroLevel4=!0,e[t.KEY_SHOW_INTRO_4]=!0,i.FBInstantData.setData(e)},t.addCoin=function(t){this.saveCoin(this.playerCoin+t)},t.addRoomItem=function(t){if(this.arrayItemsInRoom=r.RoomConfig.getItemsDecorInRoom(this.currentRoomId,this.arrayItemsDecor),this.arrayItemsInRoom[this.currentItem].puzzles.push(t),u.PuzzlesConfig.checkDone(this.arrayItemsInRoom[this.currentItem].puzzles))if(this.checkCompleteRoom(this.arrayItemsInRoom))this.checkCompleteRoom(this.arrayItemsInRoom)&&this.currentRoomId<r.RoomConfig.rooms.length&&(this.saveItemDecor(this.arrayItemsInRoom,this.currentRoomId),this.setCurrentRoom(this.currentRoomId+1,null));else{var e=p.ResUtil.convertArr(this.arrayItemsInRoom);this.currentItem=p.ResUtil.getRandomLeftArr(e,r.RoomConfig.rooms[this.currentRoomId].size),(this.currentItem||0==this.currentItem)&&(this.arrayItemsInRoom[this.currentItem]={puzzles:[],lv:1},this.saveItemDecor(this.arrayItemsInRoom,this.currentRoomId),this.setCurrentItem(this.currentItem,function(){}))}else this.saveItemDecor(this.arrayItemsInRoom,this.currentRoomId),this.setCurrentItem(this.currentItem,function(){})},t.saveItemDecor=function(e,o){var n;this.arrayItemsDecor[o]=e,i.FBInstantData.setData(((n={})[t.KEY_ITEMS_DECOR]=this.arrayItemsDecor,n))},t.initArrayItemsInRoom=function(){this.arrayItemsInRoom[this.currentItem]={puzzles:[],lv:1}},t.resetDataRoom=function(){this.arrayItemsInRoom=this.arrayItemsDecor[this.currentRoomId];var t=d.default.randomInt(r.RoomConfig.rooms[this.currentRoomId].size-1);this.setCurrentItem(t,null)},t.setSkinBoss=function(e,o){if(this.currentSkinBoss!==e){this.currentSkinBoss=e;var n={};n[t.KEY_BOSS_CURRENT_SKIN]=this.currentSkinBoss,i.FBInstantData.setData(n,o)}},t.setHatBoss=function(e,o){if(this.currentHatBoss!==e){this.currentHatBoss=e;var n={};n[t.KEY_BOSS_CURRENT_HAT]=this.currentHatBoss,i.FBInstantData.setData(n,o)}},t.setShoeBoss=function(e,o){if(this.currentShoeBoss!==e){this.currentShoeBoss=e;var n={};n[t.KEY_BOSS_CURRENT_SHOE]=this.currentShoeBoss,i.FBInstantData.setData(n,o)}},t.setSkinDaughter=function(e,o){if(this.currentSkinDaughter!==e){this.currentSkinDaughter=e;var n={};n[t.KEY_DAUGHTER_CURRENT_SKIN]=this.currentSkinDaughter,i.FBInstantData.setData(n,o)}},t.setHatDaughter=function(e,o){if(this.currentHatDaughter!==e){this.currentHatDaughter=e;var n={};n[t.KEY_DAUGHTER_CURRENT_HAT]=this.currentHatDaughter,i.FBInstantData.setData(n,o)}},t.setShoeDaughter=function(e,o){if(this.currentShoeDaughter!==e){this.currentShoeDaughter=e;var n={};n[t.KEY_DAUGHTER_CURRENT_SHOE]=this.currentShoeDaughter,i.FBInstantData.setData(n,o)}},t.setCurrentSkinByType=function(t,e,o){switch(e){case v.Person.Mom:switch(o){case _.SkinType.CLOTHES_MOM:this.setSkinBoss(t,null);break;case _.SkinType.HAT_MOM:this.setHatBoss(t,null);break;case _.SkinType.SHOES_MOM:this.setShoeBoss(t,null)}break;case v.Person.Child:switch(o){case _.SkinType.CLOTHES_DAUGHTER:this.setSkinDaughter(t,null);break;case _.SkinType.HAT_DAUGHTER:this.setHatDaughter(t,null);break;case _.SkinType.SHOES_DAUGHTER:this.setShoeDaughter(t,null)}break;case v.Person.Pin:this.setCurrentPin(t,null)}},t.addSkinBoss=function(t,e,o){if(-1==t.array.indexOf(e)){switch(t.array.push(e),t.key){case this.KEY_BOSS_HATS:this.myBossHats=t.array;break;case this.KEY_BOSS_SKINS:this.myBossSkins=t.array;break;case this.KEY_BOSS_SHOES:this.myBossShoes=t.array;break;case this.KEY_DAUGHTER_HATS:this.myDaughterHats=t.array;break;case this.KEY_DAUGHTER_SKINS:this.myDaughterSkins=t.array;break;case this.KEY_DAUGHTER_SHOES:this.myDaughterShoes=t.array;break;case this.KEY_PIN_SKINS:this.myPinSkins=t.array}var n={};n[t.key]=t.array,i.FBInstantData.setData(n,o)}else cc.log("myBossSkins already contains this skinId")},t.addSkinBossOther=function(e){var o={};switch(e){case t.KEY_BOSS_CURRENT_SCARF:o[e]=this.currentScarfBoss=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.SCARF);break;case t.KEY_BOSS_CURRENT_GLOVES:o[e]=this.currentGloveBoss=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.GLOVES);break;case t.KEY_BOSS_CURRENT_EAR:o[e]=this.currentEarBoss=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.EAR);break;case t.KEY_DAUGHTER_CURRENT_SCARF:o[e]=this.currentScarfDaughter=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.SCARF);break;case t.KEY_DAUGHTER_CURRENT_GLOVES:o[e]=this.currentGloveDaughter=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.GLOVES);break;case t.KEY_DAUGHTER_CURRENT_EAR:o[e]=this.currentEarDaughter=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.EAR)}i.FBInstantData.setData(o)},t.addPinSkin=function(e,o,n){if(-1==e.array.indexOf(o)){e.array.push(o),this.myPinSkins=e.array;var a={};a[t.KEY_PIN_SKINS]=e.array,i.FBInstantData.setData(a,n)}else cc.log("myPinSkin already contains this skinId")},t.setCurrentPin=function(e,o){this.currentPinSkin=e;var n={};n[t.KEY_CURRENT_PIN_SKIN]=this.currentPinSkin,i.FBInstantData.setData(n,o)},t.setCurrentItem=function(e,o){this.currentItem=e;var n={};n[t.KEY_CURRENT_ITEM]=this.currentItem,i.FBInstantData.setData(n,o)},t.setCurrentLevelPuzzle=function(){var e=Math.floor(Math.random()*c.LevelConfig.levelsPuzzle.length);this.currentLevelPuzzle=e;var o={};o[t.KEY_CURRENT_LEVEL_PUZZLE]=e,i.FBInstantData.setData(o,null)},t.setUpgadeDecor=function(e,o,n){if(e==t.currentRoomId)return t.arrayItemsInRoom[o].lv=n,void this.saveItemDecor(t.arrayItemsInRoom,t.currentRoomId);var i=this.arrayItemsDecor[e];i[o].lv=n,this.saveItemDecor(i,e)},t.setCurrentRoom=function(e,o){e>r.RoomConfig.rooms.length-1?this.currentRoomId=r.RoomConfig.rooms.length-1:(this.currentRoomId=e,this.resetDataRoom()),this.setCurrentRoomDecor(this.currentRoomId);var n={};n[t.KEY_ROOM]=this.currentRoomId,i.FBInstantData.setData(n,o)},t.setCurrentRoomDecor=function(e){this.currentRoomDecor=e;var o={};o[t.KEY_CURRENT_ROOM_DECOR]=this.currentRoomDecor,i.FBInstantData.setData(o)},t.clearData=function(){var e={};e[t.KEY_LEVEL]=0,e[t.KEY_ROOM]=0,e[t.KEY_ITEMS_DECOR]=[],e[t.KEY_COIN]=0,i.FBInstantData.setData(e),n.LocalStorageManager.removeItem(t.KEY_DATA)},t.checkItemCollected=function(e){var o=e.itemConfig;return o.roomId-1<t.currentRoomId||o.roomId-1===t.currentRoomId&&-1!=t.arrayItemsInRoom.indexOf(o.itemId)},Object.defineProperty(t,"isCreatShortcut",{get:function(){var e=n.LocalStorageManager.getItem(t.KEY_SHORTCUT);return!!e&&"true"===e},set:function(e){n.LocalStorageManager.setItem(t.KEY_SHORTCUT,e?"true":"false")},enumerable:!1,configurable:!0}),t.getValue=function(t,e,o){return""===t[e]||null===t[e]||void 0===t[e]?o:t[e]},t.saveReceivedDaily=function(){this.receivedDaily+=1;var e={};e[t.KEY_RECEIVED_DAILY]=this.receivedDaily,i.FBInstantData.setData(e)},t.saveDAY=function(e){var o={};o[t.KEY_DAILY]=e,i.FBInstantData.setData(o)},t.checkCompleteRoom=function(t){for(var e=0,o=0;o<t.length;o++)t[o]&&4==t[o].puzzles.length&&e++;return e==r.RoomConfig.rooms[this.currentRoomId].size},t.setCurrentDay=function(e){this.saveDay=this.getValue(e,t.SAVEDAY,null),this.saveDay&&(Date.now(),Date.now()-this.saveDay>=864e5&&1==this.isReceivedDaily&&(this.setReceivedDaily(!1),this.saveReceivedDaily()))},t.setReceivedDaily=function(e){var o={};this.isReceivedDaily=e,o[t.KEY_IS_RECEIVED]=this.isReceivedDaily,i.FBInstantData.setData(o)},t.saveProcessGift=function(e){var o;this.currentProcessGift=e,i.FBInstantData.setData(((o={})[t.KEY_PROCESS_GIFT]=this.currentProcessGift,o))},t.addPet=function(e,o){if(!this.checkHavePet(e.petId)){this.myPets.push(e);var n={};n[t.KEY_PETS_DATA]=JSON.stringify(this.myPets),i.FBInstantData.setData(n,o)}},t.addExpPet=function(e,o,n,r){for(var s,c,l=null,u=!1,p=0;p<this.myPets.length;p++){var d=this.myPets[p];if(d.petId==e){l=d,d.petExp++;var f="Level"+d.petLevel,g=h.PetDataManager.getMaxExpLevel(f);d.petExp==g&&(d.petLevel++,d.petExp=0,u=!0);break}}n(l,u),r&&(this.playerCoin+=r,i.FBInstantData.setData(((s={})[t.KEY_COIN]=this.playerCoin,s)),a.GlobalSignals.coinUpdateSignal.dispatch()),i.FBInstantData.setData(((c={})[t.KEY_PETS_DATA]=JSON.stringify(this.myPets),c),o)},t.addLevelPet=function(e,o,n){void 0===n&&(n=!0);for(var a=0;a<this.myPets.length;a++){var r=this.myPets[a];r.petId==e&&r.petLevel++}var s={};s[t.KEY_PETS_DATA]=JSON.stringify(this.myPets),i.FBInstantData.setData(s,o)},t.checkHavePet=function(t){for(var e=0;e<this.myPets.length;e++)if(this.myPets[e].petId==t)return!0;return!1},t.checkMaxNumPet=function(t){for(var e=g.PetConfig.getEggConfigById(t),o=0;o<this.myEggs.length;o++){var n=this.myEggs[o];return n.eggId==t?n.eggNumber>=e.value:null}},t.addEggNumber=function(e,o){if(!this.checkHaveEgg(e)){var n=new h.EggData;return n.eggId=e,n.eggNumber=1,void this.addEgg(n,o)}for(var a=0;a<this.myEggs.length;a++){var r=this.myEggs[a];r.eggId==e&&r.eggNumber++}var s={};s[t.KEY_EGGS_DATA]=JSON.stringify(this.myEggs),i.FBInstantData.setData(s,o)},t.addEgg=function(e,o){this.myEggs.push(e);var n={};n[t.KEY_EGGS_DATA]=JSON.stringify(this.myEggs),i.FBInstantData.setData(n,o)},t.checkHaveEgg=function(t){for(var e=0;e<this.myEggs.length;e++)if(this.myEggs[e].eggId==t)return!0;return!1},t.getNumberEgg=function(t){for(var e=0;e<this.myEggs.length;e++){var o=this.myEggs[e];if(o.eggId==t)return o.eggNumber}return 0},t.getMyPetWithId=function(e){for(var o=0;o<t.myPets.length;o++){var n=t.myPets[o];if(n.petId==e)return n}return null},t.setCurrentPet=function(e,o){this.CurrentPet=e;var n={};n[t.KEY_CURRENT_PET]=JSON.stringify(this.CurrentPet),i.FBInstantData.setData(n,function(){o()})},t.KEY_DATA="hp2_data",t.KEY_SHORTCUT="hp2_shortcut",t.KEY_MESSAGE="hp2_message",t.KEY_LEVEL="hp2_level_id",t.KEY_LEVEL_REAL="hp2_level_real",t.KEY_CURRENT_LEVEL_PUZZLE="hp2_level_puzzle",t.KEY_ROOM="hp2_room",t.KEY_ITEMS_DECOR="hp2_items_decor",t.KEY_CURRENT_ITEM="hp2_currentDecor",t.KEY_COIN="hp2_coin",t.KEY_BOSS_CURRENT_SKIN="hp2_boss_current_skin",t.KEY_BOSS_SKINS="hp2_boss_skins",t.KEY_BOSS_CURRENT_HAT="hp2_boss_current_hat",t.KEY_BOSS_HATS="hp2_boss_hats",t.KEY_BOSS_CURRENT_SHOE="hp2_boss_current_shoe",t.KEY_BOSS_SHOES="hp2_boss_shoes",t.KEY_BOSS_CURRENT_SCARF="hp2_boss_current_SCARF",t.KEY_BOSS_CURRENT_EAR="hp2_boss_current_EAR",t.KEY_BOSS_CURRENT_GLOVES="hp2_boss_current_GLOVES",t.KEY_DAUGHTER_CURRENT_SKIN="hp2_daughter_current_skin",t.KEY_DAUGHTER_SKINS="hp2_daughter_skins",t.KEY_DAUGHTER_CURRENT_HAT="hp2_daughter_current_hat",t.KEY_DAUGHTER_HATS="hp2_daughter_hats",t.KEY_DAUGHTER_CURRENT_SHOE="hp2_daughter_current_shoe",t.KEY_DAUGHTER_SHOES="hp2_daughter_shoes",t.KEY_DAUGHTER_CURRENT_SCARF="hp2_daughter_current_SCARF",t.KEY_DAUGHTER_CURRENT_EAR="hp2_daughter_current_EAR",t.KEY_DAUGHTER_CURRENT_GLOVES="hp2_daughter_current_GLOVES",t.KEY_CURRENT_PIN_SKIN="hp2_current_pin_skin",t.KEY_PIN_SKINS="hp2_pin_skins",t.KEY_SHOW_INTRO="hp2_Intro",t.KEY_SHOW_INTRO_4="hp2_Intro4",t.KEY_DAILY="hp2_daily_reward",t.KEY_RECEIVED_DAILY="hp2_received_daily",t.SAVEDAY="hp2_daily_reward",t.KEY_IS_RECEIVED="hp2_is_reward_daily",t.KEY_PROCESS_GIFT="process_gift",t.KEY_ROOM_DATA="hp2_room_data",t.KEY_CURRENT_ROOM_DECOR="hp2_current_room_decor",t.KEY_PETS_DATA="hp2_pet_data",t.KEY_EGGS_DATA="hp2_egg_data",t.KEY_CURRENT_PET="hp2_current_pet",t.KEY_CURRENT_STREAK_ID="hp2_current_steak_id",t.KEY_SKIN_TRIAL_COUNTING="hp2_skin_trial_counting",t.KEY_ENABLE_STEAK_POPUP="hp2_enable_streak",t.KEY_CURRENT_LANG="hp2_current_lang",t.KEY_VERSION_DATA="hp2_version_data",t.currentLevelId=0,t.currentLevelIdReal=0,t.currentRoomId=0,t.currentItem=0,t.currentLevelPuzzle=0,t.previousLevelPuzzle=0,t.showIntro=!1,t.showIntroLevel4=!1,t.showMessage=!1,t.myBossSkins=[],t.currentSkinBoss=s.GameConfig.boss_skin_default,t.myBossHats=[],t.currentHatBoss=s.GameConfig.boss_hat_default,t.myBossShoes=[],t.currentShoeBoss=s.GameConfig.boss_shoe_default,t.currentScarfBoss=s.GameConfig.boss_scarf_default,t.currentGloveBoss=s.GameConfig.boss_glove_default,t.currentEarBoss=s.GameConfig.boss_ear_default,t.myDaughterSkins=[],t.currentSkinDaughter=s.GameConfig.daughter_skin_default,t.myDaughterHats=[],t.currentHatDaughter=s.GameConfig.daughter_hat_default,t.myDaughterShoes=[],t.currentShoeDaughter=s.GameConfig.daughter_shoe_default,t.currentScarfDaughter=s.GameConfig.daughter_scarf_default,t.currentGloveDaughter=s.GameConfig.daughter_glove_default,t.currentEarDaughter=s.GameConfig.daughter_ear_default,t.currentPinSkin=s.GameConfig.pin_skin_default,t.myPinSkins=[],t.arrayItemsDecor=[],t.arrayItemsInRoom=[],t.currentRoomDecor=0,t.currentProcessGift=0,t.playerCoin=0,t.currentCoin=0,t.coinStickBonus=0,t.currentDaily=0,t.receivedDaily=0,t.saveDay=0,t.isReceivedDaily=!1,t.CurrentPet=null,t.myPets=[],t.myEggs=[],t.CURRENT_VERSION_CODE=2,t.DELTA_TIME=1/60,t.doneRoom0=!1,t.currentStreakId=0,t.skinsTrialCounting=[],t.enableStreakPopup=null,t.currentLanguage="",t.isInitData=!1,t.versionDataLocal="",t}();o.GameData=m,cc._RF.pop()},{"./ResUtil":"ResUtil","./StreakPopup/StreakData":"StreakData","./base/LocalStorageManager":"LocalStorageManager","./base/utils/ArrayUtil":"ArrayUtil","./base/utils/MathUtil":"MathUtil","./config/GameConfig":"GameConfig","./config/GlobalSignals":"GlobalSignals","./config/ItemLevelSkin":"ItemLevelSkin","./config/LevelConfig":"LevelConfig","./config/PetConfig":"PetConfig","./config/PuzzlesConfig":"PuzzlesConfig","./config/RoomConfig":"RoomConfig","./config/SkinConfig":"SkinConfig","./pets/PetDataManager":"PetDataManager","./plugins/fb/FBInstantData":"FBInstantData","./skin/SkinPopup":"SkinPopup"}],GameDistribution:[function(t,e,o){"use strict";cc._RF.push(e,"d6e7f5bchpKgrQNRdzr5v3+","GameDistribution");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../PlayScreen"),c=t("../config/GameConfig"),l=t("./audio/AudioManager"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardType="",e.isPlayAd=!1,e.isStartPlay=!0,e.effectSoundState=!0,e.musicSoundState=!0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,window.GD_OPTIONS={gameId:"f5ddfe5f7abc4632911a687d668b3b95",onEvent:function(t){switch(t.name){case"SDK_READY":"undefined"!==gdsdk&&"undefined"!==gdsdk.preloadAd&&(gdsdk.preloadAd("interstitial").then(function(){o.instance.effectSoundState=l.default.EffectEnable,o.instance.musicSoundState=l.default.MusicEnable,o.instance.rewardType="",o.instance.isStartPlay=!1,o.instance.GDShowAd()}).catch(function(){}),o.instance.preloadInterstitialAd(),o.instance.preloadRewardAd()),window.gdsdk.showAd(window.gdsdk.AdType.Display,{containerId:"CONTAINER_ID_TO_PUT_AD_IN"}).then(function(){return console.info("showAd(window.gdsdk.AdType.Display) resolved.")}).catch(function(t){return console.info(t)});break;case"SDK_GAME_START":cc.director.resume(),l.default.EffectEnable=o.instance.effectSoundState,l.default.MusicEnable=o.instance.effectSoundState;break;case"SDK_GAME_PAUSE":cc.director.pause(),l.default.EffectEnable=!1,l.default.MusicEnable=!1;break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"ALL_ADS_COMPLETED":if(console.log("\x1b[40m\x1b[37m\x1b[1m ALL_ADS_COMPLETED \x1b[0m\x1b[0m"),console.log(o.instance.rewardType),"receiveBonus"==o.instance.rewardType){var e=c.GameConfig.coin_level_bonus;cc.log("onClickShowAdsToReceiveBonus: bonus = "+e),r.GameData.addCoin(e),s.default.instance.nextLevel(null,!0),s.default.instance.showToastReward(e,.5,0)}else"skip"==o.instance.rewardType?(r.GameData.saveLevelUp(),s.default.instance.nextLevel(null,!0)):"receiveCoinsSKin"==o.instance.rewardType?(e=c.GameConfig.coin_watch_skin,r.GameData.addCoin(e)):"watchRandomSkin"==o.instance.rewardType?window.setFuncClaimSkin():"getAnotherPuzzle"==o.instance.rewardType?window.setFuncGetAnotherPuzzle():"getAnotherEgg"==o.instance.rewardType?window.setFuncGetAnotherEgg():"keepStreak"==o.instance.rewardType&&window.setFuncKeepStreak();o.instance.rewardType="";break;case"AD_SDK_CANCELED":console.log("\x1b[40m\x1b[37m\x1b[1m AD_SDK_CANCELED \x1b[0m\x1b[0m"),o.instance.rewardType="";break;case"AD_ERROR":o.instance.rewardType=""}}}},e.prototype.GDShowAd=function(){(0,window.GD_OPTIONS.onEvent)({name:"ALL_ADS_COMPLETED"}),"undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd&&gdsdk.showAd("interstitial")},e.prototype.GDShowRewardedAd=function(){(0,window.GD_OPTIONS.onEvent)({name:"ALL_ADS_COMPLETED"}),"undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd&&gdsdk.showAd("rewarded")},e.prototype.preloadRewardAd=function(){},e.prototype.preloadInterstitialAd=function(){},e._instance=null,o=a([p],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../config/GameConfig":"GameConfig","./audio/AudioManager":"AudioManager"}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"dacfbcWrcNM+o3V07171I9u","GameState"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=void 0,function(t){t[t.BEGIN=0]="BEGIN",t[t.PLAYING=1]="PLAYING",t[t.WIN=2]="WIN",t[t.LOSE=3]="LOSE"}(o.GameState||(o.GameState={})),cc._RF.pop()},{}],GasGO:[function(t,e,o){"use strict";cc._RF.push(e,"588442xVPdBnYyvqUV0nR/N","GasGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.force=6e3,e.timeFly=0,e}return i(e,t),e.prototype.start=function(){this.timeFly=2*Math.random()},e.prototype.update=function(t){if(this.timeFly-=t,this.timeFly<=0){var e=this.force*(2*Math.random()-1),o=this.force*(2*Math.random()-1);this.body.applyForceToCenter(cc.v2(e,o),!0),this.timeFly=1}},a([c(cc.RigidBody)],e.prototype,"body",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GemsGO:[function(t,e,o){"use strict";cc._RF.push(e,"49758X5lA1HN6r8+iXJWmeX","GemsGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.Vec3,s=t("../../level/MapLevel"),c=t("../../config/AudioPlayId"),l=t("../../config/GroupConfig"),u=t("../../MainScene"),p=t("../../config/PhysicsConfig"),d=t("../../config/TagObject"),f=cc._decorator,h=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){p.PhysicsConfig.initPhysicConfig(this.node,"gems")},e.prototype.start=function(){o.transformCount=0,o.colliderBarrieCount=0},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t,e){if(this.available){if(t.node.group===l.GroupConfig.LAVA)return this.available=!1,s.default.instance.countGemsDestroyed++,this.startTransform(),void this.node.destroy();if(t.node.group!==l.GroupConfig.COLLIDER){if(t.node.group===l.GroupConfig.BERRIE||t.node.group===l.GroupConfig.ROCK)return o.colliderBarrieCount++,6===o.colliderBarrieCount&&(u.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_gems),this.scheduleOnce(function(){o.colliderBarrieCount=0},.2)),void(e.node.name==d.TagConfig.CANDY&&2===o.colliderBarrieCount&&(u.default.instance.audioPlayer.playAudio(c.AudioPlayId.candy_drop),this.scheduleOnce(function(){o.colliderBarrieCount=0},.2)));t.node.group,l.GroupConfig.WALL}else if(t.node.name==d.TagConfig.BOMB){var n=t.node.getComponent(d.default).tag2;if(n==d.TagConfig.GROUND){var i=cc.v2(this.node.position.x,this.node.position.y);return i=cc.v2(1e5*i.x,1e5*i.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(i,!0)}if(n==d.TagConfig.NONE)return s.default.instance.countGemsDestroyForBomb++,void(this.node.active=!1)}}},e.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&s.default.instance.isPlaying&&u.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_lava_x_water)},e.prototype.updatePositionToTarget=function(){if(this.node.getParent()){var t=this.node.getParent().convertToNodeSpaceAR(this.target.getParent().convertToWorldSpaceAR(this.target.position)),e=new r(t.x,t.y+20,0),o=this.node.position;Math.abs(o.x-e.x)<10&&Math.abs(o.y-e.y)<10?this.node.destroy():this.node.position=o.lerp(e,.1)}},e.prototype.moveToTarget=function(t,e){var o=this;this.scheduleOnce(function(){s.default.instance.isCollectGems&&(o.target=t,o.node.removeComponent(cc.RigidBody),o.node.removeComponent(cc.PhysicsCollider),o.schedule(o.updatePositionToTarget.bind(o)))},e)},e.transformCount=0,e.colliderBarrieCount=0,o=a([h],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],GemsPool:[function(t,e,o){"use strict";cc._RF.push(e,"420batOFCJMka+Gx/ETcTXT","GemsPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GlobalSignals"),s=t("./GemsGO"),c=t("../character/Mom/MomOther"),l=t("../character/Daughter/DaughterOther"),u=t("../character/Theif/TheifOther"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this._collectByCharacter=this.collectByCharacter.bind(this),r.GlobalSignals.collectGemsSignal.add(this._collectByCharacter),this._collectByEnemies=this.collectByEnemies.bind(this),r.GlobalSignals.enemiesCollectGemsSignal.add(this._collectByEnemies)},e.prototype.onDisable=function(){r.GlobalSignals.collectGemsSignal.remove(this._collectByCharacter),r.GlobalSignals.enemiesCollectGemsSignal.remove(this._collectByEnemies)},e.prototype.collectByCharacter=function(){var t=c.default.instance||l.default.instanceD;this.node.children.forEach(function(e,o){e.getComponent(s.default).moveToTarget(t.node,.25+.02*o)})},e.prototype.collectByEnemies=function(){var t=u.default.instance;this.node.children.forEach(function(e,o){e.getComponent(s.default).moveToTarget(t.node,.25+.02*o)})},a([d],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../character/Daughter/DaughterOther":"DaughterOther","../character/Mom/MomOther":"MomOther","../character/Theif/TheifOther":"TheifOther","./GemsGO":"GemsGO"}],GiftProcess:[function(t,e,o){"use strict";cc._RF.push(e,"7574ftlcrpHqqZtvJsGuF/t","GiftProcess");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../skin/UnlockNewSkin"),c=t("./BoxGift"),l=t("./ProcessBar"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.processbar=null,e.stateFrame=null,e.delayEventTime=0,e.boxGift=null,e.popUpReward=null,e.isReward=!1,e.increaseRate=0,e.numChange=0,e.numOld=0,e.instRewardPopup=null,e._cbDoneReward=null,e}return i(e,t),e.prototype.onEnable=function(){this.initPopupReward(),this.boxGift.resetState(),this.processbar.setDisplayProcess(this.numOld),this.fc_schedule=function(){var t=this;this.processbar.setupProcess(function(){t.checkReward(),null!=t._cbDoneReward&&t.numChange<100&&t._cbDoneReward()},this.numChange,this.numOld)}.bind(this),this.scheduleOnce(this.fc_schedule,this.delayEventTime)},e.prototype.onDisable=function(){this.unschedule(this.fc_schedule)},e.prototype.setupRate=function(){this.increaseRate=10},e.prototype.updateProcessGift=function(t){this._cbDoneReward=t,this.setupRate(),this.numOld=r.GameData.currentProcessGift,this.numChange=r.GameData.currentProcessGift+=this.increaseRate,this.saveData()},e.prototype.checkReward=function(){var t=this;this.numChange<100?(this.isReward=!1,this.boxGift.setState(c.StateBoxGift.IDLE)):(this.boxGift.setState(c.StateBoxGift.OPEN,function(){var e=t.instRewardPopup.getComponent(s.default);e.setEventAffterOpen(function(){null!=t._cbDoneReward&&t._cbDoneReward()}),e.setActive(!0)}),this.isReward=!0)},e.prototype.saveData=function(){r.GameData.currentProcessGift<100?r.GameData.saveProcessGift(r.GameData.currentProcessGift):r.GameData.saveProcessGift(0)},e.prototype.initPopupReward=function(){null==this.instRewardPopup&&(this.instRewardPopup=cc.instantiate(this.popUpReward),this.instRewardPopup.setParent(this.node.parent)),this.instRewardPopup.active=!1},e.prototype.showPopupReward=function(){this.instRewardPopup.active=!0},a([d(l.default)],e.prototype,"processbar",void 0),a([d(sp.Skeleton)],e.prototype,"stateFrame",void 0),a([d(cc.Integer)],e.prototype,"delayEventTime",void 0),a([d(c.default)],e.prototype,"boxGift",void 0),a([d(cc.Prefab)],e.prototype,"popUpReward",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../skin/UnlockNewSkin":"UnlockNewSkin","./BoxGift":"BoxGift","./ProcessBar":"ProcessBar"}],GlobalSignals:[function(t,e,o){"use strict";cc._RF.push(e,"d7e33gGPwZO5rCuV5Ept4/A","GlobalSignals"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalSignals=void 0;var n=t("../base/Signal"),i=function(){function t(){}return t.coinUpdateSignal=new n.Signal,t.coinCurrentUpdateSignal=new n.Signal,t.collectGemsSignal=new n.Signal,t.autoMoveSignal=new n.Signal,t.enemiesCollectGemsSignal=new n.Signal,t.questFailSignal=new n.Signal,t.questPassSignal=new n.Signal,t.questPassIntro=new n.Signal,t.questStagePass=new n.Signal,t.questStageFail=new n.Signal,t.playAnimPlayerSignal=new n.Signal,t.castleUpgradeSignal=new n.Signal,t.changeSkinBossSignal=new n.Signal,t.changeSkinDaughterSignal=new n.Signal,t.updateDecorButton=new n.Signal,t.successStep=new n.Signal,t.removeStep=new n.Signal,t.updateToggleSound=new n.Signal,t.changeSkinPetSignal=new n.Signal,t.bossAttackSignal=new n.Signal,t.bossWalkToTargetSignal=new n.Signal,t.daughterGiveEggSignal=new n.Signal,t.daughterIsSaved=new n.Signal,t.characterChangeState=new n.Signal,t.resizeCanvas=new n.Signal,t.buySkinItem=new n.Signal,t.UpdateTimeTrialSkin=new n.Signal,t.UpdateCurrentLanguage=new n.Signal,t}();o.GlobalSignals=i,cc._RF.pop()},{"../base/Signal":"Signal"}],GroupConfig:[function(t,e,o){"use strict";cc._RF.push(e,"fa95d9uKKlENZRSJSsK4VfL","GroupConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GroupConfig=void 0,function(t){t.DEFAULT="default",t.LAVA="lava",t.BERRIE="berrie",t.GEMS="gems",t.TOUCH="touch",t.CHARACTER="character",t.WATER="water",t.DIRTY="dirty",t.SNOW="snow",t.ROCK="rock",t.ITEM="item",t.COLLIDER="collider",t.SMOKE="smoke",t.COAL="coal",t.DEAD="dead",t.WOOD="wood",t.MATCHBOX="MatchBox",t.BALL="Ball",t.WALL="wall",t.ITEM_SEARCH="item-search"}(o.GroupConfig||(o.GroupConfig={})),cc._RF.pop()},{}],Guide:[function(t,e,o){"use strict";cc._RF.push(e,"59e4eFOo2pOKo0g8Z7snpfq","Guide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../hand/Hand"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handPriorityArr=[],e.stepNumber=1,e.stepNode=null,e}return i(e,t),e.prototype.onLoad=function(){this.activeStep(),r.GlobalSignals.removeStep.add(this.removeStep.bind(this)),r.GlobalSignals.successStep.add(this.successStep.bind(this))},e.prototype.activeStep=function(){if(this.handPriorityArr.length)for(var t=0;t<this.handPriorityArr.length;t++){var e=this.handPriorityArr[t];e.name=(t+1).toString(),0==t?(e.getComponent(s.default).setActiveHand(),this.stepNode=e):e.active=!1}},e.prototype.successStep=function(){var t=this.stepNode.getComponent(s.default).getActiveStickOnHand();this.stepNode.active=t,this.stepNode.active||(this.removeStep(),this.stepNumber++)},e.prototype.removeStep=function(){this.handPriorityArr.shift(),this.activeStep()},e.prototype.onDisable=function(){r.GlobalSignals.removeStep.remove(this.removeStep.bind(this)),r.GlobalSignals.successStep.remove(this.successStep.bind(this))},a([u([cc.Node])],e.prototype,"handPriorityArr",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../hand/Hand":"Hand"}],Hand:[function(t,e,o){"use strict";cc._RF.push(e,"6a4b81IUr9IupU9KOMqBRPL","Hand");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../objects/barrier/StickHold"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickHold=null,e}return i(e,t),e.prototype.setActiveHand=function(){this.stickHold&&(this.node.active=this.stickHold.getComponent(r.default)._active)},e.prototype.getActiveStickOnHand=function(){return this.stickHold.getComponent(r.default)._active},a([l(cc.Node)],e.prototype,"stickHold",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../objects/barrier/StickHold":"StickHold"}],Hasher:[function(t,e,o){"use strict";cc._RF.push(e,"1ce7bQAEo5GwqN1P8O2GU7b","Hasher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Hasher=void 0;var a=function(t){function e(e){var o=t.call(this,Object.assign({blockSize:16},e))||this;return o.reset(),o}return i(e,t),e._createHelper=function(t){return function(e,o){return new t(o).finalize(e)}},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e}(t("../lib/BufferedBlockAlgorithm").BufferedBlockAlgorithm);o.Hasher=a,cc._RF.pop()},{"../lib/BufferedBlockAlgorithm":"BufferedBlockAlgorithm"}],Hex:[function(t,e,o){"use strict";cc._RF.push(e,"c6ade/e3RxN56M3AatxdO1q","Hex"),Object.defineProperty(o,"__esModule",{value:!0}),o.Hex=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var n=t.words[o>>>2]>>>24-o%4*8&255;e.push((n>>>4).toString(16)),e.push((15&n).toString(16))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],i=0;i<e;i+=2)o[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new n.WordArray(o,e/2)},t}();o.Hex=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],HomeScreen:[function(t,e,o){"use strict";cc._RF.push(e,"573e4h+CpRNaq7XKhg4C1Rb","HomeScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./MainScene"),s=t("./config/AudioPlayId"),c=t("./GameData"),l=t("./ResUtil"),u=t("./room/MyRoom"),p=t("./base/GameDistribution"),d=t("./base/audio/AudioManager"),f=t("./config/RoomConfig"),h=t("./PlayScreen"),g=t("./base/LanguageController"),y=cc._decorator,_=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.roomRoot=null,e.uiRoot=null,e.topUI=null,e.botUI=null,e.blockInput=null,e.btnRoom=null,e.backgroundMusic=null,e.firstInitStartGame=!0,e.visibleRoomId=-1,e.uiMoving=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onEnable=function(){cc.log("HomeScreen onEnable"),0===this.roomRoot.childrenCount&&this.loadCurrentRoom(c.GameData.currentRoomDecor),c.GameData.currentRoomId<1?this.btnRoom.active=!0:this.btnRoom.active=!1,!c.GameData.isReceivedDaily&&h.default.instance&&(h.default.instance.isContinue||r.default.instance.showDailyPopup()),p.default.instance.preloadInterstitialAd(),p.default.instance.preloadRewardAd()},e.prototype.onDisable=function(){this.backgroundMusic&&(r.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null)},e.prototype.activeHomeUI=function(){this.uiRoot.active=!0,this.updateTxtLevel(),g.default.addLabelChangeLanguage(this.updateTxtLevel.bind(this)),this.backgroundMusic||(this.backgroundMusic=r.default.instance.audioPlayer.playAudio(s.AudioPlayId.background_home,!0))},e.prototype.updateTxtLevel=function(){this.levelLabel.string=g.default.getText("level")+c.GameData.currentLevelId},e.prototype.initOpenItem=function(t,e){var o=this;this.uiRoot.active=!1,this.roomRoot.removeAllChildren(),this.loadCurrentRoom(c.GameData.currentRoomId,function(){var n=o.roomRoot.children[0].getComponent(u.default);n&&n.openItem(t,e)})},e.prototype.loadCurrentRoom=function(t,e){var o=this;void 0===e&&(e=null),this.loadRoom(t,function(){e&&e(),o.firstInitStartGame&&(o.firstInitStartGame=!1)})},e.prototype.loadRoom=function(t,e){var o=this;void 0===e&&(e=null),r.default.instance.showLoading(),l.ResUtil.loadRoomById(t,function(n){r.default.instance.hideLoading();var i=null;0===o.roomRoot.childrenCount?(i=cc.instantiate(n),o.visibleRoomId=t,o.roomRoot.addChild(i)):f.RoomConfig.getRoomIdByName(o.roomRoot.children[0].name)!==t?(o.roomRoot.removeAllChildren(),i=cc.instantiate(n),o.visibleRoomId=t,o.roomRoot.addChild(i)):i=o.roomRoot.children[0];var a=i.getComponent(u.default);e&&e(a||null)})},e.prototype.playGame=function(){p.default.instance.effectSoundState=d.default.EffectEnable,p.default.instance.musicSoundState=d.default.MusicEnable,p.default.instance.GDShowAd(),null!=r.default.instance.loadLevelCallback?(r.default.instance.showLoading(),r.default.instance.loadLevelCallback=function(){r.default.instance.showGamePlayScreen(),r.default.instance.hideLoading()}):r.default.instance.showGamePlayScreen()},e.prototype.onClickSetting=function(){r.default.instance.showSettingPopup()},e.prototype.onClickSelectRoom=function(){r.default.instance.showSelectRoomPopup()},e.prototype.onClickOutfit=function(){r.default.instance.showSkinPopup()},e.prototype.onClickDaily=function(){r.default.instance.showDailyPopup()},e.prototype.onClickPet=function(){r.default.instance.showPetPopup()},e.prototype.hideUI=function(){var t=this;this.uiMoving=!0,this.blockInput.active=!0,this.scheduleOnce(function(){t.blockInput&&(t.blockInput.active=!1)},.3),this.topUI.y+=200,this.botUI.y-=400,this.roomRoot.children[0].getComponent(u.default).openPopupItems()},e.prototype.showUI=function(){var t=this;this.topUI.active=!0,this.botUI.active=!0,this.blockInput.active=!0,cc.tween(this.topUI).by(.3,{position:cc.v3(0,-200,0)}).call(function(){t.blockInput.active=!1}).start(),cc.tween(this.botUI).by(.3,{position:cc.v3(0,400,0)}).start(),this.roomRoot.children[0].getComponent(u.default).closePopupItems(),this.uiMoving=!1},e.prototype.updateUI=function(){this.uiMoving&&(this.topUI.active=!1,this.botUI.active=!1)},e._instance=null,a([v(cc.Label)],e.prototype,"levelLabel",void 0),a([v(cc.Node)],e.prototype,"roomRoot",void 0),a([v(cc.Node)],e.prototype,"uiRoot",void 0),a([v(cc.Node)],e.prototype,"topUI",void 0),a([v(cc.Node)],e.prototype,"botUI",void 0),a([v(cc.Node)],e.prototype,"blockInput",void 0),a([v(cc.Node)],e.prototype,"btnRoom",void 0),o=a([_],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./GameData":"GameData","./MainScene":"MainScene","./PlayScreen":"PlayScreen","./ResUtil":"ResUtil","./base/GameDistribution":"GameDistribution","./base/LanguageController":"LanguageController","./base/audio/AudioManager":"AudioManager","./config/AudioPlayId":"AudioPlayId","./config/RoomConfig":"RoomConfig","./room/MyRoom":"MyRoom"}],Husband:[function(t,e,o){"use strict";cc._RF.push(e,"a820cKao2BPEohOVMS+1UD7","Husband");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../config/GlobalSignals"),s=t("../../../config/GroupConfig"),c=t("../Character"),l=t("../../../base/ColliderCallback"),u=t("../../../level/MapLevel"),p=t("../../../config/TagObject"),d=t("../../more/Ring"),f=t("../../more/ItemSync"),h=cc._decorator,g=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jumpCollider=null,e.winAnim="",e.winAnim2="",e.failAnim="",e.failAnim1="",e.loopAnimFail=!1,e.dirtyAnim="",e.isAutoMove=!1,e._onQuestPass=null,e._onQuestFail=null,e._onAutoMove=null,e._onDirty=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this)},e.prototype.start=function(){this.hit&&(this.hit.active=!1),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.onSoundIdle()},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onDirty=this.onDirty.bind(this),r.GlobalSignals.questPassSignal.add(this._onQuestPass),r.GlobalSignals.questFailSignal.add(this._onQuestFail),r.GlobalSignals.autoMoveSignal.add(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.add(this._onDirty)},e.prototype.onDisable=function(){r.GlobalSignals.questPassSignal.remove(this._onQuestPass),r.GlobalSignals.questFailSignal.remove(this._onQuestFail),r.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty),o._instance=null},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onQuestPass=function(){this.isAlive&&(this.offSoundIdle(),this.onSoundWin(),u.default.instance.isQuestSaveDaughter||this.isDirty||(""!=this.winAnim2?this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0):this.playAnimation(this.winAnim,!0)))},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(""!=this.failAnim1?this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0):this.playAnimation(this.failAnim,this.loopAnimFail),this.offSoundIdle(),this.onSoundLose())},e.prototype.onGroundCollisionEnter=function(e){t.prototype.onGroundCollisionEnter.call(this,e),this.isAutoMove&&this.isAlive&&this.isGround&&u.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},e.prototype.onHeadCollider=function(t){if(this.isAlive)return t.node.group===s.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},e.prototype.onBodyCollider=function(){this.isAlive&&u.default.instance.isPlaying},e.prototype.onAttackCollider=function(t){this.isAlive&&u.default.instance.isPlaying&&(t.node.group,s.GroupConfig.CHARACTER)},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===s.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},e.prototype.onSearchCollider=function(t){this.isAlive&&u.default.instance.isPlaying&&(cc.log("other.node.name: "+t.node.name),t.node.group!==s.GroupConfig.CHARACTER||(t.node,this.node))},e.prototype.onHandCollider=function(t){var e=this;if(this.isAlive&&u.default.instance.isPlaying)if(t.node.group!==s.GroupConfig.COLLIDER||t.node.name!=p.TagConfig.BOMB)if(t.node.name!=p.TagConfig.RING){if(t.node.name==p.TagConfig.TEDDY){var o=t.node.addComponent(f.default);return t.node.zIndex=1,void this.runEffectItemWin(t.node,this.elementHand,function(){r.GlobalSignals.questPassSignal.dispatch(),o.setTargetPos(e.elementHand)},!1)}}else{var n=t.node.getComponent(d.default);this.runEffectItemWin(t.node,this.elementHand,function(){r.GlobalSignals.questPassSignal.dispatch(),n&&(n.setTargetPos(e.elementHand),n.changeState(!0))},!1)}else this.onDieFire()},e.prototype.runEffectItemWin=function(t,e,o,n){var i=t.parent.convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),a=Math.abs(t.angle%360);t.angle=a;var r;r=a<180?0:360,t.getComponent(cc.RigidBody).fixedRotation=!0,t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var s=cc.tween().to(.5,{angle:r,scale:1.2}),c=cc.tween().to(.5,{scale:1});t.removeComponent(cc.BoxCollider),cc.tween(t).sequence(s,c).repeat(2).delay(.5).to(.3,{position:i}).call(function(){o(),n&&(t.active=!1)}).start()},e.prototype.onDieNormal=function(){this.stopMove(),this.isAlive=!1,this.stun.node.active=!0,this.playAnimation(this.dieAnim),r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieFire=function(){this.stopMove(),this.offSoundIdle(),this.onSoundDie(),this.playAnimation(this.dieFireAnim,!0),this.slotDuplicate&&(this.slotDuplicate.enabled=!1),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim,!1),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDirty=function(){this.isDirty=!0,this.playAnimation(this.dirtyAnim,!0),r.GlobalSignals.questFailSignal.dispatch(),this.offSoundIdle()},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&u.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAutoMove=!1},e._instance=null,a([y(l.default)],e.prototype,"jumpCollider",void 0),a([y(cc.String)],e.prototype,"winAnim",void 0),a([y(cc.String)],e.prototype,"winAnim2",void 0),a([y(cc.String)],e.prototype,"failAnim",void 0),a([y(cc.String)],e.prototype,"failAnim1",void 0),a([y({visible:function(){return""==this.failAnim1}})],e.prototype,"loopAnimFail",void 0),a([y(cc.String)],e.prototype,"dirtyAnim",void 0),o=a([g],e)}(c.default);o.default=_,cc._RF.pop()},{"../../../base/ColliderCallback":"ColliderCallback","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/ItemSync":"ItemSync","../../more/Ring":"Ring","../Character":"Character"}],ICharacterCollider:[function(t,e,o){"use strict";cc._RF.push(e,"155836eOTtDl5t03fvj3xTX","ICharacterCollider"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IconQuest:[function(t,e,o){"use strict";cc._RF.push(e,"2a68fO1KYZNaruNiQMRMCHc","IconQuest");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.IconQuest=void 0;var i=t("../config/QuestType"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(){function t(){this.questType=i.QuestType.COLLECT_CANDY,this.icon=null}return n([s({type:cc.Enum(i.QuestType)})],t.prototype,"questType",void 0),n([s(cc.SpriteFrame)],t.prototype,"icon",void 0),n([r("IconQuest")],t)}();o.IconQuest=c,cc._RF.pop()},{"../config/QuestType":"QuestType"}],IntroController:[function(t,e,o){"use strict";cc._RF.push(e,"fe878txHCxOPKpXHLg6Es57","IntroController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameData"),s=t("./HomeScreen"),c=t("./MainScene"),l=t("./PlayScreen"),u=t("./ResUtil"),p=t("./config/AudioPlayId"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mother=null,e.isFinish=!1,e.cb_finish_intro=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.Animation).on("finished",this.onFinishedIntro,this)},e.prototype.onDisable=function(){this.node.getComponent(cc.Animation).off("finished",this.onFinishedIntro,this)},e.prototype.PlaySoundIntro=function(){},e.prototype.PlayCoupleScene1=function(){},e.prototype.PlayMotherScene1=function(){},e.prototype.PlayCoupleScene2=function(){},e.prototype.PlayMotherScene2=function(){},e.prototype.onFinishedIntro=function(){this.isFinish||(r.GameData.saveLevelUp(),r.GameData.saveShowIntro(),u.ResUtil.loadRoomById(1),l.default.instance.loadCurrentLevel(),l.default.instance.ui.active=!0,this.node.destroy())},e.prototype.walkAnim=function(){this.mother.addAnimation(0,"Walk2",!0)},e.prototype.standAnim=function(){var t=this,e=this.mother.findAnimation("Pot_Win3").duration;this.mother.addAnimation(0,"Pot_Win3",!1),this.scheduleOnce(function(){t.mother.addAnimation(0,"Pot_Win4",!1)},e)},e.prototype.loadRoom=function(){var t=this;r.GameData.saveShowIntro4(),r.GameData.setCurrentRoom(1),u.ResUtil.loadRoomById(1),r.GameData.doneRoom0=!0,l.default.instance.gotoHomeScreen();var e=this;this.scheduleOnce(function(){s.default.instance.loadRoom(1,function(t){t.showNotiTip()}),e.cb_finish_intro&&e.cb_finish_intro(),t.node.destroy()},.6)},e.prototype.onDestroy=function(){this.cb_finish_intro=null},e.prototype.setCbFinishedIntro=function(t){this.cb_finish_intro=t},e.prototype.onSoundGetout=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.couple_win)},e.prototype.onSoundMomCry=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.mom_crying)},e.prototype.onSoundCoupleGoodBey=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.couple_goodbey)},e.prototype.onSoundPackageHit=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.package_hit)},e.prototype.onSoundRain=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.rain)},e.prototype.onSoundCoupleSmile=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.boy_simle)},e.prototype.onSoundWind=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_wind)},e.prototype.onSoundKeyDoor=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_key_dor)},a([h(sp.Skeleton)],e.prototype,"mother",void 0),a([h(cc.Boolean)],e.prototype,"isFinish",void 0),a([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./PlayScreen":"PlayScreen","./ResUtil":"ResUtil","./config/AudioPlayId":"AudioPlayId"}],ItemChest:[function(t,e,o){"use strict";cc._RF.push(e,"681e1NSsvhH4pIVVIjWga3a","ItemChest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/GlobalSignals"),c=t("../../base/ColliderCallback"),l=t("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.dieAnim="Fire",e.openAnim="Animation",e.gemsPrefab=null,e.firePrefab2=null,e.collider=null,e.isAlive=!0,e}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"chest")},e.prototype.start=function(){this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(this.isAlive)return t.node.group===r.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void s.GlobalSignals.questFailSignal.dispatch()):void 0},e.prototype.openItem=function(){var t=this;this.playAnimation(this.openAnim,!1);var e=this.skeleton.findAnimation(this.openAnim).duration;this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){var e=cc.instantiate(t.gemsPrefab);e.position=cc.Vec3.ZERO,t.node.addChild(e)},e)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.showFireEffect=function(){if(this.firePrefab2){var t=cc.instantiate(this.firePrefab2);t.setPosition(0,0),t.scale=1,this.node.addChild(t),cc.tween(t).delay(2).call(function(){t.destroy()}).start()}else cc.warn("firePrefab is null")},a([d(sp.Skeleton)],e.prototype,"skeleton",void 0),a([d(cc.String)],e.prototype,"dieAnim",void 0),a([d(cc.String)],e.prototype,"openAnim",void 0),a([d(cc.Prefab)],e.prototype,"gemsPrefab",void 0),a([d(cc.Prefab)],e.prototype,"firePrefab2",void 0),a([d(c.default)],e.prototype,"collider",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemLevelSkin:[function(t,e,o){"use strict";var n;cc._RF.push(e,"2c233GpqRtFHaMf7UIzItnq","ItemLevelSkin"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemSkinLevel=o.ItemLevelSkin=void 0,function(t){t[t.NONE=0]="NONE",t[t.HAT=1]="HAT",t[t.SHIRT=2]="SHIRT",t[t.SHOE=3]="SHOE",t[t.EAR=4]="EAR",t[t.SCARF=5]="SCARF",t[t.GLOVES=6]="GLOVES",t[t.OTHER=7]="OTHER",t[t.ITEMHAND=8]="ITEMHAND"}(n=o.ItemLevelSkin||(o.ItemLevelSkin={}));var i=function(){function t(){}return t.getSkinName=function(t){switch(t){case n.HAT:return"Hat_Red";case n.SHIRT:return"Clothes1";case n.SHOE:return"Boots";case n.EAR:return"Chuptai";case n.SCARF:return"Scarf";case n.GLOVES:return"Gloves";case n.ITEMHAND:return"ItemHand"}return""},t}();o.ItemSkinLevel=i,cc._RF.pop()},{}],ItemLevelType:[function(t,e,o){"use strict";cc._RF.push(e,"f0ee2efa2pFcL7q2XTCGemM","ItemLevelType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemLevelType=void 0,function(t){t[t.NONE=0]="NONE",t[t.HAT=1]="HAT",t[t.SHIRT=2]="SHIRT",t[t.SHOE=3]="SHOE",t[t.GLOVE=4]="GLOVE",t[t.OTHER=5]="OTHER"}(o.ItemLevelType||(o.ItemLevelType={})),cc._RF.pop()},{}],ItemLevel:[function(t,e,o){"use strict";cc._RF.push(e,"bfbfbVQx7lJfrq/RpThfojS","ItemLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GlobalSignals"),s=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),l=t("../../config/TagObject"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemDefault=null,e.isDestroy=!1,e}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.onCollisionEnter=function(t){if(t.node.group===s.GroupConfig.COLLIDER&&t.node.name==l.TagConfig.BOMB){var e=t.node.getComponent(l.default).tag2;if(e==l.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}return e==l.TagConfig.NONE?(this.node.removeFromParent(),this.isDestroy=!0,void this.scheduleOnce(function(){r.GlobalSignals.questFailSignal.dispatch()},.3)):void 0}},a([d(cc.Prefab)],e.prototype,"itemDefault",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],ItemLoot:[function(t,e,o){"use strict";cc._RF.push(e,"1fd7e2dGtBKjYNZzFe+WWuR","ItemLoot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemConfig=void 0;var r=t("../../config/GroupConfig"),s=t("../../config/GlobalSignals"),c=t("../../base/ColliderCallback"),l=t("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(){function t(){this.skin="",this.roomId=1,this.itemId=1,this.part=1}return a([d(cc.Integer)],t.prototype,"roomId",void 0),a([d(cc.Integer)],t.prototype,"itemId",void 0),a([d(cc.Integer)],t.prototype,"part",void 0),a([p("ItemConfig")],t)}();o.ItemConfig=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.dieAnim="Die",e.openAnim="animation",e.collider=null,e.itemConfig=null,e.chestPrefab=null,e.flashPrefab=null,e.firePrefab=null,e.isAlive=!0,e}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.start=function(){this.itemConfig.skin=this.skeleton.defaultSkin,this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(this.isAlive)return t.node.group===r.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void s.GlobalSignals.questFailSignal.dispatch()):void 0},e.prototype.openItem=function(){var t=this;this.playAnimation(this.openAnim,!1),this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){t.showFlashEffect()},.2)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.showFireEffect=function(){if(this.firePrefab){var t=cc.instantiate(this.firePrefab);t.setPosition(0,0),t.scale=1,this.node.addChild(t),cc.tween(t).delay(2).call(function(){t.destroy()}).start()}else cc.warn("firePrefab is null")},e.prototype.showFlashEffect=function(){if(this.flashPrefab){var t=cc.instantiate(this.flashPrefab);t.setPosition(0,70),this.node.addChild(t)}else cc.warn("flashPrefab is null")},a([d(cc.Sprite)],e.prototype,"sprite",void 0),a([d(cc.String)],e.prototype,"dieAnim",void 0),a([d(cc.String)],e.prototype,"openAnim",void 0),a([d(c.default)],e.prototype,"collider",void 0),a([d(f)],e.prototype,"itemConfig",void 0),a([d(cc.Prefab)],e.prototype,"chestPrefab",void 0),a([d(cc.Prefab)],e.prototype,"flashPrefab",void 0),a([d(cc.Prefab)],e.prototype,"firePrefab",void 0),a([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemPetSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"dfcc2TNDsNCW5SgR0AVEBse","ItemPetSwitch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../GameData"),c=t("../ResUtil"),l=t("./PetDataManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.skeleton=null,e.light=null,e.ClickCallback=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickPet=function(){if(this.cfg.isHave){this.setActiveLight(!0);var t=s.GameData.getMyPetWithId(this.cfg.petCfg.petId);if(!t)return;var e=l.PetDataManager.cloneAPet(t);e.petLevel=this.cfg.level,s.GameData.setCurrentPet(e,function(){}),r.GlobalSignals.changeSkinPetSignal.dispatch()}this.ClickCallback(this.cfg)},e.prototype.initItemPetSwitch=function(t,e){var o=this;void 0===e&&(e=null),this.ClickCallback=e,this.cfg&&this.cfg.petCfg.petId==t.petCfg.petId||c.ResUtil.getSpineAnimPet(t.petCfg,function(e,n){if(!e){o.skeleton.skeletonData=n;var i="Level"+t.level;o.skeleton.setSkin(i),o.skeleton.setAnimation(0,"Idle",!0)}}),this.cfg=t,t.isHave?(t.isSelected?this.setActiveLight(!0):this.setActiveLight(!1),this.skeleton.node.color=new cc.Color(255,255,255,255)):(this.setActiveLight(!1),this.skeleton.node.color=new cc.Color(0,0,0,255))},e.prototype.setActiveLight=function(t){this.light.active=t},a([d(cc.Label)],e.prototype,"label",void 0),a([d(sp.Skeleton)],e.prototype,"skeleton",void 0),a([d(cc.Node)],e.prototype,"light",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","./PetDataManager":"PetDataManager"}],ItemPuzzle:[function(t,e,o){"use strict";cc._RF.push(e,"45ca0Xw5OFLnoclTw0wE2d4","ItemPuzzle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/GlobalSignals"),c=t("../../config/PhysicsConfig"),l=t("../../config/PuzzlesConfig"),u=t("../../GameData"),p=t("../../config/TagObject"),d=t("../../level/MapLevel"),f=t("../../config/GameState"),h=t("../../ResUtil"),g=cc._decorator,y=g.ccclass,_=g.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.moneyBag=null,e.isAlive=!0,e.puzzles=null,e}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){this.isAlive&&t.node.group===r.GroupConfig.COLLIDER&&t.node.getComponent(p.default)&&t.node.getComponent(p.default).tag2==p.TagConfig.HIT&&(this.isAlive=!1,d.default.instance.gameState==f.GameState.PLAYING&&s.GlobalSignals.questFailSignal.dispatch(),this.node.destroy())},e.prototype.getPuzzles=function(){var t,e=this;0==u.GameData.arrayItemsInRoom.length&&u.GameData.initArrayItemsInRoom(),t=h.ResUtil.getRandomLeftArr(u.GameData.arrayItemsInRoom[u.GameData.currentItem].puzzles,4);var o=u.GameData.currentRoomId,n=l.PuzzlesConfig.getPuzzleByRooom(o),i="/HomePin2/Puzzle/Decor"+o+"/"+Object.values(n[u.GameData.currentItem])[t];h.ResUtil.loadSprite(i,function(t){var o=new cc.SpriteFrame;o.setTexture(t),e.sprite.spriteFrame=o}),this.puzzles=t},a([_(cc.Sprite)],e.prototype,"sprite",void 0),a([_(cc.Prefab)],e.prototype,"moneyBag",void 0),a([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../GameData":"GameData","../../ResUtil":"ResUtil","../../config/GameState":"GameState","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/PuzzlesConfig":"PuzzlesConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],ItemSync:[function(t,e,o){"use strict";cc._RF.push(e,"353fc98Tp9BUrhFDj/jMv2a","ItemSync");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetPos=null,e}return i(e,t),e.prototype.setTargetPos=function(t){this.targetPos=t},e.prototype.update=function(){if(this.targetPos){var t=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),e=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(t),o=cc.v2(1e3,0).signAngle(e);this.node.angle=180*o/3.14;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n))}},a([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],KDF:[function(t,e,o){"use strict";cc._RF.push(e,"843f5Wu4ulP/IdE+I9A+8Y8","KDF"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Krampus:[function(t,e,o){"use strict";cc._RF.push(e,"0c714HcIitEZ5KUzqETr1VY","Krampus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../config/AudioPlayId"),s=t("../../../config/GroupConfig"),c=t("../../../config/TagObject"),l=t("../../../MainScene"),u=t("./Enemies"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holdChildAnim="Lift",e.holdChild2Anim="Lift2",e}return i(e,t),e.prototype.walkToTarget=function(e){t.prototype.walkToTarget.call(this,e)},e.prototype.start=function(){t.prototype.start.call(this),this.onSoundIdle()},e.prototype.onAttackCollider=function(t){this.isAlive&&(t.node.name==c.TagConfig.GIRL&&(this.stopMove(),this.onHoldChild(),this._isAttack=!0),t.node.name!=c.TagConfig.BOSS&&t.node.name!=c.TagConfig.SANTA||this.playAttack(t.node))},e.prototype.onHoldChild=function(){var t=this;this.onSoundAttack(),l.default.instance.audioPlayer.playAudio(r.AudioPlayId.krampus_win),this.playAnimation(this.holdChildAnim,!1),this.hit.active=!0,this.scheduleOnce(function(){t.hit.active=!1},.2);var e=this.skeleton.findAnimation(this.holdChildAnim).duration;this.scheduleOnce(function(){t.playAnimation(t.holdChild2Anim,!0)},e)},e.prototype.onBodyCollider=function(e,o){if(t.prototype.onBodyCollider.call(this,e,o),e.node.group===s.GroupConfig.COLLIDER){if(e.node.name==c.TagConfig.KRAMPUS){var n=e.node.getComponent(c.default).tag2;if(n==c.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(n==c.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(n==c.TagConfig.REDIRECT_STOP)return this.playAnimation(this.idleAnim,!0),void this.stopMove()}var i=e.node.getComponent(c.default);if(i&&i.tag2==c.TagConfig.ROCK)return void this.onDieNormal()}},a([f(cc.String)],e.prototype,"holdChildAnim",void 0),a([f(cc.String)],e.prototype,"holdChild2Anim",void 0),a([d],e)}(u.default);o.default=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],LanguageController:[function(t,e,o){"use strict";cc._RF.push(e,"3f4f2m8H9RJX4Wwdhj+v5pn","LanguageController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.AllLanguage=o.nameLang=o.Lang=void 0;var r,s=t("../config/GlobalSignals"),c=t("../GameData"),l=t("./Language"),u=cc._decorator,p=u.ccclass,d=u.property;(function(t){t[t.EN=0]="EN",t[t.JA=1]="JA",t[t.ID=2]="ID",t[t.DE=3]="DE",t[t.FR=4]="FR"})(r=o.Lang||(o.Lang={})),function(t){t.EN="English",t.JA="Japan",t.ID="Indonesia",t.DE="Germany",t.FR="French"}(o.nameLang||(o.nameLang={}));var f=function(){function t(){this.name=null,this.size=0}return a([d({type:cc.Enum(r)})],t.prototype,"name",void 0),a([d(cc.Integer)],t.prototype,"size",void 0),a([p("AllLanguage")],t)}();o.AllLanguage=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="",e._sizeLanguage=[],e._updateCurrentLanguage=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeLanguage",{get:function(){return this.do_refresh(),this._sizeLanguage},set:function(t){this._sizeLanguage=t},enumerable:!1,configurable:!0}),e.prototype.do_refresh=function(){for(var t=Object.keys(l.TextLanguage),e=0;e<t.length;e++)if(this._sizeLanguage[e])this._sizeLanguage[e].name=r[""+t[e]];else{var o=new f;o.name=r[""+t[e]],this._sizeLanguage[e]=o}},e.prototype.onLoad=function(){o._instance=this,this._updateCurrentLanguage=this.updateCurrentLanguage.bind(this)},e.prototype.onEnable=function(){s.GlobalSignals.UpdateCurrentLanguage.add(this._updateCurrentLanguage);var t=c.GameData.currentLanguage;this.setupDataLabel(t)},e.prototype.onDisable=function(){s.GlobalSignals.UpdateCurrentLanguage.remove(this._updateCurrentLanguage),o.listFuncUpdateTextByCode=[]},e.prototype.setupDataLabel=function(t){var e=this.node.getComponent(cc.Label);this.key&&(this.node.getComponent(cc.Label).string=l.TextLanguage[t][this.key]),this.sizeLanguage[r[""+t]].size>0&&(e.fontSize=this.sizeLanguage[r[""+t]].size)},e.getText=function(t){return l.TextLanguage[c.GameData.currentLanguage][t]},e.addLabelChangeLanguage=function(t){o.listFuncUpdateTextByCode.push(t)},e.prototype.updateCurrentLanguage=function(t){this.setupDataLabel(t.LangCode),o.listFuncUpdateTextByCode.forEach(function(t){t&&t()})},e._instance=null,e.listFuncUpdateTextByCode=[],a([d(cc.String)],e.prototype,"key",void 0),a([d([f])],e.prototype,"_sizeLanguage",void 0),a([d([f])],e.prototype,"sizeLanguage",null),o=a([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals","./Language":"Language"}],LanguageOpItem:[function(t,e,o){"use strict";cc._RF.push(e,"651fcYNZu5A0KhLaEHbXRTb","LanguageOpItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLang=null,e.dataItemLang=null,e.langOptionManager=null,e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.initItem=function(t,e){this.dataItemLang=t,this.langOptionManager=e,this.setupData()},e.prototype.setupData=function(){this.nameLang.string=""+this.dataItemLang.LangName},e.prototype.onClickChoose=function(){this.langOptionManager.updateCurrentLanguage(this.dataItemLang)},a([c(cc.Label)],e.prototype,"nameLang",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LanguageOption:[function(t,e,o){"use strict";cc._RF.push(e,"516729qCxdN6ak3yCLqGKlu","LanguageOption");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/LanguageController"),s=t("../config/GlobalSignals"),c=t("../GameData"),l=t("./LanguageOpItem"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.viewContainer=null,e.nameLanguage=null,e.listLang=[],e.listLanguageConfig=[],e.listLanguageData=[],e.viewContainerState=!1,e.currentLang="",e.currentDataLang=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.listLanguageConfig=Object.keys(r.Lang),this.listLanguageConfig.forEach(function(e,o){var n={LangCode:e,LangName:r.nameLang[e]};t.listLanguageData[o]=n})},e.prototype.onEnable=function(){var t=this;this.currentLang=c.GameData.currentLanguage,this.listLang.forEach(function(e,o){e.initItem(t.listLanguageData[o],t),t.listLanguageData[o].LangCode==t.currentLang&&(t.currentDataLang=t.listLanguageData[o])}),this.setupView()},e.prototype.setupView=function(){this.nameLanguage.string=""+this.currentDataLang.LangName},e.prototype.showContainerContent=function(){this.viewContainerState=!this.viewContainerState,this.viewContainer.active=this.viewContainerState},e.prototype.updateCurrentLanguage=function(t){this.currentDataLang=t,this.currentLang=t.LangCode,this.setupView(),c.GameData.saveCurrentLang(this.currentDataLang.LangCode),this.showContainerContent(),s.GlobalSignals.UpdateCurrentLanguage.dispatch(this.currentDataLang)},a([d(cc.Node)],e.prototype,"viewContainer",void 0),a([d(cc.Label)],e.prototype,"nameLanguage",void 0),a([d([l.default])],e.prototype,"listLang",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../base/LanguageController":"LanguageController","../config/GlobalSignals":"GlobalSignals","./LanguageOpItem":"LanguageOpItem"}],Language:[function(t,e,o){"use strict";cc._RF.push(e,"9736bGfi2dIdqs+pKGU3cJz","Language"),Object.defineProperty(o,"__esModule",{value:!0}),o.TextLanguage=void 0,o.TextLanguage={EN:{play:"TAP TO PLAY",level:"LEVEL ",continue:"Tap to continue",replay:"Tap to replay",skip:"SKIP",skipIntro:"Skip >>>",win:"CONGRATULATION",lose:"YOU LOSE",settingTitle:"Setting",on:"On",off:"Off",unlockRoom:"Unlock\n Level 4",dailyReward:"Daily Reward",daily:"Daily",day:"Day ",freecoin:"Free Coin",outfit:"Outfit",giftBox:"Gift Box",puzzleTitle:"PUZZLE",puzzleTip:"Find puzzles. Complete room",puzzleGuide:"Find puzzles.\nComplete room",comingsoon:"COMING SOON",streakCount:"Streak Count",streakTip1:"Win Streak",streakTip2:"Collect all rewards each 5 levels",streakTip3:"5 Streak Reward",streakTip4:"You will loss your win streak. Do you want to keep it",collect:"Collect",trial:"Trial",keepStreak:"Keep Streak",keep:"Keep",ok:"OK",get_another:"Get another",egg_found:"Egg Found",egg_note:"Congratulation !",get_coin:"GET COIN",new_skin:"NEW PIN UNLOCKED !",get_free:"Get Free",no_thanks:"No, Thanks",pet_title:"Pet",guide_pet:"Save the daughter to get eggs",hatch:"Hatch",title_pet_switch:"Choose your pet",selected:"Selected",wallpaper:"Wallpaper",picture:"Picture",carpet:"Carpet","dinner table":"Dinner Table",pumpkin:"Pumpkins",heater:"Heater",chair:"Chair",light:"Light",window:"Window",house:"House",warehouse:"Warehouse",bench:"Bench",grill:"Grill",statue:"Statue",sleigh:"Sleigh",snowman:"Snowman",cabinet:"Cabinet",bed:"Bed",shelve:"Shelve",hang:"Hang",scope:"Scope",torigate:"ToriGate",kite:"Kite",sakura:"Sakura",rock:"Rock",temple:"Temple",house1:"House",house2:"House",firework1:"Firework",firework2:"Firework",outdoorlight:"OutdoorLight",wardrobe:"Wardrobe",table:"Table",lamp:"Lamp"},JA:{play:"\u30bf\u30c3\u30d7\u3057\u3066\u30d7\u30ec\u30a4",level:"\u30ec\u30d9\u30eb ",continue:"\u30bf\u30c3\u30d7\u3057\u3066\u7d9a\u884c",replay:"\u30bf\u30c3\u30d7\u3057\u3066\u30ea\u30d7\u30ec\u30a4",skip:"\u30b9\u30ad\u30c3\u30d7",skipIntro:"\u30b9\u30ad\u30c3\u30d7 >>>",win:"\u304a\u3081\u3067\u3068\u3046",lose:"\u5931\u6557",settingTitle:"\u8a2d\u5b9a",on:"\u30aa\u30f3",off:"\u30aa\u30d5",unlockRoom:"\u30ec\u30d9\u30eb4\n\u3092\u958b\u653e",dailyReward:"\u30c7\u30a4\u30ea\u30fc\u5831\u916c",daily:"\u30c7\u30a4\u30ea\u30fc",day:"\u65e5",freecoin:"\u7121\u6599\u30b3\u30a4\u30f3",outfit:"\u8863\u88c5",giftBox:"\u8d08\u308a\u7269",puzzleTitle:"\u30d1\u30ba\u30eb",puzzleTip:"\u30d1\u30ba\u30eb\u3092\u898b\u3064\u3051\u3088\u3046\u3002\n\u30eb\u30fc\u30e0\u3092\u30af\u30ea\u30a2",puzzleGuide:"\u30d1\u30ba\u30eb\u3092\u898b\u3064\u3051\u3088\u3046\u3002\n\u30eb\u30fc\u30e0\u3092\u30af\u30ea\u30a2",comingsoon:"\u8fd1\u65e5\u767b\u5834",streakCount:"\u9023\u52dd\u6570",streakTip1:"\u30b9\u30c8\u30ea\u30fc\u30af\u3092\u7372\u5f97",streakTip2:"5\u30ec\u30d9\u30eb\u3054\u3068\u306b\u3059\u3079\u3066\u306e\u5831\u916c\u3092\u96c6\u3081\u308b",streakTip3:"5\u9023\u52dd\u5831\u916c",streakTip4:"\u9023\u52dd\u8a18\u9332\u306f\u5931\u308f\u308c\u307e\u3059\u3002\u9023\u52dd\u8a18\u9332\u3092\u7dad\u6301\u3057\u305f\u3044\u3067\u3059\u304b\uff1f",collect:"\u96c6\u3081\u308b",trial:"\u30c8\u30e9\u30a4\u30a2\u30eb",keepStreak:"\u9023\u7d9a\u8a18\u9332\u3092\u7dad\u6301\u3059\u308b",keep:"\u4fdd\u3064",ok:"\u308f\u304b\u308a\u307e\u3057\u305f",get_another:"\u5225\u306e\u3082\u306e\u3092\u5165\u624b",egg_found:"\u5375\u767a\u898b",egg_note:"\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01",get_coin:"\u30b3\u30a4\u30f3\u3092\u30b2\u30c3\u30c8",new_skin:"\u65b0\u3057\u3044PIN\u304c\u30ed\u30c3\u30af\u89e3\u9664\u3055\u308c\u307e\u3057\u305f\uff01",get_free:"\u81ea\u7531\u306b\u306a\u308b",no_thanks:"\u7d50\u69cb\u3067\u3059",pet_title:"\u30da\u30c3\u30c8",guide_pet:"\u5375\u3092\u5f97\u308b\u305f\u3081\u306b\u5a18\u3092\u6551\u3048",hatch:"\u30cf\u30c3\u30c1",title_pet_switch:"\u30da\u30c3\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",selected:"\u9078\u629e\u6e08\u307f",wallpaper:"\u58c1\u7d19",picture:"\u5199\u771f",carpet:"\u30ab\u30fc\u30da\u30c3\u30c8","dinner table":"\u5915\u98df\u306e\u30c6\u30fc\u30d6\u30eb",pumpkin:"\u30ab\u30dc\u30c1\u30e3",heater:"\u30d2\u30fc\u30bf",chair:"\u6905\u5b50",light:"\u30e9\u30a4\u30c8",window:"\u7a93",house:"\u5bb6",warehouse:"\u5009\u5eab",bench:"\u30d9\u30f3\u30c1",grill:"\u30b0\u30ea\u30eb",statue:"\u50cf",sleigh:"\u305d\u308a",snowman:"\u96ea\u3060\u308b\u307e",cabinet:"\u6238\u68da",bed:"\u30d9\u30c3\u30c9",shelve:"\u68da\u306b\u7f6e\u304f",hang:"\u4e0b\u304c\u308b",scope:"\u7bc4\u56f2",torigate:"\u30c8\u30ea\u30b2\u30fc\u30c8",kite:"\u898b\u308b",sakura:"\u3055\u304f\u3089",rock:"\u30ed\u30c3\u30af",temple:"\u5bfa",house1:"\u5bb6",house2:"\u5bb6",firework1:"\u82b1\u706b",firework2:"\u82b1\u706b",outdoorlight:"\u5c4b\u5916\u7167\u660e",wardrobe:"\u30ef\u30fc\u30c9\u30ed\u30fc\u30d6",table:"\u30c6\u30fc\u30d6\u30eb",lamp:"\u30e9\u30f3\u30d7"},ID:{play:"Awal",level:"Tingkat ",continue:"Ketuk untuk melanjutkan",replay:"Ketuk untuk memutar ulang",skip:"LEWAT",skipIntro:"Melewati >>>",win:"KEMENANGA",lose:"KAMU KALAH",settingTitle:"PENGATURAN",on:"HIDUP",off:"MATI",unlockRoom:"Buka\n level 4",dailyReward:"Hadiah Harian",daily:"Sehari-hari",day:"hari ",freecoin:"koin gratis",outfit:"pakaian",giftBox:"Hadiah",puzzleTitle:"TEKA-TEKI",puzzleTip:"Temukan teka-teki.\nKamar lengkap",puzzleGuide:"Temukan teka-teki.\nKamar lengkap",comingsoon:"SEGERA HADIR",get_another:"Dapatkan yang lain",egg_found:"Telur Ditemukan",egg_note:"Selamat !",get_coin:"DAPATKAN KOIN",new_skin:"PIN BARU!",get_free:"Mendapatkan gratis",no_thanks:"Tidak, terima kasih",pet_title:"Peliharaan",guide_pet:"Selamatkan putrinya untuk mendapatkan telur",hatch:"Menetas",title_pet_switch:"Pilih hewan peliharaan Anda",selected:"Terpilih",wallpaper:"Kertas Dinding",picture:"Gambar",carpet:"Karpet","dinner table":"Meja makan malam",pumpkin:"Labu",heater:"Pemanas",chair:"Kursi",light:"Lampu",window:"Jendela",house:"Rumah",warehouse:"Gudang",bench:"Bangku",grill:"Memanggang",statue:"Patung",sleigh:"Kereta luncur",snowman:"manusia salju",cabinet:"Kabinet",bed:"Tempat tidur",shelve:"Mengesampingkan",hang:"Menggantung",scope:"Cakupan",torigate:"Gerbang Tori",kite:"Melihat",sakura:"Sakura",rock:"Batu",temple:"Kuil",house1:"Rumah",house2:"Rumah",firework1:"Kembang api",firework2:"Kembang api",outdoorlight:"Lampu",wardrobe:"Pakaian",table:"Meja",lamp:"Lampu"},DE:{play:"BER\xdcHRE UM ZU SPIELEN",level:"EBENE ",continue:"Tippen Sie, um fortzufahren",replay:"Zum Wiedergeben tippen",skip:"\xdcBERSPRINGEN",skipIntro:"\xdcberspringen >>>",win:"HERZLICHEN GL\xdcCKWUNSCH",lose:"DU VERLIERST",settingTitle:"Einstellung",on:"An",off:"Aus",unlockRoom:"Level 4",dailyReward:"T\xe4gliche Belohnung",daily:"T\xe4glich",day:"Tag ",freecoin:"Kostenlose M\xfcnze",outfit:"Outfit",giftBox:"Geschenk",puzzleTitle:"PUZZLE",puzzleTip:"Finde R\xe4tsel. Schlie\xdfe den Raum ab",puzzleGuide:"Finde R\xe4tsel.\n Schlie\xdfe den Raum ab",comingsoon:"DEMN\xc4CHST",get_another:"Nimm ein anderes",egg_found:"Ei gefunden",egg_note:"Herzlichen Gl\xfcckwunsch!",get_coin:"M\xdcNZE ERHALTEN",new_skin:"NEUER PIN FREISCHALTEN!",get_free:"Erhalten",no_thanks:"Nein danke",pet_title:"Haustier",guide_pet:"Rette die Tochter, um Eier zu bekommen",hatch:"Luke",title_pet_switch:"W\xe4hlen Sie Ihr Haustier",selected:"Ausgew\xe4hlt",wallpaper:"Hintergrund",picture:"Bild",carpet:"Teppich","dinner table":"Esstisch",pumpkin:"K\xfcrbisse",heater:"Heizung",chair:"Stuhl",light:"Licht",window:"Fenster",house:"Haus",warehouse:"Lager",bench:"Bank",grill:"Grill",statue:"Statue",sleigh:"Schlitten",snowman:"Schneemann",cabinet:"Kabinett",bed:"Bett",shelve:"Regal",hang:"Aufh\xe4ngen",scope:"ScUmfangope",torigate:"ToriGate",kite:"Drachen",sakura:"Sakura",rock:"Felsen",temple:"Tempel",house1:"Haus",house2:"Haus",firework1:"Feuerwerk",firework2:"Feuerwerk",outdoorlight:"Au\xdfenleuchte",wardrobe:"Kleiderschrank",table:"Tisch",lamp:"Lampe"},FR:{play:"APPUYEZ POUR JOUER",level:"NIVEAU ",continue:"Appuyez pour continuer",replay:"Appuyez pour rejouer",skip:"SAUTER",skipIntro:"Sauter >>>",win:"F\xc9LICITATION",lose:"TU AS PERDU",settingTitle:"Param\xe8tre",on:"Sur",off:"D\xe9sactiv\xe9",unlockRoom:"D\xe9bloquez\n niveau 4",dailyReward:"R\xe9compense quotidienne",daily:"Tous les jours",day:"Jour ",freecoin:"Pi\xe8ce gratuite",outfit:"Tenue",giftBox:"Boite cadeau",puzzleTitle:"PUZZLE",puzzleTip:"Trouvez des \xe9nigmes. Chambre compl\xe8te",puzzleGuide:"Trouvez des \xe9nigmes.\nChambre compl\xe8te",comingsoon:"COMING SOON",streakCount:"Nombre de s\xe9quences",streakTip1:"S\xe9rie de victoires",streakTip2:"Collectez toutes les r\xe9compenses tous les 5 niveaux",streakTip3:"R\xe9compense de 5 s\xe9quences",streakTip4:"Vous perdrez votre s\xe9quence de victoires. Est-ce que tu veux le garder",collect:"Collecter",trial:"Proc\xe8s",keepStreak:"Gardez la s\xe9quence",keep:"Garder",ok:"D'ACCORD",get_another:"Prendre un autre",egg_found:"Oeuf trouv\xe9",egg_note:"F\xe9licitation !",get_coin:"OBTENIR UNE PI\xc8CE",new_skin:"NOUVEAU PIN D\xc9BLOQU\xc9\xa0!",get_free:"Obtenez gratuitement",no_thanks:"Non merci",pet_title:"Animal de compagnie",guide_pet:"Sauvez la fille pour avoir des \u0153ufs",hatch:"Trappe",title_pet_switch:"Choisissez votre animal de compagnie",selected:"Selected",wallpaper:"Fond d'\xe9cran",picture:"Image",carpet:"Tapis","dinner table":"Table \xe0 dinner",pumpkin:"Citrouilles",heater:"Chauffage",chair:"Chaise",light:"Lumi\xe8re",window:"Fen\xeatre",house:"Maison",warehouse:"Entrep\xf4t",bench:"Banc",grill:"Grill",statue:"Statue",sleigh:"Tra\xeeneau",snowman:"Bonhomme de neige",cabinet:"Armoire",bed:"Lit",shelve:"\xc9tag\xe8re",hang:"Accrocher",scope:"Port\xe9e",torigate:"Porte Tori",kite:"Cerf-volant",sakura:"Sakura",rock:"Rocher",temple:"Temple",house1:"Maison",house2:"Maison",firework1:"Feu d'artifice",firework2:"Feu d'artifice",outdoorlight:"Lumi\xe8re ext\xe9rieure",wardrobe:"Garde-robe",table:"Tableau",lamp:"Lampe"}},cc._RF.pop()},{}],Latin1:[function(t,e,o){"use strict";cc._RF.push(e,"f6b0bnk3FNLBKHcYiu5V4Kz","Latin1"),Object.defineProperty(o,"__esModule",{value:!0}),o.Latin1=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var n=t.words[o>>>2]>>>24-o%4*8&255;e.push(String.fromCharCode(n))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],i=0;i<e;i++)o[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new n.WordArray(o,e)},t}();o.Latin1=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],LavaGO:[function(t,e,o){"use strict";cc._RF.push(e,"6e16a5QKp9Ak4alKXaGXEJE","LavaGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/TagObject"),c=t("../../MainScene"),l=t("../../config/AudioPlayId"),u=t("../../level/MapLevel"),p=t("../../config/PhysicsConfig"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.rockPrefab=null,e.charCoal=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){p.PhysicsConfig.initPhysicConfig(this.node,"lava")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.transformToRock=function(){var t=u.default.instance.rockContainer,e=cc.instantiate(this.rockPrefab);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.destroy()},e.prototype.transformToCharCoal=function(){var t=u.default.instance.rockContainer,e=cc.instantiate(this.charCoal);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.destroy()},e.prototype.onCollisionEnter=function(t){if(this.available){if(t.node.group===r.GroupConfig.WATER||t.node.group==r.GroupConfig.ROCK&&t.node.name==s.TagConfig.CHARCOAL)return this.available=!1,void this.transformToCharCoal();if(t.node.group===r.GroupConfig.SNOW||t.node.group===r.GroupConfig.ROCK&&t.node.name==s.TagConfig.ROCK)return this.available=!1,void this.transformToRock();if(t.node.group===r.GroupConfig.BERRIE)return o.colliderBarrieCount++,void(6===o.colliderBarrieCount&&(c.default.instance.audioPlayer.playAudio(l.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)));if(t.node.group!==r.GroupConfig.COLLIDER);else if(t.node.name==s.TagConfig.BOMB){var e=t.node.getComponent(s.default).tag2;if(e==s.TagConfig.GROUND){var n=cc.v2(this.node.position.x,this.node.position.y);return n=cc.v2(1e5*n.x,1e5*n.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(n,!0)}if(e==s.TagConfig.NONE)return void(this.node.active=!1)}}},e.colliderBarrieCount=0,a([h(cc.Node)],e.prototype,"border",void 0),a([h(cc.Node)],e.prototype,"drop",void 0),a([h(cc.Prefab)],e.prototype,"rockPrefab",void 0),a([h(cc.Prefab)],e.prototype,"charCoal",void 0),o=a([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],LbTimeSkinTrial:[function(t,e,o){"use strict";cc._RF.push(e,"f2512P+lrZDFaGo/B0fMxe0","LbTimeSkinTrial");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e._updateTimeCounting=null,e.skinItem=null,e.listSkinIdCheck=[],e}return i(e,t),e.prototype.onEnable=function(){this._updateTimeCounting=this.updateTimeCounting.bind(this),r.GlobalSignals.UpdateTimeTrialSkin.add(this._updateTimeCounting)},e.prototype.onDisable=function(){r.GlobalSignals.UpdateTimeTrialSkin.remove(this._updateTimeCounting)},e.prototype.updateTimeCounting=function(t){var e=t;this.skinTrialData.skinId==e.skinId&&(-1==this.listSkinIdCheck.indexOf(this.skinTrialData.skinId)&&this.listSkinIdCheck.push(this.skinTrialData.skinId),this.skinItem.updateBtnGiftBox(!0),0==e.currentTime&&this.skinItem.updateBtnGiftBox(!1),this.updateLbTime(this.formatTime(e.currentTime)))},e.prototype.formatTime=function(t){var e=Math.floor(t/60);return"0"+e+" : "+(t-60*e)},e.prototype.updateLbTime=function(t){this.lbTime.string=t},e.prototype.initDataSkinTrial=function(t,e){this.skinTrialData=t,this.skinItem=e},a([l(cc.Label)],e.prototype,"lbTime",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals"}],LevelConfig:[function(t,e,o){"use strict";cc._RF.push(e,"2052avx87lG+Zk86UhkNUHw","LevelConfig");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfig=void 0;var i=function(){function t(){}return t.getNameLevelById=function(e){return t.ArrMergerAllLevel[""+e]},t.getIdByName=function(e){var o=t.ArrMergerAllLevel.indexOf(e);return-1!=o?o:null},t.randomID=function(t,e){var o;do{o=Math.floor(Math.random()*(e-t+1))+t}while(o%5==0);return o},t.levels=["Level-0","Level-1","Level-2","Level-3","Level-4","Level-5","Level-6","Level-7","Level-8","Level-9","Level-10","Level-11","Level-12","Level-13","Level-14","Level-15","Level-16","Level-17","Level-18","Level-19","Level-20","Level-21","Level-22","Level-23","Level-24","Level-25","Level-26","Level-27","Level-28","Level-29","Level-30","Level-31","Level-32","Level-33","Level-34","Level-35","Level-36","Level-37","Level-38","Level-39","Level-40","Level-41","Level-42","Level-43","Level-44","Level-45","Level-46","Level-47","Level-48","Level-49","Level-50","Level-51","Level-52","Level-53","Level-54","Level-55","Level-56","Level-57","Level-58","Level-59","Level-60","Level-61","Level-62","Level-63","Level-64","Level-65","Level-66","Level-67","Level-68","Level-69","Level-70","Level-71","Level-72","Level-73"],t.levelsPuzzle=["Level-Puzzle1","Level-Puzzle2","Level-Puzzle3","Level-Puzzle4","Level-Puzzle5","Level-Puzzle6","Level-Puzzle7","Level-Puzzle8","Level-Puzzle9","Level-Puzzle10"],t.ArrMergerAllLevel=["Level-0","Level-1","Level-2","Level-3","Level-4","","Level-5","Level-6","LevelOther-8","LevelOther-9","","Level-7","Level-8","LevelOther-13","LevelOther-14","","Level-9","Level-10","LevelOther-18","LevelOther-19","","Level-11","Level-12","LevelOther-23","LevelOther-24","","Level-13","Level-14","LevelOther-28","LevelOther-29","","Level-15","Level-16","LevelOther-33","LevelOther-34","","Level-17","Level-18","LevelOther-38","LevelOther-39","","Level-19","Level-20","LevelOther-43","LevelOther-44","","Level-21","Level-22","LevelOther-48","LevelOther-49","","Level-23","Level-24","LevelOther-53","LevelOther-54","","LevelNormal-56","LevelNormal-57","LevelOther-58","LevelOther-59","","LevelNormal-61","LevelNormal-62","LevelOther-63","LevelOther-64","","LevelNormal-66","LevelNormal-67","LevelOther-68","LevelOther-69","","LevelNormal-71","LevelNormal-72","LevelOther-73","LevelOther-74","","LevelNormal-76","LevelNormal-77","LevelOther-78","LevelOther-79","","LevelNormal-81","LevelNormal-82","LevelOther-83","LevelOther-84","","LevelNormal-86","LevelNormal-87","LevelOther-88","LevelOther-89","","LevelNormal-91","LevelNormal-92","LevelOther-93","LevelOther-94","","LevelNormal-96","LevelNormal-97","LevelOther-98","LevelOther-99","","LevelNormal-101","LevelNormal-102","LevelOther-103","LevelOther-104","","LevelNormal-106","LevelNormal-107","LevelOther-108","LevelOther-109","","LevelNormal-111","LevelNormal-112","LevelOther-113","LevelOther-114","","LevelNormal-116","LevelNormal-117","LevelOther-118","LevelOther-119","","LevelNormal-121","LevelNormal-122","LevelOther-123","LevelOther-124","","LevelNormal-126","LevelNormal-127","LevelOther-128","LevelOther-129","","LevelNormal-131","LevelNormal-132","LevelOther-133","LevelOther-134","","LevelNormal-136","LevelNormal-137","LevelOther-138","LevelOther-139","","LevelNormal-141","LevelNormal-142","LevelOther-143","LevelOther-144","","LevelNormal-146","LevelNormal-147","LevelOther-148","LevelOther-149","","LevelNormal-151","LevelNormal-152","LevelOther-153","LevelOther-154","","LevelNormal-156","LevelNormal-157","LevelOther-158","LevelOther-159","","LevelNormal-161","LevelNormal-162","LevelOther-163","LevelOther-164","","LevelNormal-166","LevelNormal-167","LevelOther-168","LevelOther-169","","LevelNormal-171","LevelNormal-172","LevelOther-173","LevelOther-174","","LevelNormal-176","LevelNormal-177","LevelOther-178","LevelOther-179","","LevelNormal-181","LevelNormal-182","LevelOther-183","LevelOther-184","","LevelNormal-186","LevelNormal-187","LevelOther-188","LevelOther-189","","LevelNormal-191","LevelNormal-192","LevelOther-193","LevelOther-194","","LevelNormal-196","LevelNormal-197","LevelOther-198","LevelOther-199","","LevelNormal-201","LevelNormal-202","LevelOther-203","LevelOther-204","","LevelNormal-206","LevelNormal-207","LevelOther-208","LevelOther-209","","LevelNormal-211","LevelNormal-212","LevelOther-213","LevelOther-214","","LevelNormal-216","LevelNormal-217","LevelOther-218","LevelOther-219","","LevelNormal-221","LevelNormal-222","LevelOther-223","LevelOther-224","","LevelNormal-226","LevelNormal-227","LevelOther-228","LevelOther-229","","LevelNormal-231","LevelNormal-232","LevelOther-233","LevelOther-234","","LevelNormal-236","LevelNormal-237","LevelOther-238","LevelOther-239","","LevelNormal-241","LevelNormal-242","LevelOther-243","LevelOther-244","","LevelNormal-246","LevelNormal-247","LevelOther-248","LevelOther-249",""],t.realLevelSize=t.ArrMergerAllLevel.length,t.cloneArray=n(t.ArrMergerAllLevel),t}();o.LevelConfig=i,cc._RF.pop()},{}],Libbey:[function(t,e,o){"use strict";cc._RF.push(e,"3271dea2Y5DobJBwkIFvPJs","Libbey");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../base/ColliderCallback"),s=t("../../config/GlobalSignals"),c=t("../../config/GroupConfig"),l=t("../../config/TagObject"),u=t("../../level/MapLevel"),p=t("../character/Theif/Theif"),d=cc._decorator,f=d.ccclass,h=d.property,g=(d.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.libbeyCollider=null,e.targetPos=null,e.lbProcess=null,e.frontLibbey=null,e.rate=0,e.rateLose=0,e.totalGems=0,e.isTheif=!1,e.checkDone=!1,e.theif=null,e._active=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,null!=this.frontLibbey&&(this.frontLibbey.zIndex=99),this.libbeyCollider&&!this.isTheif?this.libbeyCollider.setColliderCallback(this.onLibbeyCollider.bind(this)):(this.libbeyCollider.setColliderCallback(this.onLibbeyLoseCollider.bind(this)),this.theif=u.default.instance.arrTheif[0].getComponent(p.default))},e.prototype.onLibbeyCollider=function(t){if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectWater)if(t.node.group===c.GroupConfig.WATER){var e=1/this.totalGems*100;this.rate+=e,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.rate>=100&&!this.checkDone&&(this.scheduleOnce(function(){s.GlobalSignals.questPassSignal.dispatch()},.5),this.checkDone=!0)}else t.node.group===c.GroupConfig.DIRTY&&(this.rateLose+=1/this.totalGems*100,this.rateLose>=5&&!this.checkDone&&(this.scheduleOnce(function(){s.GlobalSignals.questFailSignal.dispatch()},.5),this.checkDone=!0));else if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectGems&&t.node.group===c.GroupConfig.GEMS){if(t.node.name==l.TagConfig.CANDY||t.node.name==l.TagConfig.COIN){if(this.totalGems){var o=1/this.totalGems*100;this.rate+=o,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%"}this.rate>=100&&u.default.instance.isPlaying&&s.GlobalSignals.questPassSignal.dispatch()}}else u.default.instance.isPlaying&&u.default.instance.isQuestFullStage&&t.node.name==l.TagConfig.COIN&&(t.node.parent=this.node,this.totalGems)&&(o=1/this.totalGems*100,this.rate+=o,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%")},e.prototype.onLibbeyLoseCollider=function(t){var e=this;if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectGems&&t.node.group===c.GroupConfig.GEMS&&(t.node.name==l.TagConfig.CANDY||t.node.name==l.TagConfig.COIN)){if(t.node.destroy(),this.totalGems){var o=1/this.totalGems*100;this.rate+=o}this.rate>=10&&!this.checkDone&&(this.scheduleOnce(function(){s.GlobalSignals.questFailSignal.dispatch(),e.node.active=!1},2),this.checkDone=!0)}},e.prototype.setActive=function(t){this._active=t,this.node.active=this._active},e.prototype.onDisable=function(){this.frontLibbey&&(this.frontLibbey.active=!1)},e.prototype.update=function(){if(this.targetPos){var t=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),e=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(t),o=cc.v2(1e3,0).signAngle(e);this.node.angle=180*o/3.14;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n)),this.frontLibbey&&(this.frontLibbey.setPosition(this.node.parent.convertToNodeSpaceAR(n)),this.frontLibbey.angle=this.node.angle)}},e._instance=null,a([h(r.default)],e.prototype,"libbeyCollider",void 0),a([h(cc.Node)],e.prototype,"targetPos",void 0),a([h(cc.Label)],e.prototype,"lbProcess",void 0),a([h(cc.Node)],e.prototype,"frontLibbey",void 0),a([h(cc.Integer)],e.prototype,"totalGems",void 0),a([h(cc.Boolean)],e.prototype,"isTheif",void 0),o=a([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../character/Theif/Theif":"Theif"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"9ac26VrclhNDqVluKnwUzSn","Loading"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./base/Task"),i=t("./GameData"),a=t("./ResUtil");window.Loading={preloadScene:function(t,e){var o=new n.TaskManager;o.addTask(new n.Task(function(){var t=this;i.GameData.initPlayerData(function(){t.completed(),i.GameData.isInitData=!0})})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/skin/SkinPopup",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/rooms/popupRoom",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/daily/DailyPopup",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/rotate/RotatePhone",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/PetPopup/PetPopup",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/PetPopup/EggFoundPopup",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/skin/SkinItem",function(){t.completed()},null)})),o.addTask(new n.Task(function(){var t=this;a.ResUtil.loadPopupByDir("prefabs/homePin2/Intro/IntroLevel4",function(){t.completed()},null)})),o.addTask(new n.Task(function(){a.ResUtil.loadMutilTexture2D(["HomePin2/PopupSkin/Skin/Pin/PinList","HomePin2/PopupSkin/Skin/Shoes/Child/ShoesChildList","HomePin2/PopupSkin/Skin/Shoes/Mom/ShoesMomList","HomePin2/PopupSkin/Skin/Shirt/Child/ShirtChildList","HomePin2/PopupSkin/Skin/Shirt/Mom/ShirtMomList","HomePin2/PopupSkin/Skin/Hat/Child/HatChildList","HomePin2/PopupSkin/Skin/Hat/Mom/HatMomList","spines/Daughter/new_daughter/Daughter","spines/Daughter/Daughter","spines/Mom/Mother"]).map(function(t){t.then(function(){})}),this.completed()})),o.run(t,e)}},cc._RF.pop()},{"./GameData":"GameData","./ResUtil":"ResUtil","./base/Task":"Task"}],LocalStorageManager:[function(t,e,o){"use strict";cc._RF.push(e,"4dd86HTCsxBTbnZZjQJS4gi","LocalStorageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStorageManager=void 0;var n=t("./crypto-ts/lib/WordArray"),i=t("./crypto-ts/crypto-ts"),a=function(){function t(){}return t.encryptKeyItem=function(t){return i.AES.encrypt(t+"",this.KEY_ENCRYPTION_KEY_ITEM,{iv:this.IV_ENCRYPTION_KEY_ITEM}).toString()},t.encryptValueItem=function(t){return i.AES.encrypt(t,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString()},t.decryptValueItem=function(t){return i.AES.decrypt(t,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString(i.enc.Utf8)},t.setItem=function(t,e){var o=this.encryptKeyItem(t),n=this.encryptValueItem(e);cc.sys.localStorage.setItem(o,n)},t.getItem=function(t){var e=this.encryptKeyItem(t),o=cc.sys.localStorage.getItem(e);return o?this.decryptValueItem(o):null},t.removeItem=function(t){cc.sys.localStorage.removeItem(this.encryptKeyItem(t))},t.KEY_ENCRYPTION_VALUE_ITEM=new n.WordArray([3721848651,3247274e3,1120155838,1670014210],16),t.IV_ENCRYPTION_VALUE_ITEM=new n.WordArray([4236774207,782364970,1158515808,2679783514],16),t.KEY_ENCRYPTION_KEY_ITEM=new n.WordArray([1541276774,3192629469,1059630479,1194558349],16),t.IV_ENCRYPTION_KEY_ITEM=new n.WordArray([1156797778,168578463,3342295823,1238504529],16),t}();o.LocalStorageManager=a,cc._RF.pop()},{"./crypto-ts/crypto-ts":"crypto-ts","./crypto-ts/lib/WordArray":"WordArray"}],MD5:[function(t,e,o){"use strict";cc._RF.push(e,"897afQFVB5Fx7Bx7+H5eL/0","MD5");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MD5=void 0;for(var a=t("../lib/Hasher"),r=t("../lib/WordArray"),s=[],c=0;c<64;c++)s[c]=4294967296*Math.abs(Math.sin(c+1))|0;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.FF=function(t,e,o,n,i,a,r){var s=t+(e&o|~e&n)+i+r;return(s<<a|s>>>32-a)+e},e.GG=function(t,e,o,n,i,a,r){var s=t+(e&n|o&~n)+i+r;return(s<<a|s>>>32-a)+e},e.HH=function(t,e,o,n,i,a,r){var s=t+(e^o^n)+i+r;return(s<<a|s>>>32-a)+e},e.II=function(t,e,o,n,i,a,r){var s=t+(o^(e|~n))+i+r;return(s<<a|s>>>32-a)+e},e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new r.WordArray([1732584193,4023233417,2562383102,271733878])},e.prototype._doProcessBlock=function(t,o){for(var n=0;n<16;n++){var i=o+n,a=t[i];t[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var r=this._hash.words,c=t[o+0],l=t[o+1],u=t[o+2],p=t[o+3],d=t[o+4],f=t[o+5],h=t[o+6],g=t[o+7],y=t[o+8],_=t[o+9],v=t[o+10],m=t[o+11],S=t[o+12],b=t[o+13],C=t[o+14],k=t[o+15],P=r[0],O=r[1],A=r[2],R=r[3];P=e.FF(P,O,A,R,c,7,s[0]),R=e.FF(R,P,O,A,l,12,s[1]),A=e.FF(A,R,P,O,u,17,s[2]),O=e.FF(O,A,R,P,p,22,s[3]),P=e.FF(P,O,A,R,d,7,s[4]),R=e.FF(R,P,O,A,f,12,s[5]),A=e.FF(A,R,P,O,h,17,s[6]),O=e.FF(O,A,R,P,g,22,s[7]),P=e.FF(P,O,A,R,y,7,s[8]),R=e.FF(R,P,O,A,_,12,s[9]),A=e.FF(A,R,P,O,v,17,s[10]),O=e.FF(O,A,R,P,m,22,s[11]),P=e.FF(P,O,A,R,S,7,s[12]),R=e.FF(R,P,O,A,b,12,s[13]),A=e.FF(A,R,P,O,C,17,s[14]),O=e.FF(O,A,R,P,k,22,s[15]),P=e.GG(P,O,A,R,l,5,s[16]),R=e.GG(R,P,O,A,h,9,s[17]),A=e.GG(A,R,P,O,m,14,s[18]),O=e.GG(O,A,R,P,c,20,s[19]),P=e.GG(P,O,A,R,f,5,s[20]),R=e.GG(R,P,O,A,v,9,s[21]),A=e.GG(A,R,P,O,k,14,s[22]),O=e.GG(O,A,R,P,d,20,s[23]),P=e.GG(P,O,A,R,_,5,s[24]),R=e.GG(R,P,O,A,C,9,s[25]),A=e.GG(A,R,P,O,p,14,s[26]),O=e.GG(O,A,R,P,y,20,s[27]),P=e.GG(P,O,A,R,b,5,s[28]),R=e.GG(R,P,O,A,u,9,s[29]),A=e.GG(A,R,P,O,g,14,s[30]),O=e.GG(O,A,R,P,S,20,s[31]),P=e.HH(P,O,A,R,f,4,s[32]),R=e.HH(R,P,O,A,y,11,s[33]),A=e.HH(A,R,P,O,m,16,s[34]),O=e.HH(O,A,R,P,C,23,s[35]),P=e.HH(P,O,A,R,l,4,s[36]),R=e.HH(R,P,O,A,d,11,s[37]),A=e.HH(A,R,P,O,g,16,s[38]),O=e.HH(O,A,R,P,v,23,s[39]),P=e.HH(P,O,A,R,b,4,s[40]),R=e.HH(R,P,O,A,c,11,s[41]),A=e.HH(A,R,P,O,p,16,s[42]),O=e.HH(O,A,R,P,h,23,s[43]),P=e.HH(P,O,A,R,_,4,s[44]),R=e.HH(R,P,O,A,S,11,s[45]),A=e.HH(A,R,P,O,k,16,s[46]),O=e.HH(O,A,R,P,u,23,s[47]),P=e.II(P,O,A,R,c,6,s[48]),R=e.II(R,P,O,A,g,10,s[49]),A=e.II(A,R,P,O,C,15,s[50]),O=e.II(O,A,R,P,f,21,s[51]),P=e.II(P,O,A,R,S,6,s[52]),R=e.II(R,P,O,A,p,10,s[53]),A=e.II(A,R,P,O,v,15,s[54]),O=e.II(O,A,R,P,l,21,s[55]),P=e.II(P,O,A,R,y,6,s[56]),R=e.II(R,P,O,A,k,10,s[57]),A=e.II(A,R,P,O,h,15,s[58]),O=e.II(O,A,R,P,b,21,s[59]),P=e.II(P,O,A,R,d,6,s[60]),R=e.II(R,P,O,A,m,10,s[61]),A=e.II(A,R,P,O,u,15,s[62]),O=e.II(O,A,R,P,_,21,s[63]),r[0]=r[0]+P|0,r[1]=r[1]+O|0,r[2]=r[2]+A|0,r[3]=r[3]+R|0},e.prototype._doFinalize=function(){var t=this._data,e=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32;var i=Math.floor(o/4294967296),a=o;e[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e[14+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(e.length+1),this._process();for(var r=this._hash,s=r.words,c=0;c<4;c++){var l=s[c];s[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return r},e}(a.Hasher);o.MD5=l,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"e7bbbEKKihNqagxA1NBLeup","MainScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./base/audio/AudioPlayer"),s=t("./PrefabManager"),c=t("./PrefabType"),l=t("./GameData"),u=t("./ResUtil"),p=t("./ScreenManager"),d=t("./base/audio/AudioManager"),f=t("./plugins/fb/FBInstantData"),h=t("./base/TouchManager"),g=t("./IntroController"),y=t("./base/CameraManager"),_=t("./StreakPopup/SkinTrialTimerManager"),v=cc._decorator,m=v.ccclass,S=v.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioPlayer=null,e.screenManager=null,e.nodePopups=null,e.loading=null,e.popupLoading=null,e.progressBar=null,e.testPrefab=null,e.testStartLevel=0,e.Intro=null,e.settingPopup=null,e.selectRoomPopup=null,e.selectKingdomPopup=null,e.buildKingdomPopup=null,e.rotatePopup=null,e.skinPopup=null,e.dailyPopup=null,e.petPopup=null,e.arrayPopup=[],e.rateCheck=0,e.isPortrait=!0,e.skinTrialTimerManager=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.rotateCallback(),this.progressBar.progress=0,this.showLoadingGame(),this.testStartLevel>=1&&(l.GameData.currentLevelId=this.testStartLevel-1),f.FBInstantData.getData(["hp_2_EffectEnable"],function(t){null==t.hp_2_EffectEnable?d.default.EffectEnable=!0:d.default.EffectEnable=t.hp_2_EffectEnable},function(){}),f.FBInstantData.getData(["hp_2_MusicEnable"],function(t){null==t.hp_2_MusicEnable?d.default.MusicEnable=!0:d.default.MusicEnable=t.hp_2_MusicEnable},null),l.GameData.showMessage||o.instance.showMessagePopup()},e.prototype.onEnable=function(){this.skinTrialTimerManager=this.node.addComponent(_.default),this.skinTrialTimerManager.initTrailTimerManager(l.GameData.skinsTrialCounting),this.screenManager.showScreenById(p.ScreenId.PLAY_SCREEN,null,!0)},e.prototype.showLoadingGame2=function(){var t=this;l.GameData.currentLevelId%5==0&&0!=l.GameData.currentLevelId?u.ResUtil.loadLevelPuzzleById(l.GameData.currentLevelPuzzle,function(){t.popupLoading.active=!1},null,function(e,o){var n=e/o*.5;t.rateCheck<n&&(t.rateCheck=n),t.progressBar.progress=t.rateCheck}):u.ResUtil.loadLevelById(l.GameData.currentLevelId,function(){t.popupLoading.active=!1},null,function(e,o){var n=e/o*.5;t.rateCheck<n&&(t.rateCheck=n),t.progressBar.progress=t.rateCheck})},e.prototype.showLoadingGame=function(){var t=this;this.popupLoading.active=!0,u.ResUtil.loadRoomById(l.GameData.currentRoomDecor,function(){t.showLoadingGame2()},null,function(e,o){var n=e/o;t.rateCheck<n&&(t.rateCheck=n),t.progressBar.progress=t.rateCheck})},e.prototype.showHomeScreen=function(t,e){void 0===t&&(t=null),this.screenManager.showScreenById(p.ScreenId.HOME_SCREEN,t,e)},e.prototype.showGamePlayScreen=function(t,e){void 0===t&&(t=null),this.screenManager.showScreenById(p.ScreenId.PLAY_SCREEN,t,e)},e.prototype.showIntroScreen=function(){var t=cc.instantiate(this.Intro).getComponent(cc.Animation);t.node.parent=this.node,t.play()},e.prototype.showSettingPopup=function(){var t=this;this.settingPopup?this.settingPopup.active=!0:this.createPopupByType(c.PrefabType.SETTING,function(e){t.settingPopup=e,t.settingPopup.active=!0})},e.prototype.showSelectRoomPopup=function(){var t=this;this.selectRoomPopup?this.selectRoomPopup.active=!0:(this.showLoading(),this.createPopupByType(c.PrefabType.SELECT_ROOM,function(e){t.selectRoomPopup=e,t.selectRoomPopup.active=!0,t.hideLoading()}))},e.prototype.showSelectKingdomPopup=function(){var t=this;if(this.selectKingdomPopup)this.selectKingdomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(c.PrefabType.SELECT_KINGDOM,function(e){t.selectKingdomPopup=e,t.selectKingdomPopup.active=!0,t.hideLoading()})};void 0===this.loadKingdomSelectCallback?this.loadKingdomSelectCallback=e:e()}},e.prototype.showBuildKingdomPopup=function(){var t=this;if(this.buildKingdomPopup)this.buildKingdomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(c.PrefabType.BUILD_KINGDOM,function(e){t.buildKingdomPopup=e,t.buildKingdomPopup.active=!0,t.hideLoading()})};void 0===this.loadKingdomBuilderCallback?this.loadKingdomBuilderCallback=e:e()}},e.prototype.showSkinPopup=function(){var t=this;this.skinPopup?this.skinPopup.active=!0:(this.showLoading(),this.createPopupByType(c.PrefabType.SKIN_POPUP,function(e){t.skinPopup=e,t.skinPopup.active=!0,t.hideLoading()}))},e.prototype.showDailyPopup=function(){var t=this;this.dailyPopup?this.dailyPopup.active=!0:(this.showLoading(),this.createPopupByType(c.PrefabType.DAILY_POPUP,function(e){t.dailyPopup=e,t.dailyPopup.active=!0,t.hideLoading()}))},e.prototype.showMessagePopup=function(){this.createPopupByType(c.PrefabType.MESSAGE_POPUP,function(t){t.active=!0})},e.prototype.showRotatePopup=function(){var t=this;this.rotatePopup?this.rotatePopup.active=!0:this.createPopupByType(c.PrefabType.ROTATE_POPUP,function(e){t.rotatePopup=e,t.rotatePopup.active=!0})},e.prototype.hideRotatePopup=function(){this.rotatePopup&&(this.rotatePopup.active=!1)},e.prototype.showPetPopup=function(){var t=this;this.petPopup?this.petPopup.active=!0:(this.showLoading(),this.createPopupByType(c.PrefabType.PET_POPUP,function(e){t.petPopup=e,t.petPopup.active=!0,t.hideLoading()}))},e.prototype.createPopupByType=function(t,e,o){var n=this;void 0===o&&(o=null),null===o&&(o=t),s.default.instance.loadPrefabByType(t,function(t){var i=cc.instantiate(t);n.nodePopups.addChild(i,o),n.arrayPopup.push(i),e(i)})},e.prototype.showLoading=function(){this.loading&&(this.loading.active=!0)},e.prototype.hideLoading=function(){this.loading&&(this.loading.active=!1)},e.prototype.showIntroLevel4=function(t,e){var o=this;y.CameraManager.instance.activeCameraUI(!1),u.ResUtil.loadPrefab("prefabs/homePin2/Intro/IntroLevel4",function(n){var i=cc.instantiate(n),a=i.getComponent(g.default);i.parent=o.node,t&&i.setPosition(o.node.position),e&&a.setCbFinishedIntro(e)},null)},e.prototype.rotateCallback=function(){cc.sys.isBrowser&&!cc.sys.isMobile||(cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.showRotatePopup(),h.default.instance.disableTouch()):(this.hideRotatePopup(),h.default.instance.enableTouch()))},e._instance=null,a([S(r.default)],e.prototype,"audioPlayer",void 0),a([S(p.default)],e.prototype,"screenManager",void 0),a([S(cc.Node)],e.prototype,"nodePopups",void 0),a([S(cc.Node)],e.prototype,"loading",void 0),a([S(cc.Node)],e.prototype,"popupLoading",void 0),a([S(cc.ProgressBar)],e.prototype,"progressBar",void 0),a([S(cc.Prefab)],e.prototype,"testPrefab",void 0),a([S(cc.Integer)],e.prototype,"testStartLevel",void 0),a([S(cc.Prefab)],e.prototype,"Intro",void 0),o=a([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"./GameData":"GameData","./IntroController":"IntroController","./PrefabManager":"PrefabManager","./PrefabType":"PrefabType","./ResUtil":"ResUtil","./ScreenManager":"ScreenManager","./StreakPopup/SkinTrialTimerManager":"SkinTrialTimerManager","./base/CameraManager":"CameraManager","./base/TouchManager":"TouchManager","./base/audio/AudioManager":"AudioManager","./base/audio/AudioPlayer":"AudioPlayer","./plugins/fb/FBInstantData":"FBInstantData"}],MapLevel:[function(t,e,o){"use strict";cc._RF.push(e,"93a86QtMkBNjpRK2sTnJOCG","MapLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/QuestType"),s=t("../config/GameState"),c=t("../config/GlobalSignals"),l=t("../objects/barrier/StickHold"),u=t("../base/TouchManager"),p=t("../objects/more/ItemLoot"),d=t("../base/utils/ArrayUtil"),f=t("../GameData"),h=t("../PlayScreen"),g=t("../config/ItemLevelType"),y=t("../config/ItemLevelSkin"),_=t("../objects/homePin2/Container"),v=t("../objects/homePin2/ContainType"),m=t("../objects/more/ItemPuzzle"),S=t("../MainScene"),b=t("../config/AudioPlayId"),C=t("../objects/homePin2/Libbey"),k=t("../objects/more/ItemLevel"),P=t("../objects/character/Mom/Mom"),O=t("../objects/character/Daughter/Daughter"),A=t("../config/RoomConfig"),R=t("../pets/Egg"),D=t("../config/MapType"),I=t("./StageLevel"),T=t("./ProcessStageLevel"),E=t("../objects/character/Enemies/Enemies"),G=cc._decorator,L=G.ccclass,w=G.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isMapOther=D.MapType.ERRO_TYPE_MAP,e.questType=r.QuestType.COLLECT_CANDY,e.eggCpm=null,e.itemLevelType=g.ItemLevelType.NONE,e.itemLevel=null,e.itemLevelSkin=y.ItemLevelSkin.NONE,e.itemSkin=null,e.totalGems=0,e.total=0,e.arrStickToActive=[],e.arrStickToMove=[],e.arrStickBonus=[],e.arrEnemies=[],e.arrTheif=[],e.itemLoot=null,e.itemPuzzle=null,e.tipLabel=null,e.notifiNode=null,e.quantityStage=0,e.listSateLevel=[],e.processStageLevel=null,e.gameState=s.GameState.BEGIN,e.isCollectGems=!1,e.container=null,e._countGemsDestroyed=0,e._countGemsCollectedByTheif=0,e._countGemsDestroyForBomb=0,e._countWaterDestroyed=0,e._countCoalDestroyed=0,e._skinItemDestroyed=!1,e._countGemsCollected=0,e._rockContainer=null,e._questStagePass=null,e._questStageFail=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"isMapOther",{get:function(){return-1!=this.node.name.indexOf("LevelOther")?this._isMapOther=D.MapType.OTHER_MAP:-1!=this.node.name.indexOf("Puzzle")?this._isMapOther=D.MapType.PUZZLE_MAP:this._isMapOther=D.MapType.NORMAL_MAP,this._isMapOther},set:function(t){this._isMapOther=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.gameState===s.GameState.PLAYING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestBuilding",{get:function(){return this.questType===r.QuestType.BUILD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectGems",{get:function(){return this.questType===r.QuestType.COLLECT_CANDY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectWater",{get:function(){return this.questType===r.QuestType.COLLECT_WATER},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectSmoke",{get:function(){return this.questType===r.QuestType.COLLECT_SMOKE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectFire",{get:function(){return this.questType===r.QuestType.COLLECT_FIRE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectSingleItem",{get:function(){return this.questType===r.QuestType.COLLECT_SINGLE_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectSkin",{get:function(){return this.questType===r.QuestType.COLLECT_SKIN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectItem",{get:function(){return this.questType===r.QuestType.COLLECT_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestSaveDaughter",{get:function(){return this.questType===r.QuestType.SAVE_DAUGHTER},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestKillEnemies",{get:function(){return this.questType===r.QuestType.KILL_ENEMY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestOpenChest",{get:function(){return this.questType===r.QuestType.OPEN_CHEST},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectPuzzle",{get:function(){return this.questType===r.QuestType.COLLECT_PUZZLE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIntro",{get:function(){return this.questType===r.QuestType.INTRO},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestFullStage",{get:function(){return this.questType==r.QuestType.WIN_FULL_STAGE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectItemLevelOther",{get:function(){return this.questType===r.QuestType.COLLECT_ITEM_LEVEL_OTHER},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsDestroyed",{get:function(){return this._countGemsDestroyed},set:function(t){this._countGemsDestroyed=t,6!==this._countGemsDestroyed||this.isCollectGems||c.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsCollectedByTheif",{get:function(){return this._countGemsCollectedByTheif},set:function(t){this._countGemsCollectedByTheif=t,3===this._countGemsCollectedByTheif&&this.isQuestCollectGems&&this.isPlaying&&(this.isCollectGems=!0,c.GlobalSignals.enemiesCollectGemsSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsDestroyForBomb",{get:function(){return this._countGemsDestroyForBomb},set:function(t){this._countGemsDestroyForBomb=t,this._countGemsDestroyForBomb>10&&this.isQuestCollectGems&&this.isPlaying&&(C.default.instance&&C.default.instance.isTheif&&C.default.instance.setActive(!1),c.GlobalSignals.questFailSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countWaterDestroyed",{get:function(){return this._countWaterDestroyed},set:function(t){this._countWaterDestroyed=t,15===this._countWaterDestroyed&&this.isQuestCollectWater&&(this.container.containType==v.ContainType.STOVE?this.container.onFireStove():c.GlobalSignals.questFailSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countCoalDestroyed",{get:function(){return this._countCoalDestroyed},set:function(t){this._countCoalDestroyed=t,15===this._countCoalDestroyed&&this.isQuestCollectFire&&c.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skinItemDestroyed",{set:function(t){this._skinItemDestroyed=t,1==this._skinItemDestroyed&&this.isQuestCollectSkin&&c.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsCollected",{get:function(){return this._countGemsCollected},set:function(t){this._countGemsCollected=t,5===this._countGemsCollected&&this.isQuestCollectGems&&this.isPlaying&&(this.isCollectGems=!0,c.GlobalSignals.collectGemsSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rockContainer",{get:function(){if(null==this._rockContainer){this._rockContainer=new cc.Node("RockContainer");var t=this.node.getComponentInChildren(C.default);t?t.node.parent.addChild(this._rockContainer):this.node.addChild(this._rockContainer)}return this._rockContainer},set:function(t){this._rockContainer=t,Editor.log(this._rockContainer,"")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return o._instance},set:function(){},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(o._instance=this,this.isQuestFullStage&&0!=this.listSateLevel.length){var t=0;this.listSateLevel.forEach(function(e){e.setStageIndex(t),t++})}if(this.isQuestCollectWater||this.isQuestCollectSmoke){var e=this.node.getComponentInChildren(_.default);e&&(this.container=e)}},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),o._instance=null},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.gameState=s.GameState.PLAYING},.6);var e=this.onActiveStick.bind(this),o=this.onActiveStickMove.bind(this),n=this.onActiveStickBonus.bind(this);if(this.arrStickToActive.forEach(function(t){t.setHoldCallback(e)}),this.arrStickToMove.forEach(function(t){t.setHoldCallback(o)}),this.arrStickBonus.forEach(function(t){t.setActiveStickBonusCallback(n)}),this.arrStickBonus&&(f.GameData.coinStickBonus=0),this.isQuestKillEnemies){var i=this.onEnemiesDead.bind(this);this.arrEnemies.forEach(function(t){var e=t.getComponent(E.default);e&&e.setDeadCallback(i)})}this.isQuestCollectItem&&this.itemLoot&&f.GameData.checkItemCollected(this.itemLoot)&&this.replaceItemByChest(),this.isQuestCollectItemLevelOther,this.isCollectPuzzle&&this.itemPuzzle&&(f.GameData.currentRoomId>A.RoomConfig.rooms.length-1||f.GameData.checkCompleteRoom(f.GameData.arrayItemsInRoom)?this.replacePuzzle():f.GameData.showIntroLevel4&&this.itemPuzzle.getPuzzles()),this.isQuestCollectSkin&&("Mom"==cc.js.getClassName(P.default.instance)?(f.GameData.currentScarfBoss&&this.itemLevelSkin==y.ItemLevelSkin.SCARF&&this.replaceItem(this.itemSkin),f.GameData.currentGloveBoss&&this.itemLevelSkin==y.ItemLevelSkin.GLOVES&&this.replaceItem(this.itemSkin),f.GameData.currentEarBoss&&this.itemLevelSkin==y.ItemLevelSkin.EAR&&this.replaceItem(this.itemSkin),f.GameData.myBossSkins&&this.itemLevelSkin==y.ItemLevelSkin.SHIRT&&this.checkSkinForReplace(f.GameData.myBossSkins,"0",P.default.instance)&&this.replaceItem(this.itemSkin),f.GameData.myBossHats&&this.itemLevelSkin==y.ItemLevelSkin.HAT&&this.checkSkinForReplace(f.GameData.myBossHats,"0",P.default.instance)&&this.replaceItem(this.itemSkin),f.GameData.myBossShoes&&this.itemLevelSkin==y.ItemLevelSkin.SHOE&&this.checkSkinForReplace(f.GameData.myBossShoes,"0",P.default.instance)&&this.replaceItem(this.itemSkin)):(f.GameData.currentScarfDaughter&&this.itemLevelSkin==y.ItemLevelSkin.SCARF&&this.replaceItem(this.itemSkin),f.GameData.currentGloveDaughter&&this.itemLevelSkin==y.ItemLevelSkin.GLOVES&&this.replaceItem(this.itemSkin),f.GameData.currentEarDaughter&&this.itemLevelSkin==y.ItemLevelSkin.EAR&&this.replaceItem(this.itemSkin),f.GameData.myDaughterSkins&&this.itemLevelSkin==y.ItemLevelSkin.SHIRT&&this.checkSkinForReplace(f.GameData.myDaughterSkins,"0",O.default.instanceD)&&this.replaceItem(this.itemSkin),f.GameData.myDaughterHats&&this.itemLevelSkin==y.ItemLevelSkin.HAT&&this.checkSkinForReplace(f.GameData.myDaughterHats,"0",O.default.instanceD)&&this.replaceItem(this.itemSkin),f.GameData.myDaughterShoes&&this.itemLevelSkin==y.ItemLevelSkin.SHOE&&this.checkSkinForReplace(f.GameData.myDaughterShoes,"0",O.default.instanceD)&&this.replaceItem(this.itemSkin))),u.default.instance&&u.default.instance.reset(),h.default.instance.checkDoneGetCoin=!1,0==f.GameData.currentLevelId?S.default.instance.audioPlayer.playAudio(b.AudioPlayId.background_intro,!0):S.default.instance.audioPlayer.stopAudioPlay(S.default.instance.audioPlayer.playAudio(b.AudioPlayId.background_intro,!0))},e.prototype.onEnable=function(){this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),this._questStagePass=this.questStagePass.bind(this),this._questStageFail=this.questStageFail.bind(this),c.GlobalSignals.questFailSignal.add(this._questFailSignal),c.GlobalSignals.questPassSignal.add(this._questPassSignal),c.GlobalSignals.questStagePass.add(this._questStagePass),c.GlobalSignals.questStageFail.add(this._questStageFail)},e.prototype.onDisable=function(){c.GlobalSignals.questFailSignal.remove(this._questFailSignal),c.GlobalSignals.questPassSignal.remove(this._questPassSignal),c.GlobalSignals.questStagePass.remove(this._questStagePass),c.GlobalSignals.questStageFail.remove(this._questStageFail)},e.prototype.onQuestFail=function(){this.gameState=s.GameState.LOSE,this.notifiNode&&(this.notifiNode.active=!1)},e.prototype.onQuestPass=function(){this.gameState=s.GameState.WIN,this.notifiNode&&(this.notifiNode.active=!1)},e.prototype.questStagePass=function(t){this.quantityStage<0||(this.quantityStage-=1,0==this.quantityStage&&o.instance.isPlaying&&c.GlobalSignals.questPassSignal.dispatch(),0!=this.listSateLevel.length&&t+1!=this.listSateLevel.length&&(this.processStageLevel.setCurrentStage(t+1),this.listSateLevel[t+1].node.active=!0))},e.prototype.questStageFail=function(){o.instance.isPlaying&&c.GlobalSignals.questFailSignal.dispatch(),this.processStageLevel&&(this.processStageLevel.node.active=!1)},e.prototype.onActiveStickMove=function(t){var e=this;0!==this.arrStickToMove.length&&(d.default.removeElement(this.arrStickToMove,t),0===this.arrStickToMove.length&&this.scheduleOnce(function(){e.isPlaying&&c.GlobalSignals.autoMoveSignal.dispatch()},.25))},e.prototype.onActiveStick=function(t){var e=this;d.default.removeElement(this.arrStickToActive,t),0===this.arrStickToActive.length&&this.scheduleOnce(function(){e.isPlaying&&c.GlobalSignals.autoMoveSignal.dispatch()},.25)},e.prototype.onActiveStickBonus=function(t){-1!=this.arrStickBonus.indexOf(t)&&(f.GameData.coinStickBonus+=t.coinBonus)},e.prototype.onEnemiesDead=function(t){var e=this;0!==this.arrEnemies.length&&(d.default.removeElement(this.arrEnemies,t),0===this.arrEnemies.length&&this.isQuestKillEnemies&&this.scheduleOnce(function(){e.isPlaying&&c.GlobalSignals.questPassSignal.dispatch()},.6))},e.prototype.replaceItemByChest=function(){cc.log("replaceItemByChest");var t=cc.instantiate(this.itemLoot.chestPrefab);this.node.addChild(t),t.position=this.itemLoot.node.position,t.setSiblingIndex(this.itemLoot.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.questType=r.QuestType.OPEN_CHEST,h.default.instance.updateLevelInfo(f.GameData.currentLevelId,this.questType),this.itemLoot.node.destroy()},e.prototype.replacePuzzle=function(){cc.log("ReplacemoneyBag");var t=cc.instantiate(this.itemPuzzle.moneyBag);this.node.addChild(t),t.position=this.itemPuzzle.node.position,t.setSiblingIndex(this.itemPuzzle.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.questType=r.QuestType.COLLECT_SINGLE_ITEM,h.default.instance.updateLevelInfo(f.GameData.currentLevelId,this.questType),this.itemPuzzle.node.destroy()},e.prototype.checkSkinForReplace=function(t,e,o){if(-1!=t.indexOf(e)&&o)return!0},e.prototype.replaceItem=function(t){var e=t.getComponent(k.default).itemDefault,n=cc.instantiate(e);n.setPosition(this.itemSkin.position),n.setSiblingIndex(this.itemSkin.zIndex),this.node.addChild(n),this.node.removeChild(t),o.instance.questType=r.QuestType.COLLECT_SINGLE_ITEM},e._instance=null,a([w({type:cc.Enum(D.MapType),readonly:!0})],e.prototype,"_isMapOther",void 0),a([w({type:cc.Enum(D.MapType),readonly:!0})],e.prototype,"isMapOther",null),a([w({type:cc.Enum(r.QuestType)})],e.prototype,"questType",void 0),a([w({type:R.default,visible:function(){return this.questType==r.QuestType.SAVE_DAUGHTER}})],e.prototype,"eggCpm",void 0),a([w({type:cc.Enum(g.ItemLevelType),visible:function(){return this.questType==r.QuestType.COLLECT_SINGLE_ITEM}})],e.prototype,"itemLevelType",void 0),a([w({type:cc.Node,visible:function(){return this.itemLevelType&&this.questType==r.QuestType.COLLECT_SINGLE_ITEM}})],e.prototype,"itemLevel",void 0),a([w({type:cc.Enum(y.ItemLevelSkin),visible:function(){return this.questType==r.QuestType.COLLECT_SKIN}})],e.prototype,"itemLevelSkin",void 0),a([w({type:cc.Node,visible:function(){return this.itemLevelSkin&&this.questType==r.QuestType.COLLECT_SKIN}})],e.prototype,"itemSkin",void 0),a([w({type:cc.Integer,visible:function(){return this.questType==r.QuestType.COLLECT_CANDY}})],e.prototype,"totalGems",void 0),a([w({type:cc.Integer,visible:function(){return this.questType==r.QuestType.COLLECT_FIRE}})],e.prototype,"total",void 0),a([w([l.default])],e.prototype,"arrStickToActive",void 0),a([w([l.default])],e.prototype,"arrStickToMove",void 0),a([w([l.default])],e.prototype,"arrStickBonus",void 0),a([w([cc.Node])],e.prototype,"arrEnemies",void 0),a([w([cc.Node])],e.prototype,"arrTheif",void 0),a([w(p.default)],e.prototype,"itemLoot",void 0),a([w(m.default)],e.prototype,"itemPuzzle",void 0),a([w(cc.Label)],e.prototype,"tipLabel",void 0),a([w(cc.Node)],e.prototype,"notifiNode",void 0),a([w({type:cc.Integer,visible:function(){return this.isQuestFullStage}})],e.prototype,"quantityStage",void 0),a([w({type:[I.default],visible:function(){return this.isQuestFullStage&&this.quantityStage>0}})],e.prototype,"listSateLevel",void 0),a([w({type:T.default,visible:function(){return this.isQuestFullStage&&this.listSateLevel.length>0}})],e.prototype,"processStageLevel",void 0),a([w({type:cc.Node})],e.prototype,"_rockContainer",void 0),a([w({type:cc.Node})],e.prototype,"rockContainer",null),o=a([L],e)}(cc.Component);o.default=M,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../base/TouchManager":"TouchManager","../base/utils/ArrayUtil":"ArrayUtil","../config/AudioPlayId":"AudioPlayId","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/ItemLevelSkin":"ItemLevelSkin","../config/ItemLevelType":"ItemLevelType","../config/MapType":"MapType","../config/QuestType":"QuestType","../config/RoomConfig":"RoomConfig","../objects/barrier/StickHold":"StickHold","../objects/character/Daughter/Daughter":"Daughter","../objects/character/Enemies/Enemies":"Enemies","../objects/character/Mom/Mom":"Mom","../objects/homePin2/ContainType":"ContainType","../objects/homePin2/Container":"Container","../objects/homePin2/Libbey":"Libbey","../objects/more/ItemLevel":"ItemLevel","../objects/more/ItemLoot":"ItemLoot","../objects/more/ItemPuzzle":"ItemPuzzle","../pets/Egg":"Egg","./ProcessStageLevel":"ProcessStageLevel","./StageLevel":"StageLevel"}],MapType:[function(t,e,o){"use strict";cc._RF.push(e,"fe3ee+r0z1FCbBjajUsKK2+","MapType"),Object.defineProperty(o,"__esModule",{value:!0}),o.MapType=void 0,function(t){t[t.ERRO_TYPE_MAP=0]="ERRO_TYPE_MAP",t[t.NORMAL_MAP=1]="NORMAL_MAP",t[t.OTHER_MAP=2]="OTHER_MAP",t[t.PUZZLE_MAP=3]="PUZZLE_MAP",t[t.FOCUS_MAP=4]="FOCUS_MAP"}(o.MapType||(o.MapType={})),cc._RF.pop()},{}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"b05f8iW0xpDR7/QZeh1WLv8","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.randomBeetWeenFloor=function(t,e){return Math.floor(this.randomBeetWeen(t,e))},t.randomBeetWeenFloor1=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.randomBeetWeen=function(t,e){return Math.random()*(e-t)+t},t.getEuclidDistance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.randomInt=function(t){return Math.floor(Math.random()*t)},t.getRandomFrom=function(t){return t[this.randomInt(t.length)]},t.getRandomSurround=function(t,e){var o=this.getRandomFrom([-1,1])*Math.floor(Math.random()*e)+t.x,n=this.getRandomFrom([-1,1])*Math.floor(Math.random()*e)+t.y;return new cc.Vec2(o,n)},t.formatNumberWithNDecimals=function(t,e){return parseFloat(t.toFixed(e))},t}();o.default=n,cc._RF.pop()},{}],Message:[function(t,e,o){"use strict";cc._RF.push(e,"98283xIekFGTLajVR0rXYtL","Message");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.claimData=function(){r.GameData.addCoin(5e3),r.GameData.currentCoin=5e3,r.GameData.saveShowMessage(),this.node.active=!1,this.node.removeFromParent()},a([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../GameData":"GameData"}],MomOther:[function(t,e,o){"use strict";cc._RF.push(e,"a2f9bMKK/dBkoN62mKWt+JB","MomOther");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../config/GlobalSignals"),s=t("../../../config/GroupConfig"),c=t("../Character"),l=t("../../../base/ColliderCallback"),u=t("../../../config/TagObject"),p=t("../../../level/MapLevel"),d=t("../../../config/GameState"),f=t("../../more/ItemLoot"),h=t("../../more/ItemChest"),g=t("../../../config/SkinConfig"),y=t("../../../GameData"),_=t("../../../config/ItemLevelSkin"),v=t("../../homePin2/Libbey"),m=t("../../../config/GameConfig"),S=t("../../../pets/PetDataManager"),b=t("../../../config/ActionCharacterType"),C=t("../../../Gift/SeftUtils"),k=cc._decorator,P=k.ccclass,O=k.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jumpCollider=null,e.sitAnim="GetCoin",e.winAnim="Win",e.winAnim2="Win2",e.failAnim="Fail",e.failAnim1="Fail2",e.dirtyAnim="GamePlay1/Lose",e.openLockAnim="OpenLock",e.flowerAnim="Flower",e.flowerAnim2="Flower2",e.idleStickAnim="IdleStick",e.superSkin="SuperMan/Boss",e.superAppearAnim="SuperAppear",e.superAttackAnim="SuperAttack",e.superIdleAnim="SuperIdle",e.superWinAnim="SuperWin",e.superOpenLockAnim="SuperChest",e.superFlowerAnim="SuperFlower",e.superFlowerAnim2="SuperFlower2",e.hasWeapon=!1,e.isAutoMove=!1,e.rate=0,e._savedDaughter=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this),this.initBossSkin()},e.prototype.initBossSkin=function(){if(C.SeftUtils.deleteSkinTemp(this.skeleton),y.GameData.currentSkinBoss)var t=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentSkinBoss);if(y.GameData.currentHatBoss)var e=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentHatBoss);if(y.GameData.currentShoeBoss)var o=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentShoeBoss);if(y.GameData.currentScarfBoss)var n=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentScarfBoss);if(y.GameData.currentScarfBoss)var i=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentGloveBoss);if(y.GameData.currentEarBoss)var a=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentEarBoss);var r=new sp.spine.Skin("Temp");r.addSkin(t),e&&r.addSkin(e),o&&r.addSkin(o),n&&(y.GameData.currentSkinBoss!=g.SkinConfig.arraySkinBoss[0].skins[0]&&y.GameData.currentSkinBoss!=m.GameConfig.boss_skin_default||r.addSkin(n)),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},e.prototype.start=function(){this.hit&&(this.hit.active=!1),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.onSoundIdle(),0==y.GameData.currentLevelId&&this.offSoundIdle()},e.prototype.onEnable=function(){var t=this;this.initPetSkin(),this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onDirty=this.onDirty.bind(this),r.GlobalSignals.questPassSignal.add(this._onQuestPass),r.GlobalSignals.questFailSignal.add(this._onQuestFail),r.GlobalSignals.collectGemsSignal.add(this._onCollectGems),r.GlobalSignals.autoMoveSignal.add(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.add(this._onDirty),this.skeleton.setCompleteListener(function(e){p.default.instance.isPlaying&&e.animation.name==t.attackAnim&&(t.playAnimation(t.idleAnim,!0),t.hit.active=!1,t.stopMove(),t.skeleton.setCompleteListener(null))})},e.prototype.onDisable=function(){r.GlobalSignals.questPassSignal.remove(this._onQuestPass),r.GlobalSignals.questFailSignal.remove(this._onQuestFail),r.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),r.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty),this._savedDaughter=!1,o._instance=null},e.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},e.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var t=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},t)},e.prototype.onQuestPass=function(){this.isAlive&&(this.offSoundIdle(),this.stopMove(),this.onSoundWin(),this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0))},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&!this.isDirty&&this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0),this.offSoundIdle(),this.onSoundLose()},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.onGroundCollisionEnter=function(e){t.prototype.onGroundCollisionEnter.call(this,e),this.isAutoMove&&this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},e.prototype.onHeadCollider=function(t){if(this.isAlive&&this.getCurrentSkin()!==this.superSkin)return t.node.group===s.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},e.prototype.onBodyCollider=function(t){if(this.isAlive&&p.default.instance.isPlaying&&this.getCurrentSkin()!==this.superSkin)if(t.node.group===s.GroupConfig.GEMS&&p.default.instance.countGemsCollected++,t.node.group!==s.GroupConfig.ITEM)if(t.node.group!==s.GroupConfig.ITEM_SEARCH)if(t.node.group!==s.GroupConfig.LAVA)if(t.node.group!==s.GroupConfig.SNOW){if(t.node.group===s.GroupConfig.COLLIDER){if(t.node.name==u.TagConfig.REDIRECT_RIGHT)return this.moveRight(this.runAnim),void(this.StateCharacter=b.ActionCharacterType.RUN);if(t.node.name==u.TagConfig.REDIRECT_LEFT)return this.moveLeft(this.runAnim),void(this.StateCharacter=b.ActionCharacterType.RUN);if(t.node.name==u.TagConfig.REDIRECT_STOP)return this.playAnimation(this.idleAnim,!0),void this.stopMove();if(t.node.name==u.TagConfig.BOMB)return void this.onDieFire();(t.node.name==u.TagConfig.GAS||t.node.name==u.TagConfig.BOMB||t.node.name==u.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}t.node.group!==s.GroupConfig.DIRTY||(this.isDirty?t.node.active=!1:r.GlobalSignals.playAnimPlayerSignal.dispatch())}else this.onDieIce();else this.onDieFire();else t.node.name==u.TagConfig.MILK&&(t.node.active=!1,this.addSkinBoss(_.ItemLevelSkin.ITEMHAND,"Foods/Milk"),p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch());else t.node.name==u.TagConfig.MILK&&(t.node.active=!1,this.addSkinBoss(_.ItemLevelSkin.ITEMHAND,"Foods/Milk"),p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch())},e.prototype.onAttackCollider=function(t){var e=this;if(cc.log("onAttackCollider: group: "+t.node.group+", name: "+t.node.name+", "+(new Date).getTime()),this.isAlive&&p.default.instance.isPlaying){if(t.node.group===s.GroupConfig.ITEM){if(t.node.name==u.TagConfig.STICK)return cc.log("Boss onAttackCollider: STICK = "+t.node.name),this.stopMove(),void this.changeSkinToStickBoss(function(){try{t.node.removeComponent(cc.PhysicsBoxCollider),t.node.removeComponent(cc.BoxCollider),t.node.removeComponent(cc.RigidBody),t.node.destroy()}catch(e){cc.warn(e)}});if(t.node.name==u.TagConfig.ITEM){if(cc.log("Boss onAttackCollider: ITEM = "+t.node.name),!(n=t.node.getComponent(f.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem();var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestCollectItem&&p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(t.node.name==u.TagConfig.CHEST)return cc.log("Boss onAttackCollider: ITEM = "+t.node.name),(n=t.node.getComponent(h.default))?(this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem(),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){e.isAlive&&p.default.instance.isPlaying&&(p.default.instance.isCollectGems=!0,r.GlobalSignals.collectGemsSignal.dispatch(),e.scheduleOnce(function(){e.isAlive&&p.default.instance.isPlaying&&p.default.instance.isPlaying&&p.default.instance.isQuestOpenChest&&p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},1.5))},o)):void cc.error("item is null")}if(t.node.group===s.GroupConfig.CHARACTER){if(t.node.name==u.TagConfig.GIRL)return r.GlobalSignals.bossAttackSignal.dispatch(),void this.rescueTheDaughter(t.node);if(this.hasWeapon&&(t.node.name==u.TagConfig.BIG_SPIDER||t.node.name==u.TagConfig.RAT||t.node.name==u.TagConfig.THEIF_FAT||t.node.name==u.TagConfig.THEIF_THIN||t.node.name==u.TagConfig.WEB_SPIDER))return r.GlobalSignals.bossAttackSignal.dispatch(),void this.playAttack(t.node)}}},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===s.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},e.prototype.onSearchCollider=function(t){if(this.isAlive&&p.default.instance.isPlaying)return t.node.group!=s.GroupConfig.ITEM_SEARCH||t.node.name!=u.TagConfig.MILK&&t.node.name!=u.TagConfig.CHEST&&t.node.name!=u.TagConfig.STICK?(cc.log("other.node.name: "+t.node.name),t.node.group===s.GroupConfig.CHARACTER&&t.node!=this.groundCollider.node?t.node.name==u.TagConfig.GIRL?(r.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.runToTarget(t.node)):this.hasWeapon&&t.node.name==u.TagConfig.BIG_SPIDER?(r.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.walkToTarget(t.node)):void 0:void 0):(r.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.walkToTarget(t.node))},e.prototype.runEffectItemWin=function(t,e,o,n){var i=t.parent.convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),a=Math.abs(t.angle%360);t.angle=a;var r;r=a<180?0:360,t.getComponent(cc.RigidBody).fixedRotation=!0,t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var s=cc.tween().to(.5,{angle:r,scale:1.2}),c=cc.tween().to(.5,{scale:1});t.removeComponent(cc.BoxCollider),cc.tween(t).sequence(s,c).repeat(2).delay(.5).to(.3,{position:i}).call(function(){o(),n&&(t.active=!1)}).start()},e.prototype.rescueTheDaughter=function(t){var e=this;if(!this._savedDaughter){this._savedDaughter=!0;var o=S.PetDataManager.pickRandomAEgg();this.stopMove(),this.rotateFaceToTarget(t);var n=this.skeleton.findAnimation(this.sitAnim).duration;this.getCurrentSkin()===this.superSkin?this.playAnimation(this.sitAnim).addAnimation(this.superWinAnim,!0):this.playAnimation(this.sitAnim);var i=function(){p.default.instance.isPlaying&&p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()};this.scheduleOnce(function(){r.GlobalSignals.daughterIsSaved.dispatch(o,e.node,i.bind(e))},n)}},e.prototype.playAttack=function(t){var e=this;this.rotateFaceToTarget(t),this.stopMove(),this.playAnimation(this.attackAnim),this.scheduleOnce(function(){e.hit.active=!0},.2)},e.prototype.changeSkinToStickBoss=function(t){var e=this,o=this.skeleton.findAnimation(this.sitAnim).duration;this.playAnimation(this.sitAnim,!1),this.scheduleOnce(function(){e.hasWeapon=!0,e.addSkinBoss(_.ItemLevelSkin.ITEMHAND,"Elements/Bloom"),e.playAnimation(e.idleAnim,!0),e.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,e.attackCollider.node.active=!1;var o=e.groundCollider.node.getComponent(u.default);o&&(o.setTag(u.TagConfig.BOSS_STICK),cc.log("changeSkinToStickBoss")),e.scheduleOnce(function(){e.attackCollider.node.active=!0,e.searchCollider.refreshPingToTarget()},.1),t&&t()},o+.1)},e.prototype.addSkinBoss=function(t,e){C.SeftUtils.deleteSkinTemp(this.skeleton);var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentSkinBoss),a=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentHatBoss),r=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentShoeBoss),s=this.skeleton.skeletonData.getRuntimeData().findSkin(y.GameData.currentScarfBoss);switch(t){case _.ItemLevelSkin.HAT:a=this.skeleton.skeletonData.getRuntimeData().findSkin(e),y.GameData.addSkinBoss({key:y.GameData.KEY_BOSS_HATS,array:y.GameData.myBossHats},g.SkinConfig.arraySkinBoss[0].skinId,function(){}),y.GameData.setHatBoss(e,function(){});break;case _.ItemLevelSkin.SHOE:r=this.skeleton.skeletonData.getRuntimeData().findSkin(e),y.GameData.addSkinBoss({key:y.GameData.KEY_BOSS_SHOES,array:y.GameData.myBossShoes},g.SkinConfig.arraySkinBoss[0].skinId,function(){}),y.GameData.setShoeBoss(e,function(){});break;case _.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(e),y.GameData.addSkinBoss({key:y.GameData.KEY_BOSS_SKINS,array:y.GameData.myBossSkins},g.SkinConfig.arraySkinBoss[0].skinId,function(){}),y.GameData.setSkinBoss(e,function(){});break;case _.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),y.GameData.addSkinBoss({key:y.GameData.KEY_BOSS_HATS,array:y.GameData.myBossHats},g.SkinConfig.arraySkinBoss[0].skinId,function(){}),y.GameData.setHatBoss(e,function(){});break;case _.ItemLevelSkin.GLOVES:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),y.GameData.addSkinBossOther(y.GameData.KEY_BOSS_CURRENT_GLOVES);break;case _.ItemLevelSkin.SCARF:s=this.skeleton.skeletonData.getRuntimeData().findSkin(e),y.GameData.addSkinBossOther(y.GameData.KEY_BOSS_CURRENT_SCARF);break;case _.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(e)}var c=new sp.spine.Skin("Temp");c.addSkin(i),s&&y.GameData.currentSkinBoss==m.GameConfig.boss_skin_default&&c.addSkin(s),a&&c.addSkin(a),r&&c.addSkin(r),o&&c.addSkin(o),n&&c.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(c),this.skeleton.setSkin(c.name)},e.prototype.onDieNormal=function(){this.stopMove(),this.playAnimation(this.dieAnim),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieFire=function(){this.stopMove(),this.offSoundIdle(),this.playAnimation(this.dieFireAnim,!0),this.slotDuplicate&&(this.slotDuplicate.enabled=!1),this.isAlive=!1;var t=p.default.instance.node.getComponentInChildren(v.default);t&&(t.node.active=!1),r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieIce=function(){this.stopMove(),this.playAnimation(this.dieIceAnim),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDirty=function(){this.isDirty=!0,this.playAnimation(this.dirtyAnim,!0),r.GlobalSignals.questFailSignal.dispatch(),this.offSoundIdle()},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAlive&&this.playAnimation(this.idleAnim,!0),this.isAutoMove=!1,this.StateCharacter=b.ActionCharacterType.STOP},e._instance=null,a([O(l.default)],e.prototype,"jumpCollider",void 0),a([O(cc.String)],e.prototype,"winAnim",void 0),a([O(cc.String)],e.prototype,"winAnim2",void 0),a([O(cc.String)],e.prototype,"failAnim",void 0),a([O(cc.String)],e.prototype,"failAnim1",void 0),a([O(cc.String)],e.prototype,"dirtyAnim",void 0),o=a([P],e)}(c.default);o.default=A,cc._RF.pop()},{"../../../GameData":"GameData","../../../Gift/SeftUtils":"SeftUtils","../../../base/ColliderCallback":"ColliderCallback","../../../config/ActionCharacterType":"ActionCharacterType","../../../config/GameConfig":"GameConfig","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../pets/PetDataManager":"PetDataManager","../../homePin2/Libbey":"Libbey","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../Character":"Character"}],Mom:[function(t,e,o){"use strict";cc._RF.push(e,"ce935JmeGhBwKF+5C9yvUHZ","Mom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../config/GlobalSignals"),s=t("../../../config/GroupConfig"),c=t("../Character"),l=t("../../../base/ColliderCallback"),u=t("../../../config/TagObject"),p=t("../../../level/MapLevel"),d=t("../../../config/GameState"),f=t("../../more/ItemLoot"),h=t("../../../config/AudioPlayId"),g=t("../../../MainScene"),y=t("../../more/ItemChest"),_=t("../../../config/SkinConfig"),v=t("../../../GameData"),m=t("../../../config/ItemLevelSkin"),S=t("../../../puzzles/PuzzlesPopup"),b=t("../../homePin2/Libbey"),C=t("../../../config/GameConfig"),k=t("../../../Gift/SeftUtils"),P=cc._decorator,O=P.ccclass,A=P.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winAnim="",e.winAnim2="",e.failAnim="",e.failAnim1="",e.loopAnimFail=!1,e.jumpCollider=null,e.lbProcess=null,e.dirtyAnim="GamePlay1/Lose",e.sitAnim="AnimBonus/1",e.openLockAnim="OpenLock",e.flowerAnim="Flower",e.flowerAnim2="Flower2",e.stickSkin="Boss0/Stick",e.idleStickAnim="IdleStick",e.superSkin="SuperMan/Boss",e.superAppearAnim="SuperAppear",e.superAttackAnim="SuperAttack",e.superIdleAnim="SuperIdle",e.superWinAnim="SuperWin",e.superOpenLockAnim="SuperChest",e.superFlowerAnim="SuperFlower",e.superFlowerAnim2="SuperFlower2",e.isAutoMove=!1,e.rate=0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this),this.initBossSkin()},e.prototype.initBossSkin=function(){if(k.SeftUtils.deleteSkinTemp(this.skeleton),v.GameData.currentSkinBoss)var t=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentSkinBoss);if(v.GameData.currentHatBoss)var e=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentHatBoss);if(v.GameData.currentShoeBoss)var o=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentShoeBoss);if(v.GameData.currentScarfBoss)var n=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentScarfBoss);if(v.GameData.currentScarfBoss)var i=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentGloveBoss);if(v.GameData.currentEarBoss)var a=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentEarBoss);var r=new sp.spine.Skin("Temp");r.addSkin(t),e&&r.addSkin(e),o&&r.addSkin(o),n&&(v.GameData.currentSkinBoss!=_.SkinConfig.arraySkinBoss[0].skins[0]&&v.GameData.currentSkinBoss!=C.GameConfig.boss_skin_default||r.addSkin(n)),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name),this.dataNewSkin=r},e.prototype.start=function(){null!=this.slotDuplicate&&this.slotDuplicate.setSkinForSkeClone(this.dataNewSkin),this.hit&&(this.hit.active=!1),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.onSoundIdle(),0==v.GameData.currentLevelId&&this.offSoundIdle()},e.prototype.onEnable=function(){this.initPetSkin(),this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onDirty=this.onDirty.bind(this),r.GlobalSignals.questPassSignal.add(this._onQuestPass),r.GlobalSignals.questFailSignal.add(this._onQuestFail),r.GlobalSignals.collectGemsSignal.add(this._onCollectGems),r.GlobalSignals.autoMoveSignal.add(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.add(this._onDirty)},e.prototype.onDisable=function(){r.GlobalSignals.questPassSignal.remove(this._onQuestPass),r.GlobalSignals.questFailSignal.remove(this._onQuestFail),r.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),r.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),r.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty),o._instance=null},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var t=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},t)},e.prototype.onQuestPass=function(){var t=this;this.isAlive&&(this.offSoundIdle(),p.default.instance.isCollectPuzzle?S.default.instance.setPlayAnimCallBack(function(){t.playAnimation(t.winAnim).addAnimation(t.winAnim2,!0),t.onSoundWin()}):(this.onSoundWin(),p.default.instance.isQuestSaveDaughter||this.isDirty?p.default.instance.isQuestCollectSingleItem&&0==v.GameData.currentRoomId&&cc.tween(this.node).call(function(){t.playAnimation("Walk2",!0)}).by(1.2,{position:cc.v3(100,0,0)}).start():""!=this.winAnim2?this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0):this.playAnimation(this.winAnim,!0)))},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(""!=this.failAnim1?this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0):this.playAnimation(this.failAnim,this.loopAnimFail),this.onSoundLose(),this.offSoundIdle()),this.isDirty&&(this.onSoundLose(),this.offSoundIdle())},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.onGroundCollisionEnter=function(e){t.prototype.onGroundCollisionEnter.call(this,e),this.isAutoMove&&this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},e.prototype.onHeadCollider=function(t){if(this.isAlive&&this.getCurrentSkin()!==this.superSkin)return t.node.group===s.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},e.prototype.onBodyCollider=function(t){if(this.isAlive&&p.default.instance.isPlaying&&this.getCurrentSkin()!==this.superSkin)if(t.node.group===s.GroupConfig.GEMS&&(t.node.name==u.TagConfig.COIN||t.node.name==u.TagConfig.CANDY?t.node.active=!1:p.default.instance.countGemsCollected++),t.node.group!==s.GroupConfig.LAVA)if(t.node.group!==s.GroupConfig.SNOW){if(t.node.group===s.GroupConfig.COLLIDER){if(t.node.name==u.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(t.node.name==u.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(t.node.name==u.TagConfig.REDIRECT_STOP)return void this.stopMove();if(t.node.name==u.TagConfig.BOMB)return void this.onDieFire();(t.node.name==u.TagConfig.GAS||t.node.name==u.TagConfig.BOMB||t.node.name==u.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}t.node.group!==s.GroupConfig.DIRTY||(this.isDirty?t.node.active=!1:r.GlobalSignals.playAnimPlayerSignal.dispatch())}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){var e=this;if(this.isAlive&&p.default.instance.isPlaying){if(t.node.group===s.GroupConfig.ITEM){if(t.node.name==u.TagConfig.STICK){cc.log("Boss onAttackCollider: STICK = "+t.node.name);try{t.node&&(t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.destroy())}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToStickBoss()}if(t.node.name==u.TagConfig.ITEM){if(cc.log("Boss onAttackCollider: ITEM = "+t.node.name),!(n=t.node.getComponent(f.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem();var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestCollectItem&&r.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(t.node.name==u.TagConfig.CHEST)return cc.log("Boss onAttackCollider: ITEM = "+t.node.name),(n=t.node.getComponent(y.default))?(this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem(),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){e.isAlive&&p.default.instance.isPlaying&&(p.default.instance.isCollectGems=!0,r.GlobalSignals.collectGemsSignal.dispatch(),e.scheduleOnce(function(){e.isAlive&&p.default.instance.isPlaying&&(p.default.instance.gameState=d.GameState.WIN,p.default.instance.isPlaying&&p.default.instance.isQuestOpenChest&&r.GlobalSignals.questPassSignal.dispatch())},1.5))},o)):void cc.error("item is null")}return t.node.group===s.GroupConfig.CHARACTER&&this.getCurrentSkin()===this.stickSkin&&t.node.name==u.TagConfig.THEIF_FAT?(r.GlobalSignals.bossAttackSignal.dispatch(),void this.playAttack(t.node)):void 0}},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===s.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},e.prototype.onSearchCollider=function(t){if(this.isAlive&&p.default.instance.isPlaying)return cc.log("other.node.name: "+t.node.name),t.node.group===s.GroupConfig.CHARACTER&&t.node!=this.node?this.getCurrentSkin()!==this.stickSkin||t.node.name!=u.TagConfig.THEIF_FAT&&t.node.name!=u.TagConfig.RAT?void 0:(r.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.walkToTarget(t.node)):void 0},e.prototype.onHandCollider=function(t){var e=this;if(this.isAlive&&p.default.instance.isPlaying)if(t.node.group!==s.GroupConfig.GEMS)if(t.node.group!==s.GroupConfig.COLLIDER||t.node.name!=u.TagConfig.BOMB){if(t.node.group===s.GroupConfig.ITEM){if(p.default.instance.isQuestCollectSkin){var o=m.ItemSkinLevel.getSkinName(p.default.instance.itemLevelSkin);return void this.runEffectItemWin(t.node,this.headCollider.node,function(){e.addSkinBoss(p.default.instance.itemLevelSkin,o),r.GlobalSignals.questPassSignal.dispatch()},!0)}if(p.default.instance.isPlaying&&p.default.instance.isQuestCollectSingleItem)switch(parseInt(t.node.name,10)){case u.TagConfig.KEY:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){r.GlobalSignals.questPassSignal.dispatch()});break;case u.TagConfig.MILK:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinBoss(m.ItemLevelSkin.ITEMHAND,"Foods/Milk"),r.GlobalSignals.questPassSignal.dispatch()},!0);break;case u.TagConfig.BREAD:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinBoss(m.ItemLevelSkin.ITEMHAND,"Foods/Bread"),r.GlobalSignals.questPassSignal.dispatch()},!0);break;case u.TagConfig.GIFT_BOX:case u.TagConfig.PUZZLE:this.runEffectItemWin(t.node,this.bodyCollider.node,function(){r.GlobalSignals.questPassSignal.dispatch()},!0);break;case u.TagConfig.TI:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinBoss(m.ItemLevelSkin.ITEMHAND,"Foods/Pacifier"),r.GlobalSignals.questPassSignal.dispatch()},!0);break;default:this.runEffectItemWin(t.node,this.bodyCollider.node,function(){r.GlobalSignals.questPassSignal.dispatch()},!0)}p.default.instance.isIntro&&(t.node.active=!1,g.default.instance.audioPlayer.playAudio(h.AudioPlayId.mom_hoho),this.scheduleOnce(function(){e.playAnimation("Intro/Idle_Intro2",!0),g.default.instance.audioPlayer.playAudio(h.AudioPlayId.mom_crying)},1.2),r.GlobalSignals.questPassIntro.dispatch())}}else this.onDieFire();else if(t.node.name==u.TagConfig.COIN){if(this.lbProcess&&p.default.instance.totalGems){var n=p.default.instance.totalGems;this.rate+=1/n*100,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.rate>=100&&p.default.instance.isPlaying&&r.GlobalSignals.questPassSignal.dispatch()}return}},e.prototype.runEffectItemWin=function(t,e,o,n){var i=t.parent.convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),a=Math.abs(t.angle%360);t.angle=a;var r;r=a<180?0:360,t.getComponent(cc.RigidBody).fixedRotation=!0,t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var s=cc.tween().to(.5,{angle:r,scale:1.2}),c=cc.tween().to(.5,{scale:1});t.removeComponent(cc.BoxCollider),cc.tween(t).sequence(s,c).repeat(2).delay(.5).to(.3,{position:i}).call(function(){o(),n&&(t.active=!1)}).start()},e.prototype.playAttack=function(t){var e=this;this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){p.default.instance.isPlaying&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleStickAnim,!0),e.hit.active=!1,e.stopMove())})},e.prototype.changeSkinToStickBoss=function(){var t=this;this.changeSkin(this.stickSkin),this.playAnimation(this.idleStickAnim,!0),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40;var e=this.groundCollider.node.getComponent(u.default);e&&(e.setTag(u.TagConfig.BOSS_STICK),cc.log("changeSkinToStickBoss")),this.scheduleOnce(function(){t.searchCollider.refreshPingToTarget()},.1)},e.prototype.addSkinBoss=function(t,e){k.SeftUtils.deleteSkinTemp(this.skeleton);var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentSkinBoss),a=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentHatBoss),r=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentShoeBoss),s=this.skeleton.skeletonData.getRuntimeData().findSkin(v.GameData.currentScarfBoss);switch(t){case m.ItemLevelSkin.HAT:a=this.skeleton.skeletonData.getRuntimeData().findSkin(e),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_HATS,array:v.GameData.myBossHats},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setHatBoss(e,function(){});break;case m.ItemLevelSkin.SHOE:r=this.skeleton.skeletonData.getRuntimeData().findSkin(e),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_SHOES,array:v.GameData.myBossShoes},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setShoeBoss(e,function(){});break;case m.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(e),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_SKINS,array:v.GameData.myBossSkins},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setSkinBoss(e,function(){});break;case m.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),v.GameData.addSkinBoss({key:v.GameData.KEY_BOSS_HATS,array:v.GameData.myBossHats},_.SkinConfig.arraySkinBoss[0].skinId,function(){}),v.GameData.setHatBoss(e,function(){});break;case m.ItemLevelSkin.GLOVES:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),v.GameData.addSkinBossOther(v.GameData.KEY_BOSS_CURRENT_GLOVES);break;case m.ItemLevelSkin.SCARF:s=this.skeleton.skeletonData.getRuntimeData().findSkin(e),v.GameData.addSkinBossOther(v.GameData.KEY_BOSS_CURRENT_SCARF);break;case m.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(e)}var c=new sp.spine.Skin("Temp");c.addSkin(i),s&&v.GameData.currentSkinBoss==C.GameConfig.boss_skin_default&&c.addSkin(s),a&&c.addSkin(a),r&&c.addSkin(r),o&&c.addSkin(o),n&&c.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(c),this.skeleton.setSkin(c.name),this.dataNewSkin=c},e.prototype.onDieNormal=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieFire=function(){this.stopMove(),this.offSoundIdle(),this.playAnimation(this.dieFireAnim,!0),this.isAlive=!1;var t=p.default.instance.node.getComponentInChildren(b.default);t&&(t.node.active=!1),r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDirty=function(){this.isDirty=!0,this.playAnimation(this.dirtyAnim,!0),r.GlobalSignals.questFailSignal.dispatch(),this.offSoundIdle()},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAutoMove=!1},e._instance=null,a([A(cc.String)],e.prototype,"winAnim",void 0),a([A(cc.String)],e.prototype,"winAnim2",void 0),a([A(cc.String)],e.prototype,"failAnim",void 0),a([A(cc.String)],e.prototype,"failAnim1",void 0),a([A({visible:function(){return""==this.failAnim1}})],e.prototype,"loopAnimFail",void 0),a([A(l.default)],e.prototype,"jumpCollider",void 0),a([A(cc.Label)],e.prototype,"lbProcess",void 0),a([A(cc.String)],e.prototype,"dirtyAnim",void 0),o=a([O],e)}(c.default);o.default=R,cc._RF.pop()},{"../../../GameData":"GameData","../../../Gift/SeftUtils":"SeftUtils","../../../MainScene":"MainScene","../../../base/ColliderCallback":"ColliderCallback","../../../config/AudioPlayId":"AudioPlayId","../../../config/GameConfig":"GameConfig","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../puzzles/PuzzlesPopup":"PuzzlesPopup","../../homePin2/Libbey":"Libbey","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../Character":"Character"}],MoveCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"e8b3bJpT95DF5LXqOlQdvTC","MoveCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.Vec2,s=t("../../base/PhysicalEnable"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Velocity_X=120,e.Jump=30,e.enableOverTerrain=!0,e.Walk_Force_Coe=1,e.Rigid_Body=null,e.Direction=0,e}return i(e,t),e.prototype.onLoad=function(){this.Rigid_Body=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){this.Walk_Force=1e3*this.Rigid_Body.getMass()*this.Walk_Force_Coe,this.Jump_Force=1e3*this.Rigid_Body.getMass()*this.Jump},e.prototype.moveLeft=function(){this.Direction=-1},e.prototype.moveRight=function(){this.Direction=1},e.prototype.moveJump=function(){this.Rigid_Body.applyForceToCenter(cc.v2(0,this.Jump_Force),!0)},e.prototype.stopMove=function(){this.Direction=0,this.Rigid_Body.linearVelocity=r.ZERO},e.prototype.update=function(){if((this.Direction>0&&this.Rigid_Body.linearVelocity.x<this.Velocity_X||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-this.Velocity_X)&&this.Rigid_Body.applyForceToCenter(cc.v2(this.Direction*this.Walk_Force*s.default.REAL_GRAVITY_SCALE,0),!0),this.enableOverTerrain&&(this.Direction>0&&this.Rigid_Body.linearVelocity.x<10||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-10)){var t=this.Rigid_Body.linearVelocity.y<30?5:-10;this.Rigid_Body.applyForceToCenter(cc.v2(0,t*this.Walk_Force*s.default.REAL_GRAVITY_SCALE),!0)}},a([u(cc.Float)],e.prototype,"Velocity_X",void 0),a([u(cc.Float)],e.prototype,"Jump",void 0),a([u(cc.Boolean)],e.prototype,"enableOverTerrain",void 0),a([u(cc.Float)],e.prototype,"Walk_Force_Coe",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../base/PhysicalEnable":"PhysicalEnable"}],MoveToItem:[function(t,e,o){"use strict";cc._RF.push(e,"e23c25EjotMBpDODOtJwu/4","MoveToItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/TagObject"),s=t("../../config/GlobalSignals"),c=t("../../level/MapLevel"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){t.node.name==r.TagConfig.BOSS&&c.default.instance.isPlaying&&s.GlobalSignals.questPassSignal.dispatch()},a([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],MyAudioPlayer:[function(t,e){"use strict";cc._RF.push(e,"a7628SEG81DQrwsRPOprRnj","MyAudioPlayer");var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=n?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(o,a,r):o[a]=t[a]}return o.default=t,e&&e.set(t,o),o}(t("./AudioPlayer")),n=t("../../config/AudioPlayId");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}cc.Class({extends:o.default,properties:{arrayAudioObj:{type:[o.AudioObject],default:function(){var t=[];for(var e in n.AudioPlayId){var i=new o.AudioObject;i.name=n.AudioPlayId[e+""],i.isMusic=!1,i.audioClip=null,t.push(i)}return t},override:!0}}}),cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioPlayer":"AudioPlayer"}],MyRoom:[function(t,e,o){"use strict";cc._RF.push(e,"73b4e4nWfpO3aCoMUirYPtQ","MyRoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ReplaceItem"),s=t("../GameData"),c=t("../config/RoomConfig"),l=t("../config/PuzzlesConfig"),u=t("../puzzles/PuzzlesPopup"),p=t("../MainScene"),d=t("./DecorButton"),f=t("../config/AudioPlayId"),h=t("../HomeScreen"),g=cc._decorator,y=g.ccclass,_=g.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.character=[],e.popupPuzzles=null,e.items=[],e.puzzleButtons=null,e.effectPrefab=null,e.effectUpgrade=null,e.roomNoti=null,e.roomId=0,e._dataRoom=[],e._listItemDecorButton=[],e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.roomId=c.RoomConfig.getRoomIdByName(this.node.name),this._dataRoom=s.GameData.arrayItemsDecor[this.roomId],this.puzzleButtons.children.forEach(function(e,o){var n=t.puzzleButtons.children[o].getComponent(d.default);t._listItemDecorButton.push(n)}),this._dataRoom&&(this.puzzleButtons.active=!1,this.initRoom(this._dataRoom))},e.prototype.onDisable=function(){},e.prototype.showNotiTip=function(){h.default.instance.uiRoot.active=!1,this.roomNoti.active=!0},e.prototype.initRoom=function(t){var e=this;t.forEach(function(t,o){t&&(e._listItemDecorButton[o].init(t.puzzles.length,t.lv,e.node.name,o,e.items[o].replaceBy.getComponent(cc.Sprite)),l.PuzzlesConfig.checkDone(t.puzzles)&&(e.puzzleButtons.children[o].getComponent(d.default).setEffect(e.effectUpgrade),e.items[o].replaceBy.active=!0,e.items[o].node.active=!1))})},e.prototype.openItem=function(t,e){var o=this;cc.log("openItem"),this.activeCharacter(!1);var n=this.items[t];p.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_change),this.showEffectAppear(this.effectPrefab,n.node.position),n.replace(function(){e(),o.scheduleOnce(function(){o.activeCharacter(!0)},1)})},e.prototype.showEffectAppear=function(t,e){if(t){var o=cc.instantiate(t);o.setPosition(e),o.scale=1,this.node.addChild(o),cc.tween(o).delay(.8).call(function(){o.destroy()}).start()}else cc.warn("effectPrefab is null")},e.prototype.openPuzzlesPopup=function(t,e){var o=cc.instantiate(this.popupPuzzles);o.parent=p.default.instance.node.parent;var n=o.getComponent(u.default);this._dataRoom[e-1]?(n.init(this._dataRoom[e-1].puzzles,e,this.roomId),n.setStateBtnAds(!1)):(n.init([],e,this.roomId),n.setStateBtnAds(!1))},e.prototype.openPopupItems=function(){this.puzzleButtons.active=!0,this.activeCharacter(!1)},e.prototype.closePopupItems=function(){this.puzzleButtons.active=!1,this.activeCharacter(!0)},e.prototype.goToLevel=function(){this.roomNoti.active=!1,p.default.instance.showGamePlayScreen()},e.prototype.openFromHome=function(){p.default.instance.showSelectRoomPopup(),this.puzzleButtons.active=!0},e.prototype.activeCharacter=function(t){this.character.forEach(function(e){e.active=t})},a([_([cc.Node])],e.prototype,"character",void 0),a([_(cc.Prefab)],e.prototype,"popupPuzzles",void 0),a([_([r.default])],e.prototype,"items",void 0),a([_(cc.Node)],e.prototype,"puzzleButtons",void 0),a([_(cc.Prefab)],e.prototype,"effectPrefab",void 0),a([_(cc.Prefab)],e.prototype,"effectUpgrade",void 0),a([_(cc.Node)],e.prototype,"roomNoti",void 0),a([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","../config/PuzzlesConfig":"PuzzlesConfig","../config/RoomConfig":"RoomConfig","../puzzles/PuzzlesPopup":"PuzzlesPopup","./DecorButton":"DecorButton","./ReplaceItem":"ReplaceItem"}],NailGO:[function(t,e,o){"use strict";cc._RF.push(e,"d58e2tN5VFOXbxOHTqT9/Jn","NailGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/PhysicsConfig"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){r.PhysicsConfig.initPhysicConfig(this.node,"nail")},a([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/PhysicsConfig":"PhysicsConfig"}],NoPadding:[function(t,e,o){"use strict";cc._RF.push(e,"38edcJmpCxB+7H8EcyM17AP","NoPadding"),Object.defineProperty(o,"__esModule",{value:!0}),o.NoPadding=void 0;var n=function(){function t(){}return t.pad=function(){},t.unpad=function(){},t}();o.NoPadding=n,cc._RF.pop()},{}],NodeFixSize:[function(t,e,o){"use strict";cc._RF.push(e,"ac315ALtiZAaIv7DzDPnY3h","NodeFixSize");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fixWidth=!1,e.fixHeight=!1,e.auto=!1,e}return i(e,t),e.prototype.onEnable=function(){if(this.fixWidth||this.fixHeight||this.auto){var t=cc.winSize;if(this.auto&&(this.node.width/this.node.height<t.width/t.height?(this.fixHeight=!1,this.fixWidth=!0):(this.fixHeight=!0,this.fixWidth=!1)),this.fixWidth&&this.fixHeight)return this.node.width=t.width,void(this.node.height=t.height);var e=this.fixWidth?t.width/this.node.width:t.height/this.node.height;this.node.width*=e,this.node.height*=e}},a([c(cc.Boolean)],e.prototype,"fixWidth",void 0),a([c(cc.Boolean)],e.prototype,"fixHeight",void 0),a([c(cc.Boolean)],e.prototype,"auto",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NormalBomb:[function(t,e,o){"use strict";cc._RF.push(e,"5155bU7jAhA25Y5JRym02+i","NormalBomb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),c=t("../../config/TagObject"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigBangPrefab=null,e.onAttack=!1,e}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"bomb")},e.prototype.onCollisionEnter=function(t){t.node.group!==r.GroupConfig.CHARACTER&&t.node.group!==r.GroupConfig.COLLIDER&&t.node.group!==r.GroupConfig.GEMS&&t.node.group!==r.GroupConfig.BALL&&t.node.group!==r.GroupConfig.ITEM&&t.node.group!==r.GroupConfig.WATER&&t.node.group!==r.GroupConfig.LAVA&&t.node.group!==r.GroupConfig.COAL&&t.node.name!=c.TagConfig.CHARCOAL||this.onAttack||(this.attack(),this.onAttack=!0),t.node.name==c.TagConfig.ROSE&&(this.onAttack||(this.attack(),this.onAttack=!0))},e.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var t=cc.instantiate(this.bigBangPrefab),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),t.scale=this.node.scale,this.node.destroy()},a([p(cc.Prefab)],e.prototype,"bigBangPrefab",void 0),a([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],NumberUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"5f57bf0wUVL5oDhX1pS612S","NumberUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.step=.01,e._formatFunc=null,e._currentNumber=0,e._dstNumber=0,e}return i(e,t),Object.defineProperty(e.prototype,"currentNumber",{get:function(){return this._currentNumber},set:function(t){this._currentNumber=t,this.updateLabel()},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.label||(this.label=this.getComponent(cc.Label))},e.prototype.setFormatFunc=function(t){this._formatFunc=t},e.prototype.updateNumber=function(t,e,o){this.currentNumber=this._dstNumber,this.setNumber(t,e,o)},e.prototype.setNumber=function(t,e,o){var n=this;if(this._dstNumber=t,e){if(this.unscheduleAllCallbacks(),this.currentNumber===t)return;o&&(this.step=o);var i=this.step,a=Math.floor(e/this.step);this.currentNumber>t&&(this.currentNumber=0);var r=Math.ceil((t-this.currentNumber)/a);r<=0&&(r=1),this.schedule(function(){n.currentNumber+=r,n.currentNumber>t&&(n.currentNumber=t,n.unscheduleAllCallbacks())},i,a,0)}else this.currentNumber=t},e.prototype.updateLabel=function(){cc.isValid(this.label)?this._formatFunc?this.label.string=""+this._formatFunc(this.currentNumber):this.label.string=""+this.currentNumber:cc.warn("this.label is not valid or null or undefined")},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},a([c(cc.Label)],e.prototype,"label",void 0),a([c(cc.Integer)],e.prototype,"step",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenItem:[function(t,e,o){"use strict";cc._RF.push(e,"0ab54+/wy5Mo71tsg159rYL","OpenItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemSkeleton=null,e.effectAppear=null,e.callback=null,e.itemConfig=null,e}return i(e,t),e.prototype.onOpenClick=function(){this.itemSkeleton.node.removeFromParent(),this.node.getParent().addChild(this.itemSkeleton.node),this.callback&&this.callback(this.itemSkeleton.node,this.effectAppear),this.node.removeFromParent()},e.prototype.setOpenCallback=function(t){this.callback=t},e.prototype.show=function(t){cc.log("OpenItem show "+t.skin),this.itemConfig=t,this.itemSkeleton.setSkin(t.skin),this.itemSkeleton.setSlotsToSetupPose()},a([c(sp.Skeleton)],e.prototype,"itemSkeleton",void 0),a([c(cc.Prefab)],e.prototype,"effectAppear",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenSSLKdf:[function(t,e,o){"use strict";cc._RF.push(e,"ae5afqW9ARC/Yueq9F1e3Za","OpenSSLKdf"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSLKdf=void 0;var n=t("../lib/WordArray"),i=t("../lib/CipherParams"),a=t("../algo/EvpKDF"),r=function(){function t(){}return t.execute=function(t,e,o,r){r||(r=n.WordArray.random(8));var s=new a.EvpKDF({keySize:e+o}).compute(t,r),c=new n.WordArray(s.words.slice(e),4*o);return s.sigBytes=4*e,new i.CipherParams({key:s,iv:c,salt:r})},t}();o.OpenSSLKdf=r,cc._RF.pop()},{"../algo/EvpKDF":"EvpKDF","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OpenSSL:[function(t,e,o){"use strict";cc._RF.push(e,"172f8Os1y5DY5qir9NXuOKB","OpenSSL"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSL=void 0;var n=t("../lib/CipherParams"),i=t("../lib/WordArray"),a=t("../enc/Base64"),r=function(){function t(){}return t.stringify=function(t){if(!t.ciphertext)throw new Error("missing ciphertext in params");var e,o=t.ciphertext,n=t.salt;if(n){if("string"==typeof n)throw new Error("salt is expected to be a WordArray");e=new i.WordArray([1398893684,1701076831]).concat(n).concat(o)}else e=o;return e.toString(a.Base64)},t.parse=function(t){var e,o=a.Base64.parse(t);return 1398893684===o.words[0]&&1701076831===o.words[1]&&(e=new i.WordArray(o.words.slice(2,4)),o.words.splice(0,4),o.sigBytes-=16),new n.CipherParams({ciphertext:o,salt:e})},t}();o.OpenSSL=r,cc._RF.pop()},{"../enc/Base64":"Base64","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],PKCS7:[function(t,e,o){"use strict";cc._RF.push(e,"1f46dxgcJJBi6t5s95WryX9","PKCS7"),Object.defineProperty(o,"__esModule",{value:!0}),o.PKCS7=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.pad=function(t,e){for(var o=4*e,i=o-t.sigBytes%o,a=i<<24|i<<16|i<<8|i,r=[],s=0;s<i;s+=4)r.push(a);var c=new n.WordArray(r,i);t.concat(c)},t.unpad=function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e},t}();o.PKCS7=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Padding:[function(t,e,o){"use strict";cc._RF.push(e,"acb37K6ocRNAKDeUZjDREny","Padding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ParticleLoop:[function(t,e,o){"use strict";cc._RF.push(e,"94f7cvxN9VAWZbGjcmK9FYB","ParticleLoop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loop=!0,e.particleSystem=null,e}return i(e,t),e.prototype.onLoad=function(){this.particleSystem=this.getComponent(cc.ParticleSystem)},e.prototype.update=function(){0==this.particleSystem.particleCount&&(this.loop?(cc.log("particleCount = "+this.particleSystem.particleCount),this.particleSystem.resetSystem()):this.particleSystem.stopSystem())},a([c(cc.Boolean)],e.prototype,"loop",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PasswordBasedCipher:[function(t,e,o){"use strict";cc._RF.push(e,"30e13vNU69GXpn4b/xGwwct","PasswordBasedCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.PasswordBasedCipher=void 0;var n=t("./SerializableCipher"),i=t("./WordArray"),a=t("../format/OpenSSL"),r=t("../kdf/OpenSSLKdf"),s=function(){function t(){}return t.encrypt=function(t,e,o,i){var a=Object.assign({},this.cfg,i);if(void 0===a.kdf)throw new Error("missing kdf in config");var r=a.kdf.execute(o,t.keySize,t.ivSize);return void 0!==r.iv&&(a.iv=r.iv),n.SerializableCipher.encrypt.call(this,t,e,r.key,a).extend(r)},t.decrypt=function(t,e,o,i){var a=Object.assign({},this.cfg,i);if(void 0===a.format)throw new Error("missing format in config");if(e=this._parse(e,a.format),void 0===a.kdf)throw new Error("the key derivation function must be set");var r=a.kdf.execute(o,t.keySize,t.ivSize,e.salt);return void 0!==r.iv&&(a.iv=r.iv),n.SerializableCipher.decrypt.call(this,t,e,r.key,a)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new i.WordArray([]),format:a.OpenSSL,kdf:r.OpenSSLKdf},t}();o.PasswordBasedCipher=s,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","../kdf/OpenSSLKdf":"OpenSSLKdf","./SerializableCipher":"SerializableCipher","./WordArray":"WordArray"}],PetConfig:[function(t,e,o){"use strict";cc._RF.push(e,"9f7d0dJY1JIqpxueDH9IN7/","PetConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PetConfig=o.ItemEggConfig=o.ItemPetConfig=void 0;var n=function(t,e,o){void 0===o&&(o=""),this.maxLevel=5,this.petId=t,this.skins=e,this.pathDir=o};o.ItemPetConfig=n;var i=function(t,e,o,n){this.eggId=t,this.petId=e,this.skins=o,this.value=n};o.ItemEggConfig=i;var a=function(){function t(){}return t.getPetConfigById=function(e){for(var o=0;o<t.arrayPetConfig.length;o++){var n=t.arrayPetConfig[o];if(n.petId==e)return n}return null},t.getEggConfigById=function(e){for(var o=0;o<t.arrayEggConfig.length;o++){var n=t.arrayEggConfig[o];if(n.eggId==e)return n}return null},t.arrayPetConfig=[new n("pet_1","","spines/PetPopup/PetCat/Cat"),new n("pet_2","","spines/PetPopup/PetDoge/Doge"),new n("pet_3","","spines/PetPopup/PetBear/Bear"),new n("pet_4","","spines/PetPopup/PetFox/Fox"),new n("pet_5","","spines/PetPopup/PetDino/Dino"),new n("pet_6","","spines/PetPopup/PetReindeer/Reindeer_Pet")],t.arrayEggConfig=[new i("egg_1","pet_1","Egg1",20),new i("egg_2","pet_2","Egg2",50),new i("egg_3","pet_3","Egg3",100),new i("egg_4","pet_4","Egg4",150),new i("egg_5","pet_5","Egg5",200),new i("egg_6","pet_6","Egg6",250)],t}();o.PetConfig=a,cc._RF.pop()},{}],PetDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"9a624HLvSJInKAz0YfJpnOA","PetDataManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.PetDataManager=o.PetDataT=o.EggData=void 0;var n=t("../base/utils/ArrayUtil"),i=t("../base/utils/MathUtil"),a=t("../config/PetConfig"),r=t("../GameData"),s={Level1:[1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3,1e3],Level2:[2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3],Level3:[3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3],Level4:[5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3],Level5:[5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3]},c=function(){this.eggId="",this.eggNumber=0};o.EggData=c;var l=function(){this.petId="",this.petLevel=0,this.petExp=0};o.PetDataT=l;var u=function(){function t(){}return t.ConvertDataPet=function(t){if(""==t)return null;var e=new l,o=t;"string"==typeof t&&(o=JSON.parse(t));var i=n.default.getValue(o,this.KEY_PET_ID,"");return""==i?null:(e.petId=i,e.petExp=n.default.getValue(o,this.KEY_PET_EXP,0),e.petLevel=n.default.getValue(o,this.KEY_PET_LEVEL,0),e)},t.ConvertDataEgg=function(t){if(""==t)return null;var e=new c,o=t;"string"==typeof t&&(o=JSON.parse(t));var i=n.default.getValue(o,this.KEY_EGG_ID,"");return""==i?null:(e.eggId=i,e.eggNumber=n.default.getValue(o,this.KEY_EGG_NUMBER,0),e)},t.ConvertToArrDataPet=function(t){if(""==t)return[];var e=[],o=JSON.parse(t);if(!(o instanceof Array))return[];for(var n=0;n<o.length;n++){var i=o[n],a=this.ConvertDataPet(i);e.push(a)}return e},t.ConvertToArrDataEgg=function(t){if(""==t)return[];var e=[],o=JSON.parse(t);if(!(o instanceof Array))return[];for(var n=0;n<o.length;n++){var i=o[n],a=this.ConvertDataEgg(i);e.push(a)}return e},t.pickRandomAEgg=function(){for(var t=[],e=0;e<a.PetConfig.arrayEggConfig.length;e++){var o=a.PetConfig.arrayEggConfig[e],n=r.GameData.myEggs[e];if(!n)return o;n.eggNumber<a.PetConfig.arrayEggConfig[e].value&&t.push(n)}if(0==t.length)return null;var s=i.default.randomInt(t.length),c=parseInt(t[s].eggId.split("_")[1],10);return a.PetConfig.arrayEggConfig[c-1]},t.GetCostUpgrade=function(t,e){var o=s[t];return o?o[e]:5e3},t.getMaxExpLevel=function(t){var e=s[t];return e?e.length:-1},t.createNewPetFromCofig=function(t){var e=new l;return e.petExp=0,e.petId=t.petId,e.petLevel=1,e},t.cloneAPet=function(t){var e=new l;return e.petExp=t.petExp,e.petId=t.petId,e.petLevel=t.petLevel,e},t.KEY_PET_ID="petId",t.KEY_PET_EXP="petExp",t.KEY_PET_LEVEL="petLevel",t.KEY_EGG_ID="eggId",t.KEY_EGG_NUMBER="eggNumber",t}();o.PetDataManager=u,cc._RF.pop()},{"../GameData":"GameData","../base/utils/ArrayUtil":"ArrayUtil","../base/utils/MathUtil":"MathUtil","../config/PetConfig":"PetConfig"}],PetItem:[function(t,e,o){"use strict";cc._RF.push(e,"df60aSQyLJFVJ+FTzJLK08n","PetItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/PetConfig"),s=t("../GameData"),c=t("../ResUtil"),l=t("./PetDataManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMatch=null,e.lbCost=null,e.btnMatch=null,e.btnUpdate=null,e.btnSwitch=null,e.skePet=null,e.skeEgg=null,e.proGressPetNode=null,e.proGressPet=null,e.containerEgg=null,e.containerPet=null,e.light=null,e.petData=null,e.ClickCallback=null,e}return i(e,t),e.prototype.initPetItem=function(t,e){this.cfg=t,this.ClickCallback=e,this.petConfig=r.PetConfig.getPetConfigById(this.cfg.petId),this.checkLightPetItem(),s.GameData.checkHavePet(t.petId)?this.onPet():this.onEgg(t)},e.prototype.checkLightPetItem=function(){this.light.active=!1,s.GameData.CurrentPet&&this.petConfig&&s.GameData.CurrentPet.petId==this.petConfig.petId&&(this.light.active=!0)},e.prototype.onEgg=function(t){this.containerEgg.active=!0,this.containerPet.active=!1;var e=s.GameData.getNumberEgg(t.eggId);this.lbMatch.string=e+"/"+t.value,this.skeEgg.node.active=!0,this.skeEgg.setSkin(t.skins),e>=t.value?this.btnMatch.interactable=!0:this.btnMatch.interactable=!1},e.prototype.onPet=function(){var t=this;this.containerPet.active=!0,this.containerEgg.active=!1,this.skePet.node.active=!0,this.petData=s.GameData.getMyPetWithId(this.cfg.petId);var e="Level"+this.petData.petLevel,o=l.PetDataManager.GetCostUpgrade(e,this.petData.petExp),n=l.PetDataManager.getMaxExpLevel(e);this.updateStateBtn(),this.proGressPet.fillRange=this.petData.petExp/n,this.lbCost.string=o+"",this.GrayStateItem(o),c.ResUtil.getSpineAnimPet(this.petConfig,function(o,n){t.skePet.skeletonData=n,t.skePet.setSkin(e),t.skePet.setAnimation(0,"Idle",!0)})},e.prototype.GrayStateItem=function(t){s.GameData.playerCoin<t?(this.btnUpdate.interactable=!1,this.btnUpdate.node.children[0].children[1].children[0].active=!0):(this.btnUpdate.interactable=!0,this.btnUpdate.node.children[0].children[1].children[0].active=!1)},e.prototype.onClickMath=function(){var t=this;this.skeEgg.setAnimation(0,"Break",!1);var e=l.PetDataManager.createNewPetFromCofig(this.petConfig);s.GameData.addPet(e,function(){}),this.scheduleOnce(function(){t.onPet()},1)},e.prototype.onClickUpdate=function(){var t=this,e="Level"+this.petData.petLevel,o=l.PetDataManager.GetCostUpgrade(e,this.petData.petExp);s.GameData.playerCoin<o||s.GameData.addExpPet(this.petConfig.petId,function(){},function(e,o){if(e){t.petData=e;var n="Level"+t.petData.petLevel,i=l.PetDataManager.GetCostUpgrade(n,t.petData.petExp),a=l.PetDataManager.getMaxExpLevel(n);t.proGressPet.fillRange=t.petData.petExp/a,t.lbCost.string=i+"",t.GrayStateItem(i),o&&(t.skePet.setSkin(n),t.skePet.setAnimation(0,"Idle",!0)),5==t.petData.petLevel&&t.updateStateBtn()}},-o)},e.prototype.onClickSwitch=function(){this.ClickCallback(this.petConfig)},e.prototype.updateStateBtn=function(){5==this.petData.petLevel?(this.btnUpdate.node.active=!1,this.proGressPetNode.active=!1):(this.btnUpdate.node.active=!0,this.proGressPetNode.active=!0)},a([d(cc.Label)],e.prototype,"lbMatch",void 0),a([d(cc.Label)],e.prototype,"lbCost",void 0),a([d(cc.Button)],e.prototype,"btnMatch",void 0),a([d(cc.Button)],e.prototype,"btnUpdate",void 0),a([d(cc.Button)],e.prototype,"btnSwitch",void 0),a([d(sp.Skeleton)],e.prototype,"skePet",void 0),a([d(sp.Skeleton)],e.prototype,"skeEgg",void 0),a([d(cc.Node)],e.prototype,"proGressPetNode",void 0),a([d(cc.Sprite)],e.prototype,"proGressPet",void 0),a([d(cc.Node)],e.prototype,"containerEgg",void 0),a([d(cc.Node)],e.prototype,"containerPet",void 0),a([d(cc.Node)],e.prototype,"light",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/PetConfig":"PetConfig","./PetDataManager":"PetDataManager"}],PetManager:[function(t,e,o){"use strict";cc._RF.push(e,"0dd93ixSo1Ep4urjPsSk7+5","PetManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},a([c(cc.Label)],e.prototype,"label",void 0),a([c],e.prototype,"text",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PetPanalSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"edf3699bOlF3rKZw1VbY7pp","PetPanalSwitch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("./ItemPetSwitch"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.itemPetSwitch=null,e}return i(e,t),e.prototype.Show=function(t){this.node.active=!0,this.IntPetPanlSwitch(t)},e.prototype.Hide=function(){this.node.active=!1},e.prototype.onClickClose=function(){this.Hide()},e.prototype.IntPetPanlSwitch=function(t){for(var e=this,o=r.GameData.getMyPetWithId(t.petId),n=0;n<t.maxLevel;n++){var i=this.container.children[n];i||(i=cc.instantiate(this.itemPetSwitch),this.container.addChild(i));var a=i.getComponent(s.default),c=this.getStateItem(n,o),l=this.isSelectedPet(t.petId,n+1);a.initItemPetSwitch({isHave:c,isSelected:l,level:n+1,petCfg:t},function(t){e.selectSkinPetByCfg(t)})}},e.prototype.selectSkinPetByCfg=function(t){for(var e=0;e<this.container.children.length;e++){var o=this.container.children[e].getComponent(s.default);o.cfg.level!=t.level&&o.setActiveLight(!1)}},e.prototype.getStateItem=function(t,e){return t<e.petLevel},e.prototype.isSelectedPet=function(t,e){return!!r.GameData.CurrentPet&&r.GameData.CurrentPet.petId==t&&e==r.GameData.CurrentPet.petLevel},a([u(cc.Node)],e.prototype,"container",void 0),a([u(cc.Node)],e.prototype,"itemPetSwitch",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../GameData":"GameData","./ItemPetSwitch":"ItemPetSwitch"}],PetPopup:[function(t,e,o){"use strict";cc._RF.push(e,"7a6a6+3lcFK/LcChGA/Sx8j","PetPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../config/PetConfig"),c=t("./PetItem"),l=t("./PetPanalSwitch"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrayPetItem=[],e.rowPrefab=null,e.container=null,e.petPrefab=null,e.petPanelSwitch=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.initData(),r.GlobalSignals.changeSkinPetSignal.add(this.updateSkinPet.bind(this))},e.prototype.onDisable=function(){r.GlobalSignals.changeSkinPetSignal.remove(this.updateSkinPet.bind(this))},e.prototype.Show=function(){this.node.active=!0},e.prototype.updateSkinPet=function(){for(var t=0;t<this.arrayPetItem.length;t++)this.arrayPetItem[t].checkLightPetItem()},e.prototype.Hide=function(){this.node.active=!1},e.prototype.initData=function(){for(var t,e=this,o=(t=s.PetConfig.arrayEggConfig).length,n=Math.ceil(o/3),i=0,a=0;a<n;a++){var r=this.container.children[a];r||(r=cc.instantiate(this.rowPrefab),this.container.addChild(r)),r.active=!0;for(var l=0;l<3&&!(i>=o);l++){var u=t[i],p=r.children[l];p||(p=cc.instantiate(this.petPrefab),r.addChild(p)),p.position=r.children[l].position;var d=p.getComponent(c.default);d.initPetItem(u,function(t){e.petPanelSwitch.Show(t)}),this.arrayPetItem.push(d),i++}}},e.prototype.onClickClose=function(){this.Hide()},a([d(cc.Prefab)],e.prototype,"rowPrefab",void 0),a([d(cc.Node)],e.prototype,"container",void 0),a([d(cc.Prefab)],e.prototype,"petPrefab",void 0),a([d(l.default)],e.prototype,"petPanelSwitch",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../config/PetConfig":"PetConfig","./PetItem":"PetItem","./PetPanalSwitch":"PetPanalSwitch"}],PetWalkFollowDance:[function(t,e,o){"use strict";cc._RF.push(e,"a74b4V+XKRMgIOKDnhJNC3X","PetWalkFollowDance");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction=1,e.speed=3,e.target=null,e.basePos=null,e}return i(e,t),e.prototype.start=function(){this.basePos=this.node.position.clone()},e.prototype.onEnable=function(){this.basePos&&(this.node.position=this.basePos.clone(),this.node.scaleX=Math.abs(this.node.scaleX),this.direction=1)},e.prototype.update=function(){this.node.x+=this.speed*this.direction,this.node.x>305&&(this.direction=-1,this.node.scaleX*=-1,this.speed=2.62),this.node.x<-305&&(this.direction=1,this.node.scaleX*=-1,this.speed=2.62)},a([c(cc.Node)],e.prototype,"target",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PetWalkIdleAnim:[function(t,e,o){"use strict";cc._RF.push(e,"2d7f6kwkTNJ0aeuJLnBMXt5","PetWalkIdleAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Pet"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.petPrefab=null,e.pointTo=[],e.PetCpm=null,e.newPos=[],e}return i(e,t),e.prototype.onLoad=function(){this.petPrefab.active=!0,this.PetCpm=this.petPrefab.getComponent(r.default)},e.prototype.onEnable=function(){var t=this,e=0;this.pointTo.forEach(function(e){t.newPos.push(e.position)}),this.schedule(function(){e==t.newPos.length&&(e=0),t.runAnim(e),e++},5)},e.prototype.runAnim=function(t){var e=this,o=this;(function(){}).bind(this),cc.Tween.stopAllByTarget(this.petPrefab),cc.tween(this.petPrefab).call(function(){o.PetCpm.playAnimation("Walk",!0),e.checkRotate(o.newPos[t].x)}).to(3,{position:o.newPos[t]}).call(function(){o.setNewPosPet(e.newPos[t]),o.PetCpm.playAnimation("Idle",!0)}).delay(1).start()},e.prototype.setNewPosPet=function(t){this.petPrefab.position=t},e.prototype.checkRotate=function(t){this.petPrefab.position.x>t?this.petPrefab.scaleX=-1:this.petPrefab.scaleX=1},a([l(cc.Node)],e.prototype,"petPrefab",void 0),a([l([cc.Node])],e.prototype,"pointTo",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Pet":"Pet"}],Pet:[function(t,e,o){"use strict";cc._RF.push(e,"760ba3UahhBqqURtixcYwjC","Pet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/ActionCharacterType"),s=t("../config/GlobalSignals"),c=t("../config/PetConfig"),l=t("../GameData"),u=t("../ResUtil"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultAnim="Idle",e.idleAnim="Idle",e.idleAnim2="Idle2",e.runAnim="Run",e.walkAnim="Walk",e.walkAnim2="Walk2",e.loseAnim="Lose",e.winAnim="Win",e.skeleton=null,e.currentSkin="",e}return i(e,t),e.prototype.onLoad=function(){this.updateSkinPet()},e.prototype.onEnable=function(){this._onQuestPass=this.onQuestPass.bind(this),this._onQuestFail=this.onQuestFail.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onBossAttack=this.onBossAttack.bind(this),this._bossWalkToTarget=this.onBossWalkToTargetSignal.bind(this),this._updateSkinPet=this.updateSkinPet.bind(this),this._change=this.checkStateCharacter.bind(this),s.GlobalSignals.questPassSignal.add(this._onQuestPass),s.GlobalSignals.questFailSignal.add(this._onQuestFail),s.GlobalSignals.autoMoveSignal.add(this._onAutoMove),s.GlobalSignals.bossAttackSignal.add(this._onBossAttack),s.GlobalSignals.bossWalkToTargetSignal.add(this._bossWalkToTarget),s.GlobalSignals.changeSkinPetSignal.add(this._updateSkinPet),s.GlobalSignals.characterChangeState.add(this._change)},e.prototype.onDisable=function(){s.GlobalSignals.questPassSignal.remove(this._onQuestPass),s.GlobalSignals.questFailSignal.remove(this._onQuestFail),s.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),s.GlobalSignals.bossAttackSignal.remove(this._onBossAttack),s.GlobalSignals.bossWalkToTargetSignal.remove(this._bossWalkToTarget),s.GlobalSignals.changeSkinPetSignal.remove(this._updateSkinPet),s.GlobalSignals.characterChangeState.remove(this._change)},e.prototype.checkStateCharacter=function(t){switch(t){case r.ActionCharacterType.NONE:case r.ActionCharacterType.IDLE:break;case r.ActionCharacterType.RUN:this.playAnimation(this.runAnim,!0);break;case r.ActionCharacterType.WALK:break;case r.ActionCharacterType.STOP:this.playAnimation(this.idleAnim,!0);break;case r.ActionCharacterType.ATTACK:case r.ActionCharacterType.FREE:case r.ActionCharacterType.JUMB:break;case r.ActionCharacterType.DIE_HIT:case r.ActionCharacterType.DIE_ICE:case r.ActionCharacterType.DIE_LAVA:case r.ActionCharacterType.DIE_BOMB:case r.ActionCharacterType.SUPPER:}},e.prototype.onQuestPass=function(){this.playAnimation(this.winAnim,!0)},e.prototype.onQuestFail=function(){this.playAnimation(this.loseAnim,!0)},e.prototype.onAutoMove=function(){this.playAnimation(this.runAnim,!0)},e.prototype.onBossAttack=function(){this.playAnimation(this.idleAnim,!0)},e.prototype.onBossWalkToTargetSignal=function(){this.playAnimation(this.walkAnim,!0)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.loadSkeletonData=function(t){var e=this,o=c.PetConfig.getPetConfigById(l.GameData.CurrentPet.petId);u.ResUtil.getSpineAnimPet(o,function(o,n){e.skeleton.skeletonData=n,e.playAnimation(e.defaultAnim,!0),t()})},e.prototype.updateSkinPet=function(){var t=this;if(l.GameData.CurrentPet){var e="Level"+l.GameData.CurrentPet.petLevel;this.loadSkeletonData(function(){t.changeSkin(e)})}},e.prototype.changeSkin=function(t){this.currentSkin=t,this.skeleton.setSkin(t),this.skeleton.setSlotsToSetupPose()},a([f(cc.String)],e.prototype,"defaultAnim",void 0),a([f(cc.String)],e.prototype,"idleAnim",void 0),a([f(cc.String)],e.prototype,"idleAnim2",void 0),a([f(cc.String)],e.prototype,"runAnim",void 0),a([f(cc.String)],e.prototype,"walkAnim",void 0),a([f(cc.String)],e.prototype,"walkAnim2",void 0),a([f(cc.String)],e.prototype,"loseAnim",void 0),a([f(cc.String)],e.prototype,"winAnim",void 0),a([f(sp.Skeleton)],e.prototype,"skeleton",void 0),a([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/ActionCharacterType":"ActionCharacterType","../config/GlobalSignals":"GlobalSignals","../config/PetConfig":"PetConfig"}],PhysicalEnable:[function(t,e,o){"use strict";cc._RF.push(e,"94d19YTaWdLz4svqLG607zG","PhysicalEnable");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gravityScale=1,e.isDebugPhysics=!1,e.isDebugCollider=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.collisionManager=cc.director.getCollisionManager()},e.prototype.onEnable=function(){this.setPhysicsEnabled(!0)},e.prototype.onDisable=function(){this.setPhysicsEnabled(!1)},e.prototype.update=function(t){var e=60*t*this.gravityScale;o.REAL_GRAVITY_SCALE=e,this.physicsManager.gravity=cc.v2(0,-320*e)},e.prototype.setPhysicsEnabled=function(t){this.physicsManager.enabled=t,this.collisionManager.enabled=t,this.isDebugCollider&&(this.collisionManager.enabledDebugDraw=!0),this.isDebugPhysics&&(this.physicsManager.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},e.REAL_GRAVITY_SCALE=1,a([c(cc.Float)],e.prototype,"gravityScale",void 0),a([c(cc.Boolean)],e.prototype,"isDebugPhysics",void 0),a([c(cc.Boolean)],e.prototype,"isDebugCollider",void 0),o=a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PhysicsConfig:[function(t,e,o){"use strict";cc._RF.push(e,"d7792BPXjZAyLPo/ZQk9Zwp","PhysicsConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicsConfig=void 0;var n=function(){function t(){}return t.initPhysicConfig=function(e,o){var n=e.getComponent(cc.PhysicsCollider),i=e.getComponent(cc.RigidBody);if(n&&i){var a=t.physicsObjects[o];a&&(i.gravityScale=a.gravity_scale,n.density=a.density)}else cc.warn("can not init physics config: "+o)},t.physicsObjects={character:{gravity_scale:3,density:10},gems:{gravity_scale:4,density:1},lava:{gravity_scale:4,density:1},water:{gravity_scale:4,density:1},dirty:{gravity_scale:4,density:1},snow:{gravity_scale:4,density:1},rock:{gravity_scale:5,density:50},big_stone:{gravity_scale:5,density:50},chest:{gravity_scale:5,density:50},item:{gravity_scale:4,density:50},bomb:{gravity_scale:5,density:20},coal:{gravity_scale:4,density:40},nail:{gravity_scale:4,density:10}},t}();o.PhysicsConfig=n,cc._RF.pop()},{}],PlayScreen:[function(t,e,o){"use strict";cc._RF.push(e,"a0e02WPlzNK3ZJLXO8+C7qU","PlayScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.StateGamePlay=void 0;var r,s=t("./config/QuestType"),c=t("./level/MapLevel"),l=t("./config/GlobalSignals"),u=t("./GameData"),p=t("./MainScene"),d=t("./config/AudioPlayId"),f=t("./ResUtil"),h=t("./level/WinPanel"),g=t("./HomeScreen"),y=t("./ui/ToastReward"),_=t("./base/SetLabelLanguage"),v=t("./base/LocalStorageManager"),m=t("./base/audio/AudioManager"),S=t("./PrefabManager"),b=t("./PrefabType"),C=t("./base/GameDistribution"),k=t("./objects/character/Mom/MomOther"),P=t("./objects/character/Daughter/DaughterOther"),O=t("./base/CameraManager"),A=t("./pets/EggFoundPopup"),R=t("./StreakPopup/StreakWinPopup"),D=t("./StreakPopup/StreakLosePopup"),I=cc._decorator,T=I.ccclass,E=I.property;(function(t){t[t.NONE=0]="NONE",t[t.PLAYING=1]="PLAYING",t[t.PAUSE=2]="PAUSE",t[t.BEFORE_END=3]="BEFORE_END",t[t.AFTER_END=4]="AFTER_END",t[t.END=5]="END"})(r=o.StateGamePlay||(o.StateGamePlay={}));var G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelQuest=null,e.levelRoot=null,e.winPanel=null,e.toastReward=null,e.ui=null,e.lblevel=null,e.popupRoot=null,e.streakWinPrefab=null,e.streakLosePrefab=null,e.levelPlay=-1,e.countPlayWin=0,e.isContinue=!1,e.backgroundMusic=null,e.checkDoneGetCoin=!1,e.stateGamePlay=r.NONE,e.posCharacter=cc.Vec3.ZERO,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.isContinue=!1,this.toastReward.node.active=!1,p.default.instance.screenManager.showFlash(1)},e.prototype.onEnable=function(){console.log("PlayScreen OnEnable"),u.GameData.currentCoin=u.GameData.playerCoin,this.isContinue?cc.log("PlayScreen isContinue"):(this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),this._daughterGiveEgg=this.onGirlGiveEgg.bind(this),l.GlobalSignals.questFailSignal.add(this._questFailSignal),l.GlobalSignals.questPassSignal.add(this._questPassSignal),l.GlobalSignals.daughterGiveEggSignal.add(this._daughterGiveEgg),u.GameData.showIntroLevel4||5!=u.GameData.currentLevelId||p.default.instance.showIntroLevel4(!0,function(){O.CameraManager.instance.activeCameraUI(!0)}),u.GameData.showIntro||0!=u.GameData.currentLevelId?0===this.levelRoot.childrenCount&&this.loadCurrentLevel():(this.loadLevel(0),f.ResUtil.loadLevelById(1),this.ui.active=!1))},e.prototype.start=function(){JSON.parse(cc.sys.localStorage.getItem("firstTime"))&&cc.sys.localStorage.setItem("firstTime",JSON.stringify(!1))},e.prototype.onDisable=function(){p.default.instance.audioPlayer.stopAllEffect(),this.isContinue||(l.GlobalSignals.questFailSignal.remove(this._questFailSignal),l.GlobalSignals.questPassSignal.remove(this._questPassSignal),l.GlobalSignals.daughterGiveEggSignal.remove(this._daughterGiveEgg),this.levelRoot.childrenCount>0&&this.levelRoot.removeAllChildren(),this.unscheduleAllCallbacks(),this.backgroundMusic&&(p.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null))},e.prototype.onQuestFail=function(){var t=this;this.onEventBeforeFail(function(){t.stateGamePlay=r.END;var e=k.default.instance||P.default.instanceD,o=0;e&&(o=e.isGround?0:.6),t.scheduleOnce(function(){t.winPanel.showLose(),t.ui.active=!1,p.default.instance.audioPlayer.playAudio(d.AudioPlayId.lose_level)},.8+o)})},e.prototype.onQuestPass=function(){var t=this;this.onEventBeforePass(function(){t.stateGamePlay=r.END;var e=k.default.instance||P.default.instanceD;t.winPanel.loadCoinFly();var o=0;if(e&&(o=e.isGround?0:.6),c.default.instance.isQuestCollectItem)t.scheduleOnce(function(){t.isContinue=!0,t.countPlayWin++,u.GameData.saveLevelUp();var e=c.default.instance.itemLoot.itemConfig;cc.log("onQuestPass: "+e.skin),p.default.instance.showHomeScreen(function(o){o.getComponent(g.default).initOpenItem(e,function(){p.default.instance.showGamePlayScreen(function(){t.isContinue=!1,t.winPanel.showWin(),t.ui.active=!1})})})},.8);else if(c.default.instance.isQuestCollectItemLevelOther)t.scheduleOnce(function(){t.ui.active=!1,u.GameData.saveLevelUp(),t.winPanel.showWin(),p.default.instance.audioPlayer.playAudio(d.AudioPlayId.win_level)},.8+o);else if(c.default.instance.isQuestSaveDaughter)t.scheduleOnce(function(){t.winPanel.showWin(),t.ui.active=!1,u.GameData.saveLevelUp()},.8+o);else{if(c.default.instance.isCollectPuzzle)return t.isContinue=!0,t.winPanel.showWin(),t.countPlayWin++,u.GameData.saveLevelUp(),void u.GameData.setCurrentLevelPuzzle();t.isContinue=!1,t.scheduleOnce(function(){t.countPlayWin++,t.winPanel.showWin(),t.ui.active=!1,u.GameData.saveLevelUp(),p.default.instance.audioPlayer.playAudio(d.AudioPlayId.win_level)},.8+o)}})},e.prototype.onEventBeforePass=function(t){this.stateGamePlay==r.PLAYING&&(this.stateGamePlay=r.BEFORE_END),this.stateGamePlay==r.BEFORE_END&&(u.GameData.currentLevelId>4&&u.GameData.enableStreakPopup.enable?this.showStreakWinPopup(t):t())},e.prototype.onEventBeforeFail=function(t){this.stateGamePlay==r.PLAYING&&(this.stateGamePlay=r.BEFORE_END),this.stateGamePlay==r.BEFORE_END&&(u.GameData.currentLevelId>4&&u.GameData.enableStreakPopup.enable?this.showStreakLosePopup(t):t())},e.prototype.onGirlGiveEgg=function(t,e){var o=this;c.default.instance.isPlaying&&(u.GameData.addEggNumber(t.eggId,function(){}),S.default.instance.loadPrefabByType(b.PrefabType.EGG_FOUND_POPUP,function(n){var i=cc.instantiate(n);i.getComponent(A.default).init(t,e),i.parent=o.node}))},e.prototype.loadCurrentLevel=function(t){void 0===t&&(t=!0),this.stateGamePlay=r.PLAYING,this.ui.active=!0,this.unscheduleAllCallbacks(),p.default.instance.audioPlayer.stopAllEffect(),u.GameData.currentLevelId%5==0&&0!=u.GameData.currentLevelId?(this.loadLevel(u.GameData.currentLevelPuzzle,!0,t),u.GameData.previousLevelPuzzle=u.GameData.currentLevelPuzzle,f.ResUtil.loadLevelById(u.GameData.currentLevelId+1),f.ResUtil.releaseLevelById(u.GameData.currentLevelId-1)):(this.loadLevel(u.GameData.currentLevelId,!1,t),0!=u.GameData.previousLevelPuzzle&&(f.ResUtil.releaseLevelPuzzleById(u.GameData.previousLevelPuzzle),u.GameData.previousLevelPuzzle=0),(u.GameData.currentLevelId+1)%5==0&&0!=u.GameData.currentLevelId?(f.ResUtil.loadLevelPuzzleById(u.GameData.currentLevelPuzzle),f.ResUtil.releaseLevelById(u.GameData.currentLevelId-1)):(f.ResUtil.loadLevelById(u.GameData.currentLevelId+1),f.ResUtil.releaseLevelById(u.GameData.currentLevelId-1))),this.backgroundMusic||(0!=u.GameData.currentLevelId?this.backgroundMusic=p.default.instance.audioPlayer.playAudio(d.AudioPlayId.game_play_music,!0):this.backgroundMusic=p.default.instance.audioPlayer.playAudio(d.AudioPlayId.background_intro,!0)),u.GameData.currentLevelId+1==4&&f.ResUtil.loadPrefab("prefabs/homePin2/Intro/IntroLevel4",null,null),this.lblevel.string=_.ChangeLanguage.getText("level")+u.GameData.currentLevelId},e.prototype.loadLevel=function(t,e,o){var n=this;this.levelRoot.childrenCount>0&&o&&p.default.instance.screenManager.showFlash(1),p.default.instance.screenManager.flash.position=cc.Vec3.ZERO,this.clearLevelRoot(),this.winPanel.hide(),p.default.instance.testPrefab?this.addLevelToRoot(p.default.instance.testPrefab):e?f.ResUtil.loadLevelPuzzleById(t,function(t){n.addLevelToRoot(t)}):f.ResUtil.loadLevelById(t,function(t){n.addLevelToRoot(t)})},e.prototype.addLevelToRoot=function(t){var e=cc.instantiate(t);this.levelRoot.addChild(e),this.levelPlay=parseInt(t.name.match(/\d+/)[0]);var o=e.getComponent(c.default);this.updateLevelInfo(u.GameData.currentLevelId,o.questType)},e.prototype.clearLevelRoot=function(){if(this.levelRoot.childrenCount>0)try{this.levelRoot.removeAllChildren()}catch(t){cc.warn(t)}},e.prototype.gotoHomeScreen=function(){this.stateGamePlay!=r.BEFORE_END&&(o.instance.isContinue=!1,this.stateGamePlay=r.END,p.default.instance.showHomeScreen(function(t){t.getComponent(g.default).activeHomeUI()}))},e.prototype.showStreakWinPopup=function(t){var e=cc.instantiate(this.streakWinPrefab);e.parent=this.popupRoot,e.getComponent(R.default).setCbAffterHide(t)},e.prototype.showStreakLosePopup=function(t){var e=cc.instantiate(this.streakLosePrefab);e.parent=this.popupRoot,e.getComponent(D.default).setCbAffterHide(t)},e.prototype.replayLevel=function(){this.stateGamePlay!=r.BEFORE_END&&this.stateGamePlay!=r.END&&this.stateGamePlay!=r.AFTER_END&&this.loadCurrentLevel(!1)},e.prototype.replayGame=function(){this.loadCurrentLevel(!1)},e.prototype.nextLevel=function(t,e){var o=this;if(void 0===e&&(e=!1),C.default.instance.preloadInterstitialAd(),C.default.instance.preloadRewardAd(),u.GameData.showIntroLevel4||5!=u.GameData.currentLevelId){this.checkDoneGetCoin||(this.scheduleOnce(function(){l.GlobalSignals.coinCurrentUpdateSignal.dispatch()},.8),this.checkDoneGetCoin=!0);var n=JSON.parse(v.LocalStorageManager.getItem("3levels"));this.loadCurrentLevel(!1),n?n<3?(n++,v.LocalStorageManager.setItem("3levels",JSON.stringify(n))):e||(v.LocalStorageManager.setItem("3levels",JSON.stringify(1)),C.default.instance.effectSoundState=m.default.EffectEnable,C.default.instance.musicSoundState=m.default.MusicEnable,C.default.instance.rewardType="",C.default.instance.GDShowAd()):v.LocalStorageManager.setItem("3levels",JSON.stringify(2))}else this.winPanel.winNode.active=!1,this.winPanel.loseNode.active=!1,p.default.instance.showIntroLevel4(!1,function(){o.winPanel.hide(),O.CameraManager.instance.activeCameraUI(!0)})},e.prototype.updateLevelInfo=function(t,e){var o=s.QuestUtil.getQuestName(e),n=t+1,i=n<10?"0"+n:""+n;this.labelQuest.string="<color=#FFBC01>"+_.ChangeLanguage.getText("level")+i+"</color> "+o},e.prototype.showToastReward=function(t,e,o){var n=this;void 0===o&&(o=0),this.scheduleOnce(function(){n.toastReward.show(t,e)},o)},e.prototype.showWinPopup=function(){this.isContinue=!1,this.winPanel.showWin(),this.ui.active=!1},e._instance=null,a([E(cc.RichText)],e.prototype,"labelQuest",void 0),a([E(cc.Node)],e.prototype,"levelRoot",void 0),a([E(h.default)],e.prototype,"winPanel",void 0),a([E(y.default)],e.prototype,"toastReward",void 0),a([E(cc.Node)],e.prototype,"ui",void 0),a([E(cc.Label)],e.prototype,"lblevel",void 0),a([E(cc.Node)],e.prototype,"popupRoot",void 0),a([E(cc.Prefab)],e.prototype,"streakWinPrefab",void 0),a([E(cc.Prefab)],e.prototype,"streakLosePrefab",void 0),o=a([T],e)}(cc.Component);o.default=G,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./PrefabManager":"PrefabManager","./PrefabType":"PrefabType","./ResUtil":"ResUtil","./StreakPopup/StreakLosePopup":"StreakLosePopup","./StreakPopup/StreakWinPopup":"StreakWinPopup","./base/CameraManager":"CameraManager","./base/GameDistribution":"GameDistribution","./base/LocalStorageManager":"LocalStorageManager","./base/SetLabelLanguage":"SetLabelLanguage","./base/audio/AudioManager":"AudioManager","./config/AudioPlayId":"AudioPlayId","./config/GlobalSignals":"GlobalSignals","./config/QuestType":"QuestType","./level/MapLevel":"MapLevel","./level/WinPanel":"WinPanel","./objects/character/Daughter/DaughterOther":"DaughterOther","./objects/character/Mom/MomOther":"MomOther","./pets/EggFoundPopup":"EggFoundPopup","./ui/ToastReward":"ToastReward"}],PlayerCoinUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"5d36ebViqhIBLi21qfwydPG","PlayerCoinUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../GameData"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e.coinCurrentLabel=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this._onUpdateCoin=this.onUpdateCoin.bind(this),this._onUpdateCoinCurrent=this.onUpdateCoinCurrent.bind(this),r.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin),r.GlobalSignals.coinCurrentUpdateSignal.add(this._onUpdateCoinCurrent),this.onUpdateCoin(),this.setLbCoinCurrent(s.GameData.currentCoin)},e.prototype.onDisable=function(){r.GlobalSignals.coinUpdateSignal.remove(this._onUpdateCoin),r.GlobalSignals.coinCurrentUpdateSignal.remove(this._onUpdateCoinCurrent)},e.prototype.onUpdateCoin=function(){this.coinLabel&&(this.coinLabel.string=s.GameData.playerCoin+"")},e.prototype.setLbCoinCurrent=function(t){this.coinCurrentLabel&&(this.coinCurrentLabel.string=t+"")},e.prototype.onUpdateCoinCurrent=function(){this.coinCurrentLabel&&this.animCountCoin(s.GameData.currentCoin,s.GameData.playerCoin,.5,this.coinCurrentLabel)},e.prototype.animCountCoin=function(t,e,o,n){if(o<=0)return s.GameData.currentCoin=s.GameData.playerCoin,void(this.coinCurrentLabel.string=s.GameData.currentCoin+"");var i=Math.abs(e-t),a=e>t?10:-10,r=o/(i/10),c=this,l=function(){(t+=a)===e&&(c.unschedule(l),s.GameData.currentCoin=s.GameData.playerCoin),n.string=t.toString()};this.schedule(l,r)},a([u(cc.Label)],e.prototype,"coinLabel",void 0),a([u(cc.Label)],e.prototype,"coinCurrentLabel",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals"}],PopupDaily:[function(t,e,o){"use strict";cc._RF.push(e,"f3bac20r4dHqpcPTVdAtd8H","PopupDaily");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../config/DailyConfig"),c=t("./DailyButton"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dailyButton=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;o._instance=this;var e="WeekPrize"+this.getCurrentWeekReward();s.DailyConfig[e].forEach(function(e,o){t.dailyButton[o].init(e,7*t.getCurrentWeekReward()+o+1)})},e.prototype.getCurrentWeekReward=function(){return Math.trunc(r.GameData.receivedDaily/7)},e.prototype.close=function(){this.node.active=!1},e._instance=null,a([p([c.default])],e.prototype,"dailyButton",void 0),o=a([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../config/DailyConfig":"DailyConfig","./DailyButton":"DailyButton"}],PopupDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"c2275xqQlJDeJ0UQZf4qoVl","PopupDisplay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./utils/GUIUtil"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxScale=1,e.targetAction=null,e.enabledAnim=!1,e.time_show=.2,e.time_hide=.2,e.init_fog=!0,e.opacity_fog=150,e.touchFogToHide=!1,e.btn_close=null,e.exitCallback=null,e.fog=null,e.graphics=null,e.fadeInCallback=null,e}return i(e,t),e.prototype.onLoad=function(){if(this.targetAction||(this.targetAction=this.node),null!==this.btn_close&&r.default.addClickListener(this.btn_close,this.node,"PopupDisplay","onClickExit"),this.init_fog){this.fog=new cc.Node,this.fog.width=cc.visibleRect.width,this.fog.height=cc.visibleRect.height,this.node.addChild(this.fog,-1),this.fog.addComponent(cc.BlockInputEvents);var t=this.fog.addComponent(cc.Graphics);t.lineWidth=0,t.fillColor=new cc.Color(39,66,110,this.opacity_fog);var e=cc.visibleRect.width,o=cc.visibleRect.height;if(t.fillRect(-e,-o,2*e,2*o),this.graphics=t,this.touchFogToHide){var n=this.fog.addComponent(cc.Button);r.default.addClickListener(n,this.node,"PopupDisplay","onClickExit")}}},e.prototype.onClickExit=function(){this.hide(),this.exitCallback&&this.exitCallback()},e.prototype.setExitCallback=function(t){this.exitCallback=t},e.prototype.activePopup=function(){this.node.active=!0},e.prototype.onEnable=function(){this.show()},e.prototype.show=function(){var t=this;this.enabledAnim&&(this.targetAction.stopAllActions(),this.targetAction.opacity=0,this.targetAction.scale=.5,this.targetAction.runAction(cc.sequence(cc.show(),cc.spawn(cc.fadeIn(this.time_show),cc.scaleTo(this.time_show,this.maxScale).easing(cc.easeBackInOut()),cc.sequence(cc.delayTime(.75*this.time_show),cc.callFunc(function(){t.fadeInFog()}))))))},e.prototype.fadeInFog=function(){var t=this;if(this.fog){this.fog.active=!0,this.fadeInCallback&&this.unschedule(this.fadeInCallback);var e=0,o=this.time_show/this.opacity_fog;this.fadeInCallback=function(){e++,t.graphics.fillColor=new cc.Color(39,66,110,e),e===t.opacity_fog&&(t.unschedule(t.fadeInCallback),t.fadeInCallback=null)},this.schedule(function(){t.fadeInCallback&&t.fadeInCallback()},o)}},e.prototype.hide=function(){var t=this;this.enabledAnim?this.node.active&&(this.fog&&(this.fog.active=!1),this.fadeInCallback&&this.unschedule(this.fadeInCallback),this.targetAction.stopAllActions(),this.targetAction.runAction(cc.sequence(cc.spawn(cc.fadeOut(this.time_hide),cc.scaleTo(this.time_hide,.4)),cc.hide(),cc.callFunc(function(){t.node.active=!1})))):this.node.active=!1},a([l(cc.Float)],e.prototype,"maxScale",void 0),a([l(cc.Node)],e.prototype,"targetAction",void 0),a([l(cc.Boolean)],e.prototype,"enabledAnim",void 0),a([l(cc.Float)],e.prototype,"time_show",void 0),a([l(cc.Float)],e.prototype,"time_hide",void 0),a([l(cc.Boolean)],e.prototype,"init_fog",void 0),a([l({type:cc.Integer,visible:function(){return this.init_fog}})],e.prototype,"opacity_fog",void 0),a([l({visible:function(){return this.init_fog}})],e.prototype,"touchFogToHide",void 0),a([l(cc.Node)],e.prototype,"btn_close",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./utils/GUIUtil":"GUIUtil"}],PrefabManager:[function(t,e,o){"use strict";cc._RF.push(e,"85978p0g2ZPOYT/H1Zjl3Yw","PrefabManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.MyPrefabData=void 0;var r=t("./PrefabType"),s=t("./ResUtil"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(){function t(){this.type=r.PrefabType.NONE,this.prefab=null,this.prefabRes=""}return a([u({type:cc.Enum(r.PrefabType)})],t.prototype,"type",void 0),a([u(cc.Prefab)],t.prototype,"prefab",void 0),a([u(cc.String)],t.prototype,"prefabRes",void 0),a([l("MyPrefabData")],t)}();o.MyPrefabData=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabsData=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.getPrefabDataByType=function(t){for(var e=0;e<this.prefabsData.length;e++)if(this.prefabsData[e].type===t)return this.prefabsData[e];return null},e.prototype.loadPrefabByType=function(t,e){cc.log("loadPrefabByType: "+t);var o=this.getPrefabDataByType(t);if(o){if(null!=o.prefab)return void e(o.prefab);if(""!=o.prefabRes)return void s.ResUtil.loadPopupByDir(o.prefabRes,e,function(){e(null)})}e(null)},e._instance=null,a([u([p])],e.prototype,"prefabsData",void 0),o=a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./PrefabType":"PrefabType","./ResUtil":"ResUtil"}],PrefabType:[function(t,e,o){"use strict";cc._RF.push(e,"fffa47OQmNK6LfRIx5Dgzua","PrefabType"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrefabType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SETTING=1]="SETTING",t[t.SELECT_ROOM=2]="SELECT_ROOM",t[t.SELECT_KINGDOM=3]="SELECT_KINGDOM",t[t.BUILD_KINGDOM=4]="BUILD_KINGDOM",t[t.SKIN_POPUP=5]="SKIN_POPUP",t[t.DAILY_POPUP=6]="DAILY_POPUP",t[t.ROTATE_POPUP=7]="ROTATE_POPUP",t[t.MESSAGE_POPUP=8]="MESSAGE_POPUP",t[t.PET_POPUP=9]="PET_POPUP",t[t.EGG_FOUND_POPUP=10]="EGG_FOUND_POPUP",t[t.STREAK_POPUP=11]="STREAK_POPUP"}(o.PrefabType||(o.PrefabType={})),cc._RF.pop()},{}],ProcessBar:[function(t,e,o){"use strict";cc._RF.push(e,"092c7Ihc5tLYqsZlWsbHdaE","ProcessBar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SeftUtils"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.processSpr=null,e.processLb=null,e.duration=0,e}return i(e,t),e.prototype.setupProcess=function(t,e,o){var n=this,i=e>100?100:e;o?r.SeftUtils.numberTo(this.processLb,o,i,this.duration," %",t,function(t){n.setDisplayProcess(t)}):(this.setDisplayProcess(e),t())},e.prototype.setDisplayProcess=function(t){this.processSpr.fillRange=t/100,this.processLb.string=Math.floor(t)+"%"},e.prototype.resetProcess=function(){this.setDisplayProcess(0)},a([l(cc.Sprite)],e.prototype,"processSpr",void 0),a([l(cc.Label)],e.prototype,"processLb",void 0),a([l(cc.Integer)],e.prototype,"duration",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./SeftUtils":"SeftUtils"}],ProcessStageLevel:[function(t,e,o){"use strict";cc._RF.push(e,"f4b38wIPHlJ76dN3YxGE6/m","ProcessStageLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconActive=null,e.pointPos=[],e}return i(e,t),e.prototype.onEnable=function(){this.iconActive.position=this.pointPos[0]},e.prototype.setCurrentStage=function(t){this.iconActive.position=this.pointPos[t]},a([c(cc.Node)],e.prototype,"iconActive",void 0),a([c([cc.Vec3])],e.prototype,"pointPos",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PuzzlesConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c7f6dCgBXNIfKYIMi8CFNNq","PuzzlesConfig");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.Puzzles=o.PuzzlesConfig=void 0;var i=function(){function t(){}return t.checkDone=function(e){return e.length==t.maxCapacity},t.getPuzzleByRooom=function(t){return this.puzzlesArray[t]},t.defaultCapacity=0,t.maxCapacity=4,t.upgradePrice=1e3,t.puzzlesArray=[[],[{puzzles1:"Wallpaper1",puzzles2:"Wallpaper2",puzzles3:"Wallpaper3",puzzles4:"Wallpaper4"},{puzzles1:"Picture1",puzzles2:"Picture2",puzzles3:"Picture3",puzzles4:"Picture4"},{puzzles1:"Carpet1",puzzles2:"Carpet2",puzzles3:"Carpet3",puzzles4:"Carpet4"},{puzzles1:"Dinner table1",puzzles2:"Dinner table2",puzzles3:"Dinner table3",puzzles4:"Dinner table4"},{puzzles1:"Pumpkin1",puzzles2:"Pumpkin2",puzzles3:"Pumpkin3",puzzles4:"Pumpkin4"},{puzzles1:"Heater1",puzzles2:"Heater2",puzzles3:"Heater3",puzzles4:"Heater4"},{puzzles1:"Chair1",puzzles2:"Chair2",puzzles3:"Chair3",puzzles4:"Chair4"},{puzzles1:"Light1",puzzles2:"Light2",puzzles3:"Light3",puzzles4:"Light4"},{puzzles1:"window1",puzzles2:"window2",puzzles3:"window3",puzzles4:"window4"}],[{puzzles1:"House1",puzzles2:"House2",puzzles3:"House3",puzzles4:"House4"},{puzzles1:"Warehouse1",puzzles2:"Warehouse2",puzzles3:"Warehouse3",puzzles4:"Warehouse4"},{puzzles1:"Bench1",puzzles2:"Bench2",puzzles3:"Bench3",puzzles4:"Bench4"},{puzzles1:"Grill1",puzzles2:"Grill2",puzzles3:"Grill3",puzzles4:"Grill4"},{puzzles1:"Statue1",puzzles2:"Statue2",puzzles3:"Statue3",puzzles4:"Statue4"},{puzzles1:"Sleigh1",puzzles2:"Sleigh2",puzzles3:"Sleigh3",puzzles4:"Sleigh4"},{puzzles1:"Snowman1",puzzles2:"Snowman2",puzzles3:"Snowman3",puzzles4:"Snowman4"}],[{puzzles1:"Wallpaper1",puzzles2:"Wallpaper2",puzzles3:"Wallpaper3",puzzles4:"Wallpaper4"},{puzzles1:"Carpet1",puzzles2:"Carpet2",puzzles3:"Carpet3",puzzles4:"Carpet4"},{puzzles1:"Cabinet1",puzzles2:"Cabinet2",puzzles3:"Cabinet3",puzzles4:"Cabinet4"},{puzzles1:"Window1",puzzles2:"Window2",puzzles3:"Window3",puzzles4:"Window4"},{puzzles1:"Bed1",puzzles2:"Bed2",puzzles3:"Bed3",puzzles4:"Bed4"},{puzzles1:"Shelve1",puzzles2:"Shelve2",puzzles3:"Shelve3",puzzles4:"Shelve4"},{puzzles1:"Hang1",puzzles2:"Hang2",puzzles3:"Hang3",puzzles4:"Hang4"},{puzzles1:"Scope1",puzzles2:"Scope2",puzzles3:"Scope3",puzzles4:"Scope4"}],[{puzzles1:"ToriGate1",puzzles2:"ToriGate2",puzzles3:"ToriGate3",puzzles4:"ToriGate4"},{puzzles1:"Light1",puzzles2:"Light2",puzzles3:"Light3",puzzles4:"Light4"},{puzzles1:"Kite1",puzzles2:"Kite2",puzzles3:"Kite3",puzzles4:"Kite4"},{puzzles1:"Sakura1",puzzles2:"Sakura2",puzzles3:"Sakura3",puzzles4:"Sakura4"},{puzzles1:"Rock1",puzzles2:"Rock2",puzzles3:"Rock3",puzzles4:"Rock4"},{puzzles1:"Temple1",puzzles2:"Temple2",puzzles3:"Temple3",puzzles4:"Temple4"}],[{puzzles1:"House11",puzzles2:"House12",puzzles3:"House13",puzzles4:"House14"},{puzzles1:"House21",puzzles2:"House22",puzzles3:"House23",puzzles4:"House24"},{puzzles1:"Firework11",puzzles2:"Firework12",puzzles3:"Firework13",puzzles4:"Firework14"},{puzzles1:"Firework21",puzzles2:"Firework22",puzzles3:"Firework23",puzzles4:"Firework24"},{puzzles1:"OutdoorLight1",puzzles2:"OutdoorLight2",puzzles3:"OutdoorLight3",puzzles4:"OutdoorLight4"}],[{puzzles1:"window1",puzzles2:"window2",puzzles3:"window3",puzzles4:"window4"},{puzzles1:"picture1",puzzles2:"picture2",puzzles3:"picture3",puzzles4:"picture4"},{puzzles1:"wardrobe1",puzzles2:"wardrobe2",puzzles3:"wardrobe3",puzzles4:"wardrobe4"},{puzzles1:"bed1",puzzles2:"bed2",puzzles3:"bed3",puzzles4:"bed4"},{puzzles1:"table1",puzzles2:"table2",puzzles3:"table3",puzzles4:"table4"},{puzzles1:"lamp1",puzzles2:"lamp2",puzzles3:"lamp3",puzzles4:"lamp4"},{puzzles1:"chair1",puzzles2:"chair2",puzzles3:"chair3",puzzles4:"chair4"}]],t}();o.PuzzlesConfig=i;var a=cc._decorator,r=a.ccclass,s=a.property,c=function(){function t(){this.dir="",this.roomId=1,this.itemId=1,this.part=1}return n([s(cc.Integer)],t.prototype,"roomId",void 0),n([s(cc.Integer)],t.prototype,"itemId",void 0),n([s(cc.Integer)],t.prototype,"part",void 0),n([r("Puzzles")],t)}();o.Puzzles=c,cc._RF.pop()},{}],PuzzlesPopup:[function(t,e,o){"use strict";cc._RF.push(e,"bbd045MCxZAqorofcINo+Wt","PuzzlesPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../GameData"),c=t("../HomeScreen"),l=t("../MainScene"),u=t("../PlayScreen"),p=t("../ResUtil"),d=t("../base/GameDistribution"),f=t("../base/SetLabelLanguage"),h=t("../base/audio/AudioManager"),g=t("../config/AudioPlayId"),y=t("../config/PuzzlesConfig"),_=cc._decorator,v=_.ccclass,m=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.puzzles=[],e.namePuzzles=null,e.btnAds=null,e.blockInput=null,e.closeCallback=null,e.playAnimCallback=null,e.arrPuzzles=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.init=function(t,e,o,n,i){var a=this;void 0===n&&(n=null),this.blockInput.active=!0,this.currentItem=e;var r=o,c=y.PuzzlesConfig.getPuzzleByRooom(r),l=Object.values(c[this.currentItem-1]),u=l[0].substring(0,l[0].length-1);if(this.namePuzzles.string=f.ChangeLanguage.getText(u.toLowerCase()),t.sort(),this.arrPuzzles=t,this.arrPuzzles.forEach(function(t){var e="/HomePin2/Puzzle/Decor"+r+"/"+Object.values(c[a.currentItem-1])[t];p.ResUtil.loadSprite(e,function(e){var o=new cc.SpriteFrame;o.setTexture(e),a.puzzles[t].spriteFrame=o})}),n){var d=n;this.fxShowPuzzle(function(){a.checkCompletePuzzle(d)},i),s.GameData.addRoomItem(i),this.closeCallback=d}else this.blockInput.active=!1},e.prototype.checkCompletePuzzle=function(t){var e=this;4==this.arrPuzzles.length?(this.node.active=!1,l.default.instance.showHomeScreen(function(o){var n=o.getComponent(c.default);n.blockInput.active=!0,n.initOpenItem(e.currentItem-1,function(){l.default.instance.showGamePlayScreen(function(){n.blockInput.active=!1,u.default.instance.isContinue=!1,t()},!0)}),e.playAnimCallback()},!0)):this.blockInput.active=!1},e.prototype.getAnotherPuzzle=function(){window.setFuncGetAnotherPuzzle=function(){this.btnAds.active=!1;var t=this.getRandomIndexPuzzle(),e=r(s.GameData.arrayItemsInRoom[s.GameData.currentItem].puzzles);e.push(t),this.init(e,s.GameData.currentItem+1,s.GameData.currentRoomId,function(){u.default.instance.showWinPopup()},t)}.bind(this),d.default.instance.rewardType="getAnotherPuzzle",d.default.instance.effectSoundState=h.default.EffectEnable,d.default.instance.musicSoundState=h.default.MusicEnable,d.default.instance.GDShowRewardedAd()},e.prototype.fxShowPuzzle=function(t,e){this.puzzles[e].node.zIndex=1,cc.tween(this.puzzles[e].node).to(.5,{scale:1.3},{easing:"quartIn"}).call(function(){l.default.instance.audioPlayer.playAudio(g.AudioPlayId.puzzle_active)}).to(.5,{scale:1},{easing:"quartOut"}).call(function(){t()}).start()},e.prototype.setStateBtnAds=function(t){this.btnAds.active=t},e.prototype.getRandomIndexPuzzle=function(){return p.ResUtil.getRandomLeftArr(s.GameData.arrayItemsInRoom[s.GameData.currentItem].puzzles,4)},e.prototype.closePopup=function(){this.closeCallback&&this.closeCallback(),this.playAnimCallback&&this.playAnimCallback(),this.node.destroy()},e.prototype.setPlayAnimCallBack=function(t){void 0===t&&(t=null),t&&(this.playAnimCallback=t)},e._instance=null,a([m([cc.Sprite])],e.prototype,"puzzles",void 0),a([m(cc.Label)],e.prototype,"namePuzzles",void 0),a([m(cc.Node)],e.prototype,"btnAds",void 0),a([m(cc.Node)],e.prototype,"blockInput",void 0),o=a([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../ResUtil":"ResUtil","../base/GameDistribution":"GameDistribution","../base/SetLabelLanguage":"SetLabelLanguage","../base/audio/AudioManager":"AudioManager","../config/AudioPlayId":"AudioPlayId","../config/PuzzlesConfig":"PuzzlesConfig"}],QuestType:[function(t,e,o){"use strict";var n;cc._RF.push(e,"5d3b69LiD5BJIg8NTr//0Wl","QuestType"),Object.defineProperty(o,"__esModule",{value:!0}),o.QuestUtil=o.QuestType=void 0,function(t){t[t.COLLECT_CANDY=0]="COLLECT_CANDY",t[t.COLLECT_ITEM=1]="COLLECT_ITEM",t[t.KILL_ENEMY=2]="KILL_ENEMY",t[t.SAVE_DAUGHTER=3]="SAVE_DAUGHTER",t[t.OPEN_CHEST=4]="OPEN_CHEST",t[t.ALL=5]="ALL",t[t.BUILD=6]="BUILD",t[t.COLLECT_SINGLE_ITEM=7]="COLLECT_SINGLE_ITEM",t[t.COLLECT_WATER=8]="COLLECT_WATER",t[t.COLLECT_FIRE=9]="COLLECT_FIRE",t[t.COLLECT_SKIN=10]="COLLECT_SKIN",t[t.COLLECT_SMOKE=11]="COLLECT_SMOKE",t[t.COLLECT_PUZZLE=12]="COLLECT_PUZZLE",t[t.INTRO=13]="INTRO",t[t.MOVE_TO=14]="MOVE_TO",t[t.COLLECT_ITEM_LEVEL_OTHER=15]="COLLECT_ITEM_LEVEL_OTHER",t[t.WIN_FULL_STAGE=20]="WIN_FULL_STAGE",t[t.COLLECT_ROSE=21]="COLLECT_ROSE",t[t.NONE=99]="NONE"}(n=o.QuestType||(o.QuestType={}));var i=function(){function t(){}return t.getQuestName=function(t){switch(t){case n.COLLECT_CANDY:return"COLLECT THE CANDY";case n.COLLECT_ITEM:return"COLLECT THE ITEM";case n.KILL_ENEMY:return"TAKE DOWN ENEMIES";case n.SAVE_DAUGHTER:return"SAVE DAUGHTER";case n.OPEN_CHEST:return"OPEN MONEY SAFE";case n.BUILD:return"BUILD";case n.COLLECT_WATER:return"COLLECT WATER";case n.COLLECT_SMOKE:return"COLLECT SMOKE";case n.COLLECT_FIRE:return"COLLECT FIRE";case n.COLLECT_SKIN:return"COLLECT SKIN";case n.COLLECT_SKIN:return"COLLECT PUZZLE";case n.INTRO:return"INTRO"}return"DO NOTHING"},t}();o.QuestUtil=i,cc._RF.pop()},{}],Rat:[function(t,e,o){"use strict";cc._RF.push(e,"293a6n5zCdJn7knHqPBW5HM","Rat");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Enemies"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this)},a([c],e)}(r.default));o.default=l,cc._RF.pop()},{"./Enemies":"Enemies"}],RedirectBox:[function(t,e,o){"use strict";cc._RF.push(e,"058d0xuib9Irref/RDYDp4j","RedirectBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/TagObject"),s=cc._decorator.requireComponent,c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},a([l,s(cc.BoxCollider)],e)}(r.default));o.default=u,cc._RF.pop()},{"../config/TagObject":"TagObject"}],RenderMask:[function(t,e,o){"use strict";cc._RF.push(e,"a614br+C3hLLpr2mTVO2UTF","RenderMask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.sprite=null,e}return i(e,t),e.prototype.onLoad=function(){this.renderTexture=new cc.RenderTexture,this.renderTexture.initWithSize(cc.winSize.width,cc.winSize.height),this.camera.targetTexture=this.renderTexture},e.prototype.start=function(){this.sprite.node.active=!0,this.sprite.spriteFrame=new cc.SpriteFrame(this.renderTexture);var t=cc.winSize;this.sprite.node.height=t.height,this.sprite.node.width=t.width},a([c(cc.Camera)],e.prototype,"camera",void 0),a([c(cc.Sprite)],e.prototype,"sprite",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ReplaceItem:[function(t,e,o){"use strict";cc._RF.push(e,"4ce22WmDM5HTKiCTY9oGBzE","ReplaceItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ReplaceItemType=void 0;var r,s=cc.easeBackOut,c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.SLIDING_RIGHT=1]="SLIDING_RIGHT",t[t.SLIDING_TOP=2]="SLIDING_TOP"})(r=o.ReplaceItemType||(o.ReplaceItemType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.replaceType=r.NORMAL,e.replaceBy=null,e.decorName="",e}return i(e,t),e.prototype.replace=function(t){this.replaceType===r.NORMAL&&(this.node.active=!1,this.replaceBy.active=!0,this.replaceBy.scale=1,cc.tween(this.replaceBy).to(.2,{scale:.8}).to(.25,{scale:1},s()).delay(2).call(t).start())},a([u({type:cc.Enum(r)})],e.prototype,"replaceType",void 0),a([u(cc.Node)],e.prototype,"replaceBy",void 0),a([u(cc.String)],e.prototype,"decorName",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9fb44pIzLhBGbM9vI6AHeWX","ResUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.ResUtil=void 0;var n=t("./config/RoomConfig"),i=t("./config/LevelConfig"),a=t("./GameData"),r=function(){function t(){}return t.loadPopupByDir=function(t,e,o){var n=this;void 0===e&&(e=null),void 0===o&&(o=null);var i=t.split("/").pop();this.mapPrefab.has(i)?e&&e(this.mapPrefab.get(i)):this.loadPrefab(t,function(t){n.mapPrefab.set(i,t),e&&e(t)},o)},t.loadRoomById=function(t,e,o,i){var a=this;if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===i&&(i=null),t<0||t>=n.RoomConfig.rooms.length)return cc.warn("loadRoomById: "+t),void(o&&o());var r=n.RoomConfig.rooms[t].name;this.mapPrefab.has(r)?e&&e(this.mapPrefab.get(r)):this.loadRoomByName(r,function(t){a.mapPrefab.set(r,t),e&&e(t)},o,i)},t.loadLevelById=function(t,e,o,n){var r=this;void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var s="",c=0;t>=i.LevelConfig.ArrMergerAllLevel.length?(i.LevelConfig.cloneArray.length=t+1,i.LevelConfig.cloneArray[t]?s=i.LevelConfig.cloneArray[t]:t==a.GameData.currentLevelId?(i.LevelConfig.cloneArray[t]=i.LevelConfig.ArrMergerAllLevel[a.GameData.currentLevelIdReal],s=i.LevelConfig.cloneArray[t]):t>a.GameData.currentLevelId&&(c=i.LevelConfig.randomID(6,i.LevelConfig.ArrMergerAllLevel.length),i.LevelConfig.cloneArray.length=t+1,i.LevelConfig.cloneArray[t]=i.LevelConfig.ArrMergerAllLevel[c],t=c,s=i.LevelConfig.ArrMergerAllLevel[t],a.GameData.currentLevelIdReal=c)):s=i.LevelConfig.ArrMergerAllLevel[t],this.mapPrefab.has(s)?e&&e(this.mapPrefab.get(s)):this.loadLevelByName(s,function(t){r.mapPrefab.set(s,t),e&&e(t)},o,n)},t.loadLevelPuzzleById=function(t,e,o,n){var a=this;if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null),t>=i.LevelConfig.levelsPuzzle.length){var r=Math.floor(Math.random()*i.LevelConfig.levelsPuzzle.length);i.LevelConfig.levelsPuzzle[t]=i.LevelConfig.levelsPuzzle[r]}var s=i.LevelConfig.levelsPuzzle[t];this.mapPrefab.has(s)?e&&e(this.mapPrefab.get(s)):this.loadLevelPuzzleByName(s,function(t){a.mapPrefab.set(s,t),e&&e(t)},o,n)},t.releaseLevelById=function(t){var e;e=t<0||t>=i.LevelConfig.ArrMergerAllLevel.length?i.LevelConfig.cloneArray[t]:i.LevelConfig.ArrMergerAllLevel[t],this.mapPrefab.has(e)&&this.mapPrefab.delete(e)},t.releaseLevelPuzzleById=function(t){var e=i.LevelConfig.levelsPuzzle[t];this.mapPrefab.has(e)&&this.mapPrefab.delete(e)},t.releaseAllLevel=function(){var t=this;this.mapPrefab.forEach(function(e,o){(o.includes("Level-")||o.includes("LevelOther-"))&&t.mapPrefab.delete(o)})},t.loadLevelByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i=this.LevelNomalOrHome(t)+t;this.loadPrefab(i,e,o,n)},t.LevelNomalOrHome=function(t){if(""!=t)return-1==t.indexOf("Other")?"prefabs/levels/":"prefabs/LevelOther/"},t.loadLevelPuzzleByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/LevelPuzzle/"+t;this.loadPrefab(i,e,o,n)},t.loadRoomByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/rooms/"+t;this.loadPrefab(i,e,o,n)},t.loadScreenByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/screens/"+t;this.loadPrefab(i,e,o,n)},t.loadPrefab=function(t,e,o,n){cc.resources.load(t,function(t,e){n&&n(t,e)},function(t,n){if(t)return console.log(t),void(o&&o(t));e&&e(n)})},t.loadSprite=function(t,e,o){void 0===o&&(o=null),cc.resources.load(t,function(t,n){if(t)return cc.log(t),void(o&&o(t));e&&e(n)})},t.convertArr=function(t){var e=[];return t.forEach(function(t,o){e[o]=t?o:null}),e},t.getRandomLeftArr=function(t,e){for(var o=[],n=0;n<e;n++)o[n]=n;return(o=o.filter(function(e){return!t.includes(e)}))[Math.floor(Math.random()*o.length)]},t.loadRes=function(t,e,o){e?cc.resources.load(t,e,function(t,e){if(t)return cc.error(t.message||t),void(o&&o(t,e));o&&o(t,e)}):cc.resources.load(t,function(t,e){if(t)return cc.error(t.message||t),void(o&&o(t,e));o&&o(t,e)})},t.getSpineAnim=function(t,e,o){var n=this;if(this.spineAnim.has(e)){var i=this.spineAnim.get(e);o(null,i)}else this.loadRes(t,sp.SkeletonData,function(t,i){i&&n.spineAnim.set(e,i),o(t,i)})},t.getSpineAnimPet=function(t,e){var o=t.pathDir;this.getSpineAnim(o,t.petId,e)},t.getSprInSprAlats=function(t,e){var o=this;return new Promise(function(n){cc.resources.load(t,cc.SpriteAtlas,function(t,i){if(!t){i.loaded||o.mapAssets.set(i.name,i);var a=i.getSpriteFrame(e.toString());n(a)}})})},t.loadTexture2D=function(t){return new Promise(function(e){cc.resources.load(t,cc.Texture2D,function(t,o){t?console.warn(t):e(o)})})},t.loadMutilTexture2D=function(e){var o=[];return e.map(function(e){o.push(t.loadTexture2D(e))}),o},t.mapPrefab=new Map,t.mapAssets=new Map,t.spineAnim=new Map,t}();o.ResUtil=r,cc._RF.pop()},{"./GameData":"GameData","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig"}],RewardStreakItem:[function(t,e,o){"use strict";cc._RF.push(e,"119bdGNfehId628986ntAEU","RewardStreakItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/LanguageController"),s=t("../ResUtil"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinNode=null,e.skinNode=null,e.sprSkin=null,e.timeTrialNode=null,e.txtTime=null,e.typeReward=1,e._dataRewardStreakItem=null,e}return i(e,t),e.prototype.initItem=function(t){this._dataRewardStreakItem=t,this.initView()},e.prototype.initView=function(){!this._dataRewardStreakItem.coin||this._dataRewardStreakItem.skinTrial||this._dataRewardStreakItem.skin?(this._dataRewardStreakItem.skinTrial||this._dataRewardStreakItem.skin)&&(this.typeReward=2,this.coinNode.active=!1,this.skinNode.active=!0,this._dataRewardStreakItem.skinTrial?this.timeTrialNode.active=!0:this.timeTrialNode.active=!1):(this.coinNode.active=!0,this.skinNode.active=!1,this.typeReward=1),this.setupData()},e.prototype.setupData=function(){var t=this;switch(this.typeReward){case 1:this.coinNode.getComponent(cc.Label).string=""+this._dataRewardStreakItem.coin;break;case 2:if(this._dataRewardStreakItem.skinTrial)return s.ResUtil.getSprInSprAlats("HomePin2/PopupSkin/Skin/Pin/PinList",this._dataRewardStreakItem.skinTrial.skinId).then(function(e){t.sprSkin.spriteFrame=e}),void(this.txtTime.string=this._dataRewardStreakItem.skinTrial.timeTrial/60+"m "+r.default.getText("trial"));if(this._dataRewardStreakItem.skin){if("function"!=typeof this._dataRewardStreakItem.skin){var e=this._dataRewardStreakItem.skin;s.ResUtil.getSprInSprAlats(e.extendInfo.dir,e.skinId).then(function(e){t.sprSkin.spriteFrame=e})}return}}},a([u(cc.Node)],e.prototype,"coinNode",void 0),a([u(cc.Node)],e.prototype,"skinNode",void 0),a([u(cc.Sprite)],e.prototype,"sprSkin",void 0),a([u(cc.Node)],e.prototype,"timeTrialNode",void 0),a([u(cc.Label)],e.prototype,"txtTime",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../ResUtil":"ResUtil","../base/LanguageController":"LanguageController"}],RewardStreakPopup:[function(t,e,o){"use strict";cc._RF.push(e,"de7f6DepOVMmK+wkaS0kAoi","RewardStreakPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/AudioPlayId"),s=t("../MainScene"),c=t("./RewardStreakItem"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemReward=[],e.arrReward=[],e.cbClosePoup=null,e}return i(e,t),e.prototype.onLoad=function(){this.itemReward.forEach(function(t){t.node.active=!1})},e.prototype.onEnable=function(){s.default.instance.audioPlayer.playAudio(r.AudioPlayId.bonus_star)},e.prototype.initPopup=function(t,e){this.arrReward=t,this.cbClosePoup=e,this.initView()},e.prototype.initView=function(){for(var t=0;t<this.itemReward.length;t++){var e=this.arrReward[t],o=void 0;e&&((o=this.itemReward[t]).node.active=!0,this.setupItemReward(o,e))}},e.prototype.setupItemReward=function(t,e){t.initItem(e)},e.prototype.onClickHidePopup=function(){this.cbClosePoup&&this.cbClosePoup(),this.node.active=!1},e.prototype.onDisable=function(){this.node.removeFromParent()},a([p([c.default])],e.prototype,"itemReward",void 0),a([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","./RewardStreakItem":"RewardStreakItem"}],RingController:[function(t,e,o){"use strict";cc._RF.push(e,"c3d19jFDPtHV6MZVZK35TaZ","RingController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ringBot=null,e.ringTop=null,e}return i(e,t),e.prototype.onLoad=function(){r.GlobalSignals.questPassSignal.add(this.onQuestFinish.bind(this)),r.GlobalSignals.questFailSignal.add(this.onQuestFinish.bind(this))},e.prototype.onQuestFinish=function(){this.ringTop.parent=this.node,this.ringTop.zIndex=1;var t=43.841*this.ringTop.scaleY;this.ringTop.angle=0,this.ringTop.position=cc.v3(0,t,0)},a([l(cc.Node)],e.prototype,"ringBot",void 0),a([l(cc.Node)],e.prototype,"ringTop",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals"}],Ring:[function(t,e,o){"use strict";cc._RF.push(e,"77701G3VI9BK6qrYeQSJTWN","Ring");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ItemSync"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateRing=[],e}return i(e,t),e.prototype.changeState=function(t){var e=t?1:0;this.stateRing[e].active=!0;for(var o=0;o<this.stateRing.length;o++)this.stateRing[o].active=o==e},a([l([cc.Node])],e.prototype,"stateRing",void 0),a([c],e)}(r.default);o.default=u,cc._RF.pop()},{"./ItemSync":"ItemSync"}],RockGO:[function(t,e,o){"use strict";cc._RF.push(e,"05a511vQ/dK6brRHisPIMnD","RockGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),c=t("../../config/TagObject"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName=null,e}return i(e,t),e.prototype.onLoad=function(){this.tagName=this.node.getComponent(c.default).tag,s.PhysicsConfig.initPhysicConfig(this.node,"rock")},e.prototype.onCollisionEnter=function(t){switch(this.tagName){case c.TagConfig.CHARCOAL:if(t.node.group===r.GroupConfig.COLLIDER){if(t.node.name==c.TagConfig.BOMB){var e=t.node.getComponent(c.default).tag2;if(e==c.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(e==c.TagConfig.NONE)return void(this.node.active=!1)}return}}},a([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],RoomConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a08e9OqjtxLA7vTG49W3C13","RoomConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.RoomConfig=void 0;var n=function(){function t(){}return t.getRoomIdByName=function(e){for(var o=t.rooms,n=0;n<o.length;n++)if(o[n].name===e)return n;return-1},t.getItemsDecorInRoom=function(t,e){return null==e||null==e||0==e.length?[]:e[t]},t.rooms=[{name:"Room0",size:1},{name:"Room1",size:9},{name:"Room2",size:7},{name:"Room3",size:8},{name:"Room4",size:6},{name:"Room5",size:5},{name:"Room6",size:7}],t}();o.RoomConfig=n,cc._RF.pop()},{}],RoomPopup:[function(t,e,o){"use strict";cc._RF.push(e,"e74fdZjVdNLo4UvP947S5sJ","RoomPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../HomeScreen"),c=t("../MainScene"),l=t("../config/RoomConfig"),u=t("./ButtonRoomState"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topUI=null,e.bottomUI=null,e.listRoom=[],e._event_click_cb=function(){},e._event_choose=[],e}return i(e,t),e.prototype.onEnable=function(){cc.tween(this.node).to(.3,{scale:1},{easing:"backInOut"}).start(),s.default.instance.hideUI(),this.initRoom()},e.prototype.initRoom=function(){var t=this;this._event_click_cb=function(e){var o=e.node.getComponent(u.default),n=l.RoomConfig.getRoomIdByName(e.node.name);o.chooseRoom();for(var i=0;i<t.listRoom.length;i++){var a=t.listRoom[i];a!==o&&a.dontChooseRoom()}s.default.instance.loadRoom(n,function(t){r.GameData.setCurrentRoomDecor(n),t.puzzleButtons.active=!0,t.activeCharacter(!1)})};for(var e=0;e<this.listRoom.length;e++){var o=this.listRoom[e];o.setInfor(e+1),o.initState(),o.node.on("click",this._event_click_cb)}},e.prototype.onHide=function(){s.default.instance.showUI(),c.default.instance.selectRoomPopup=null,this.node.destroy()},e.prototype.onClickSelectRoom=function(){this._event_click_cb()},a([f(cc.Node)],e.prototype,"topUI",void 0),a([f(cc.Node)],e.prototype,"bottomUI",void 0),a([f([u.default])],e.prototype,"listRoom",void 0),a([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../config/RoomConfig":"RoomConfig","./ButtonRoomState":"ButtonRoomState"}],RopeFull:[function(t,e,o){"use strict";cc._RF.push(e,"6635aO0sr9Oyr3AEOv3cQ/f","RopeFull");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RopePart"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this;this.node.children.forEach(function(e){var o=e.getComponent(r.default);o&&o.setCutCallback(t.cutRopeInNode.bind(t))})},e.prototype.cutRopeInNode=function(t){var e=this;cc.log("cutRopeInNode"),t.destroy(),this.node.children.forEach(function(o){var n=o.getComponent(r.default);n&&(n.enabled=!1,e.scheduleOnce(function(){t!=o&&(o.active=!1)},.3))})},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},a([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./RopePart":"RopePart"}],RopePart:[function(t,e,o){"use strict";cc._RF.push(e,"d8140MIb8lO+6wUn4tOHlGX","RopePart");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cutCallback=null,e}return i(e,t),e.prototype.start=function(){if(!this.getComponent(cc.BoxCollider)){var t=this.getComponent(cc.PhysicsBoxCollider),e=this.addComponent(cc.BoxCollider);e.offset=t.offset,e.size=t.size}},e.prototype.setCutCallback=function(t){this.cutCallback=t},e.prototype.onCollisionEnter=function(t){t.node.group!==r.GroupConfig.TOUCH||this.cutCallback&&this.cutCallback(this.node)},a([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],RoseGO:[function(t,e,o){"use strict";cc._RF.push(e,"bc0f0/TtrxNZ5s0sdmKLuJY","RoseGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../base/ColliderCallback"),s=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),l=t("../../config/TagObject"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._icon=null,e._active=!1,e.colliderActive=null,e.fxActiveRose=null,e._fxContainer=new cc.NodePool,e}return i(e,t),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon||(this._icon=this.node.getComponentInChildren(cc.Sprite)),this._icon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active||this.setGraySprite(this.icon,!1),this._active},set:function(t){this._active=t,this.colliderActive.node.active=t,this.setGraySprite(this.icon,t)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.initFXContainer(),c.PhysicsConfig.initPhysicConfig(this.node,"gems"),this.colliderActive.setColliderCallback(this.onCollisionActiveEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(t.node.name!=l.TagConfig.ROSE_ACTIVE){if(t.node.group!==s.GroupConfig.COLLIDER);else if(t.node.name==l.TagConfig.BOMB){var e=t.node.getComponent(l.default).tag2;if(e==l.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(e==l.TagConfig.NONE)return void(this.node.active=!1)}}else this._active||this.changeActive()},e.prototype.onCollisionActiveEnter=function(){},e.prototype.setActive=function(t){this._active=t,this.setGraySprite(this.icon,this._active),this.colliderActive.node.active=t},e.prototype.changeActive=function(){this.active||(this.setActive(!0),this.showFXChange())},e.prototype.setGraySprite=function(t,e){e?t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")):t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},e.prototype.initFXContainer=function(){var t=cc.instantiate(this.fxActiveRose);this._fxContainer.put(t)},e.prototype.getFXInContainer=function(){var t=null;return this._fxContainer.size()>0?t=this._fxContainer.get():(t=cc.instantiate(this.fxActiveRose),this._fxContainer.put(t)),t},e.prototype.showFXChange=function(){var t=this.getFXInContainer();t.parent=this.node,t.position=cc.Vec3.ZERO},a([d(cc.Sprite)],e.prototype,"_icon",void 0),a([d(cc.Boolean)],e.prototype,"_active",void 0),a([d(cc.Boolean)],e.prototype,"active",null),a([d(r.default)],e.prototype,"colliderActive",void 0),a([d(cc.Prefab)],e.prototype,"fxActiveRose",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],RosePool:[function(t,e,o){"use strict";cc._RF.push(e,"2d632/2oHNK14erptd0MUOJ","RosePool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RoseGO"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._setActiveRose=!1,e}return i(e,t),Object.defineProperty(e.prototype,"setActiveRose",{get:function(){return this._setActiveRose},set:function(t){this._setActiveRose=t,this.node.children.forEach(function(e){e&&e.getComponent(r.default).setActive(t)})},enumerable:!1,configurable:!0}),a([l(cc.Boolean)],e.prototype,"_setActiveRose",void 0),a([l(cc.Boolean)],e.prototype,"setActiveRose",null),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./RoseGO":"RoseGO"}],RotateByRepeatAnimX2:[function(t,e,o){"use strict";cc._RF.push(e,"97cddXVcLlODqus7E1jO7Be","RotateByRepeatAnimX2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.menu,s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=.2,e.rotate1=20,e.duration2=.2,e.rotate2=-20,e.autoPlay=!0,e.rotateStart=0,e}return i(e,t),e.prototype.onLoad=function(){this.rotateStart=this.node.angle},e.prototype.play=function(t){var e=cc.sequence(cc.rotateTo(this.duration1,this.rotateStart+this.rotate1),cc.rotateTo(this.duration2,this.rotateStart+this.rotate2));this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},a([l(cc.Boolean)],e.prototype,"repeatForever",void 0),a([l(cc.Float)],e.prototype,"duration1",void 0),a([l(cc.Float)],e.prototype,"rotate1",void 0),a([l(cc.Float)],e.prototype,"duration2",void 0),a([l(cc.Float)],e.prototype,"rotate2",void 0),a([l(cc.Boolean)],e.prototype,"autoPlay",void 0),a([c,r("Add Anim/RotateByRepeatAnimX2")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],RotateByRepeatAnim:[function(t,e,o){"use strict";cc._RF.push(e,"74217uxCGJHJKu4GavSlA32","RotateByRepeatAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.menu,s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=1,e.rotate1=360,e.autoPlay=!0,e}return i(e,t),e.prototype.play=function(t){var e=cc.rotateBy(this.duration1,this.rotate1);this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},e.prototype.onDisable=function(){this.node.stopAllActions()},a([l(cc.Boolean)],e.prototype,"repeatForever",void 0),a([l(cc.Float)],e.prototype,"duration1",void 0),a([l(cc.Float)],e.prototype,"rotate1",void 0),a([l(cc.Boolean)],e.prototype,"autoPlay",void 0),a([c,r("Add Anim/RotateByRepeatAnim")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],SHA256:[function(t,e,o){"use strict";cc._RF.push(e,"c963eSzGL5MMZp9Q7JgMatl","SHA256");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=void 0;var a=t("../lib/Hasher"),r=t("../lib/WordArray"),s=[],c=[],l=[],u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new r.WordArray(s.slice(0))},e.prototype._doProcessBlock=function(t,e){for(var o=this._hash.words,n=o[0],i=o[1],a=o[2],r=o[3],s=o[4],u=o[5],p=o[6],d=o[7],f=0;f<64;f++){if(f<16)l[f]=0|t[e+f];else{var h=l[f-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,y=l[f-2],_=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;l[f]=g+l[f-7]+_+l[f-16]}var v=n&i^n&a^i&a,m=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),S=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&p)+c[f]+l[f];d=p,p=u,u=s,s=r+S|0,r=a,a=i,i=n,n=S+(m+v)|0}o[0]=o[0]+n|0,o[1]=o[1]+i|0,o[2]=o[2]+a|0,o[3]=o[3]+r|0,o[4]=o[4]+s|0,o[5]=o[5]+u|0,o[6]=o[6]+p|0,o[7]=o[7]+d|0},e.prototype._doFinalize=function(){var t=8*this._nDataBytes,e=8*this._data.sigBytes;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[14+(e+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(e+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},e}(a.Hasher);o.SHA256=u,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],SantaClaus:[function(t,e,o){"use strict";cc._RF.push(e,"775f1mXH9JFIqkYJNrJlP4X","SantaClaus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../config/GlobalSignals"),s=t("../../../config/GroupConfig"),c=t("../Character"),l=t("../../../base/ColliderCallback"),u=t("../../../config/TagObject"),p=t("../../../level/MapLevel"),d=t("../../../config/GameState"),f=t("../../more/ItemLoot"),h=t("../../more/ItemChest"),g=t("../../../GameData"),y=t("../../homePin2/Libbey"),_=t("../../../pets/PetDataManager"),v=t("../../../config/ActionCharacterType"),m=cc._decorator,S=m.ccclass,b=m.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winAnim="",e.winAnim2="",e.failAnim="",e.failAnim1="",e.jumpCollider=null,e.distance=0,e.openLockAnim="OpenLock",e.flowerAnim="Flower",e.flowerAnim2="Flower2",e.idleStickAnim="IdleStick",e.hasWeapon=!1,e.isAutoMove=!1,e.rate=0,e._savedDaughter=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this)},e.prototype.start=function(){this.hit&&(this.hit.active=!1),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.onSoundIdle(),0==g.GameData.currentLevelId&&this.offSoundIdle()},e.prototype.onEnable=function(){this.initPetSkin(),this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onAutoMove=this.onAutoMove.bind(this),r.GlobalSignals.questPassSignal.add(this._onQuestPass),r.GlobalSignals.questFailSignal.add(this._onQuestFail),r.GlobalSignals.autoMoveSignal.add(this._onAutoMove)},e.prototype.onDisable=function(){r.GlobalSignals.questPassSignal.remove(this._onQuestPass),r.GlobalSignals.questFailSignal.remove(this._onQuestFail),r.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),o._instance=null},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onQuestPass=function(){this.isAlive&&(this.offSoundIdle(),this.stopMove(),this.onSoundWin(),p.default.instance.isQuestSaveDaughter||(""==this.winAnim2?this.playAnimation(this.winAnim):this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0)))},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(""==this.failAnim1?this.playAnimation(this.failAnim):this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0),this.offSoundIdle(),this.onSoundLose())},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.onGroundCollisionEnter=function(e){t.prototype.onGroundCollisionEnter.call(this,e),this.isAutoMove&&this.isAlive&&this.isGround&&p.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},e.prototype.onHeadCollider=function(t){if(this.isAlive)return t.node.group===s.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},e.prototype.onBodyCollider=function(t){if(this.isAlive&&p.default.instance.isPlaying)if(t.node.group!==s.GroupConfig.LAVA)if(t.node.group!==s.GroupConfig.SNOW){if(t.node.group===s.GroupConfig.COLLIDER){if(t.node.name==u.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(t.node.name==u.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(t.node.name==u.TagConfig.REDIRECT_STOP)return void this.stopMove();if(t.node.name==u.TagConfig.BOMB)return void this.onDieFire();(t.node.name==u.TagConfig.GAS||t.node.name==u.TagConfig.BOMB||t.node.name==u.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){var e=this;if(this.isAlive&&p.default.instance.isPlaying){if(t.node.group===s.GroupConfig.ITEM){if(t.node.name==u.TagConfig.ITEM){if(cc.log("Boss onAttackCollider: ITEM = "+t.node.name),!(n=t.node.getComponent(f.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem();var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestCollectItem&&p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(t.node.name==u.TagConfig.CHEST)return cc.log("Boss onAttackCollider: ITEM = "+t.node.name),(n=t.node.getComponent(h.default))?(this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem(),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){e.isAlive&&p.default.instance.isPlaying&&(p.default.instance.isCollectGems=!0,r.GlobalSignals.collectGemsSignal.dispatch(),e.scheduleOnce(function(){e.isAlive&&p.default.instance.isPlaying&&p.default.instance.isPlaying&&p.default.instance.isQuestOpenChest&&p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()},1.5))},o)):void cc.error("item is null")}return t.node.group===s.GroupConfig.CHARACTER&&t.node.name==u.TagConfig.GIRL?(r.GlobalSignals.bossAttackSignal.dispatch(),void this.rescueTheDaughter(t.node)):void 0}},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===s.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},e.prototype.onSearchCollider=function(t){if(this.isAlive&&p.default.instance.isPlaying)return t.node.group==s.GroupConfig.BERRIE&&t.node.name==u.TagConfig.CHEST&&this.walkToTarget(t.node),t.node.group===s.GroupConfig.CHARACTER&&t.node!=this.node&&t.node.name==u.TagConfig.GIRL&&p.default.instance.isQuestSaveDaughter?void this.runToTarget(t.node):void 0},e.prototype.rescueTheDaughter=function(t){var e=this;if(!this._savedDaughter){this._savedDaughter=!0;var o=_.PetDataManager.pickRandomAEgg();this.stopMove(),this.rotateFaceToTarget(t);var n=this.skeleton.findAnimation("Win").duration;this.playAnimation("Win").addAnimation("Win2",!0);var i=function(){p.default.instance.isPlaying&&p.default.instance.gameState!=d.GameState.LOSE&&r.GlobalSignals.questPassSignal.dispatch()};this.scheduleOnce(function(){r.GlobalSignals.daughterIsSaved.dispatch(o,e.node,i.bind(e))},n)}},e.prototype.playAttack=function(t){var e=this;this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){p.default.instance.isPlaying&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleAnim,!0),e.hit.active=!1,e.stopMove())})},e.prototype.onDieNormal=function(){this.stopMove(),this.playAnimation(this.dieAnim),this.onSoundDie(),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieFire=function(){this.stopMove(),this.offSoundIdle(),this.onSoundDie(),this.playAnimation(this.dieFireAnim,!0),this.isAlive=!1;var t=p.default.instance.node.getComponentInChildren(y.default);t&&(t.node.active=!1),r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieIce=function(){this.stopMove(),this.playAnimation(this.dieIceAnim),this.isAlive=!1,r.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDirty=function(){this.isDirty=!0,r.GlobalSignals.questFailSignal.dispatch(),this.offSoundIdle()},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAutoMove=!1,this.StateCharacter=v.ActionCharacterType.STOP},e._instance=null,a([b(cc.String)],e.prototype,"winAnim",void 0),a([b(cc.String)],e.prototype,"winAnim2",void 0),a([b(cc.String)],e.prototype,"failAnim",void 0),a([b(cc.String)],e.prototype,"failAnim1",void 0),a([b(l.default)],e.prototype,"jumpCollider",void 0),a([b(cc.Float)],e.prototype,"distance",void 0),o=a([S],e)}(c.default);o.default=C,cc._RF.pop()},{"../../../GameData":"GameData","../../../base/ColliderCallback":"ColliderCallback","../../../config/ActionCharacterType":"ActionCharacterType","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../pets/PetDataManager":"PetDataManager","../../homePin2/Libbey":"Libbey","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../Character":"Character"}],ScaleRepeatAnim:[function(t,e,o){"use strict";cc._RF.push(e,"6217devR7JH3ad1/GjLdKfy","ScaleRepeatAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=.2,e.scale1=1.2,e.duration2=.2,e.scale2=1,e}return i(e,t),e.prototype.play=function(t){var e=cc.sequence(cc.scaleTo(this.duration1,this.scale1),cc.scaleTo(this.duration2,this.scale2));this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.play(this.node)},a([c(cc.Boolean)],e.prototype,"repeatForever",void 0),a([c(cc.Float)],e.prototype,"duration1",void 0),a([c(cc.Float)],e.prototype,"scale1",void 0),a([c(cc.Float)],e.prototype,"duration2",void 0),a([c(cc.Float)],e.prototype,"scale2",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScreenManager:[function(t,e,o){"use strict";cc._RF.push(e,"901c3FK5gZOZ6/0KHHjo2D4","ScreenManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenConfig=o.ScreenId=void 0;var r,s=t("./FixFlash"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.NONE=0]="NONE",t[t.HOME_SCREEN=1]="HOME_SCREEN",t[t.PLAY_SCREEN=2]="PLAY_SCREEN",t[t.CASTLE_SCREEN=3]="CASTLE_SCREEN",t[t.INTRO=4]="INTRO"})(r=o.ScreenId||(o.ScreenId={}));var p=function(){function t(){this.screenId=r.HOME_SCREEN,this.screen=null}return a([u({type:cc.Enum(r)})],t.prototype,"screenId",void 0),a([u(cc.Node)],t.prototype,"screen",void 0),a([l("ScreenConfig")],t)}();o.ScreenConfig=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flash=null,e.arrayConfig=[],e.posRootFlash=null,e.fixFlash=null,e}return i(e,t),e.prototype.onLoad=function(){this.posRootFlash=this.flash.position,this.fixFlash=this.flash.getComponent(s.default)},e.prototype.showScreenById=function(t,e,o){var n=this;if(void 0===o&&(o=!1),cc.log("showScreenById: "+t),o){var i=this.activeScreenById(t);e&&e(i)}else this.showFlash(1,function(){var o=n.activeScreenById(t);e&&e(o)},t)},e.prototype.activeScreenById=function(t){for(var e=null,o=0;o<this.arrayConfig.length;o++)this.arrayConfig[o].screenId===t?(this.arrayConfig[o].screen.active=!0,e=this.arrayConfig[o].screen):this.arrayConfig[o].screen.active=!1;return e},e.prototype.getScreenById=function(t){for(var e=0;e<this.arrayConfig.length;e++)if(this.arrayConfig[e].screenId===t)return this.arrayConfig[e].screen;return null},e.prototype.showFlash=function(t,e){var o=this;void 0===e&&(e=null),this.flash.active=!0,cc.Tween.stopAllByTarget(this.flash),cc.tween(this.flash).to(0,{position:this.flash.position}).delay(t/2).call(function(){e&&e()}).delay(this.getTransitionDt()).call(function(){o.flash.active=!1,o.flash.position=o.posRootFlash,o.flash.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)}).start()},e.prototype.getIntroDT=function(){this.arrayConfig[3].screen.getComponent("cc.Animation").getClips()[0].duration},e.prototype.getTransitionDt=function(){return this.flash.getComponent(sp.Skeleton).findAnimation("animation").duration},e.prototype.setPosFlash=function(t){var e=this.node.parent.convertToNodeSpaceAR(t);t&&(this.flash.position=e)},a([u(cc.Node)],e.prototype,"flash",void 0),a([u([p])],e.prototype,"arrayConfig",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./FixFlash":"FixFlash"}],SeftUtils:[function(t,e,o){"use strict";cc._RF.push(e,"8fcf9X4rLRMfoChxX5o9xsM","SeftUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.SeftUtils=o.DurationTracker=void 0;var n=t("../base/utils/MathUtil");o.DurationTracker={distance:0,curDuration:0,durationTime:0,startNum:0,endNum:0};var i=function(){function t(){}return t.numberTo=function(t,e,o,i,a,r,s){this.durationTracker.distance=(o-e)/i,this.durationTracker.curDuration=0,this.durationTracker.durationTime=i,this.durationTracker.startNum=e,this.durationTracker.endNum=o,cc.Tween.stopAllByTarget(this.durationTracker);var c=function(e,o,i,r){i=e+(o-e)*r,i=n.default.formatNumberWithNDecimals(i,2),s&&s(i),t&&(t.string=""+Math.floor(i)+a)}.bind(this);cc.tween({a:e}).to(i,{a:o},{progress:c}).call(function(){r&&r()}).start()},t.ConvertToNormalizedValue=function(t,e){return t/e},t.addAssetsToNode=function(t,e){var o;return e instanceof cc.SpriteFrame?(t.removeComponent(sp.Skeleton),(o=t.getComponent(cc.Sprite))||(o=t.addComponent(cc.Sprite)),o.spriteFrame=e,o):e instanceof sp.SkeletonData?(t.removeComponent(cc.Sprite),(o=t.getComponent(sp.Skeleton))||(o=t.addComponent(sp.Skeleton)),o.skeletonData=e,o):void 0},t.convertToEnum=function(t){var e={};return(Array.isArray(t)?t:Object.keys(t)).forEach(function(t,o){return e[t]=o}),cc.Enum(e)},t.groupEnumToCCEnum=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.isCCEnum=function(t){return!!t.hasOwnProperty("__enums__")},t.searchStringArray=function(t,e){return e.find(function(e){return!!e.match(t)})},t.getRunTimeDataSkeleton=function(t){return new Promise(function(e){var o=t.skeletonData.getRuntimeData();o&&e(o)})},t.deleteSkinTemp=function(e){e.skeletonData.getRuntimeData().findSkin("Temp")&&(e.skeletonData.getRuntimeData().skins.pop(),t.deleteSkinTemp(e))},t.durationTracker=o.DurationTracker,t}();o.SeftUtils=i,cc._RF.pop()},{"../base/utils/MathUtil":"MathUtil"}],SelectRoomItem:[function(t,e,o){"use strict";cc._RF.push(e,"2454fqSpTFBzaqjc3+RKCvv","SelectRoomItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/utils/GUIUtil"),s=t("../GameData"),c=t("../MainScene"),l=t("../HomeScreen"),u=t("../config/RoomConfig"),p=t("../config/LevelConfig"),d=t("../base/SetLabelLanguage"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="Room1",e.levelUnlock=40,e.lock=null,e.label_unlock=null,e.button=null,e}return i(e,t),e.prototype.onLoad=function(){this.button=this.node.getComponent(cc.Button),this.button?r.default.addClickListener(this.button,this.node,"SelectRoomItem","onClick"):this.button=this.node.addComponent(cc.Button)},e.prototype.onEnable=function(){s.GameData.currentLevelId>=this.levelUnlock&&p.LevelConfig.realLevelSize>=this.levelUnlock?(this.lock.active=!1,this.button.interactable=!0):(this.lock.active=!0,this.button.interactable=!1,p.LevelConfig.realLevelSize<this.levelUnlock?(this.label_unlock.string=d.ChangeLanguage.getText("comingsoon"),this.label_unlock.fontSize=14):this.label_unlock.string=d.ChangeLanguage.getText("level")+this.levelUnlock)},e.prototype.onClick=function(){var t=u.RoomConfig.getRoomIdByName(this.prefabName);t!=l.default.instance.visibleRoomId?l.default.instance.loadRoom(t,function(){c.default.instance.showHomeScreen(function(){c.default.instance.selectRoomPopup.active=!1})}):c.default.instance.showHomeScreen(function(){c.default.instance.selectRoomPopup.active=!1})},a([g(cc.String)],e.prototype,"prefabName",void 0),a([g(cc.Integer)],e.prototype,"levelUnlock",void 0),a([g(cc.Node)],e.prototype,"lock",void 0),a([g(cc.Label)],e.prototype,"label_unlock",void 0),a([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../base/utils/GUIUtil":"GUIUtil","../config/LevelConfig":"LevelConfig","../config/RoomConfig":"RoomConfig"}],SerializableCipher:[function(t,e,o){"use strict";cc._RF.push(e,"e5f80C4+uJKCYlc2R9+sxYd","SerializableCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableCipher=void 0;var n=t("./WordArray"),i=t("../format/OpenSSL"),a=t("./CipherParams"),r=function(){function t(){}return t.encrypt=function(t,e,o,n){var i=Object.assign({},this.cfg,n),r=t.createEncryptor(o,i),s=r.finalize(e);return new a.CipherParams({ciphertext:s,key:o,iv:r.cfg.iv,algorithm:t,mode:r.cfg.mode,padding:r.cfg.padding,blockSize:r.cfg.blockSize,formatter:i.format})},t.decrypt=function(t,e,o,n){var i=Object.assign({},this.cfg,n);if(!i.format)throw new Error("could not determine format");if(!(e=this._parse(e,i.format)).ciphertext)throw new Error("could not determine ciphertext");return t.createDecryptor(o,i).finalize(e.ciphertext)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new n.WordArray([]),format:i.OpenSSL},t}();o.SerializableCipher=r,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","./CipherParams":"CipherParams","./WordArray":"WordArray"}],SetLabelLanguage:[function(t,e,o){"use strict";cc._RF.push(e,"931dfkHxOVH6ag6AahIZw2V","SetLabelLanguage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ChangeLanguage=void 0;var r=t("../config/GlobalSignals"),s=t("../GameData"),c=t("./Language"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="",e._updateCurrentLanguage=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this._updateCurrentLanguage=this.updateCurrentLanguage.bind(this)},e.prototype.onEnable=function(){r.GlobalSignals.UpdateCurrentLanguage.add(this._updateCurrentLanguage);var t=s.GameData.currentLanguage;this.setupDataLabel(t)},e.prototype.onDisable=function(){r.GlobalSignals.UpdateCurrentLanguage.remove(this._updateCurrentLanguage)},e.prototype.updateCurrentLanguage=function(t){this.setupDataLabel(t.LangCode)},e.prototype.setupDataLabel=function(t){this.key&&(this.node.getComponent(cc.Label).string=c.TextLanguage[t][this.key])},e._instance=null,a([p(cc.String)],e.prototype,"key",void 0),o=a([u],e)}(cc.Component);o.default=d;var f=function(){function t(){}return t.getText=function(t){return c.TextLanguage[s.GameData.currentLanguage][t]},t}();o.ChangeLanguage=f,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals","./Language":"Language"}],SettingsPopup:[function(t,e,o){"use strict";cc._RF.push(e,"1ae5czkyCxFupccCa3ZqkvT","SettingsPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/toggle/ToggleSliderGroup"),s=t("../base/audio/AudioManager"),c=t("../GameData"),l=t("../config/GlobalSignals"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_sound_effect=null,e.btn_sound_music=null,e.btn_reset_data=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_sound_effect.setOnClickCallback(function(t){s.default.EffectEnable=t}),this.btn_sound_music.setOnClickCallback(function(t){s.default.MusicEnable=t}),this.btn_reset_data&&(this.btn_reset_data.node.active=null==window.isDev||window.isDev),l.GlobalSignals.updateToggleSound.add(this.onSound.bind(this))},e.prototype.onEnable=function(){this.onSound()},e.prototype.onDisable=function(){l.GlobalSignals.updateToggleSound.remove(this.onSound.bind(this))},e.prototype.onSound=function(){this.btn_sound_effect.setToggleState(s.default.EffectEnable,!0),this.btn_sound_music.setToggleState(s.default.MusicEnable,!0)},e.prototype.onClearData=function(){cc.warn("onClearData"),c.GameData.clearData()},a([d(r.default)],e.prototype,"btn_sound_effect",void 0),a([d(r.default)],e.prototype,"btn_sound_music",void 0),a([d(cc.Button)],e.prototype,"btn_reset_data",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../base/audio/AudioManager":"AudioManager","../base/toggle/ToggleSliderGroup":"ToggleSliderGroup","../config/GlobalSignals":"GlobalSignals"}],SignalBinding:[function(t,e,o){"use strict";cc._RF.push(e,"986cbDaJqlNrbiJVow96Bwm","SignalBinding"),Object.defineProperty(o,"__esModule",{value:!0}),o.SignalBinding=void 0;var n=function(){function t(t,e,o,n,i){void 0===i&&(i=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=o,this.context=n,this._signal=t,this.priority=i||0}return t.prototype.execute=function(t){var e,o;return this.active&&this._listener&&(o=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,o),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();o.SignalBinding=n,cc._RF.pop()},{}],Signal:[function(t,e,o){"use strict";cc._RF.push(e,"cb5e6YetPdPRqAkDnrTk1Ag","Signal"),Object.defineProperty(o,"__esModule",{value:!0}),o.Signal=void 0;var n=t("./SignalBinding"),i=function(){function t(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return t.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},t.prototype._registerListener=function(t,e,o,i){var a,r=this._indexOfListener(t,o);if(-1!==r){if((a=this._bindings[r]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else a=new n.SignalBinding(this,t,e,o,i),this._addBinding(a);return this.memorize&&this._prevParams&&a.execute(this._prevParams),a},t.prototype._addBinding=function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},t.prototype._indexOfListener=function(t,e){for(var o,n=this._bindings.length;n--;)if((o=this._bindings[n]).getListener()===t&&o.context===e)return n;return-1},t.prototype.has=function(t,e){return void 0===e&&(e=null),-1!==this._indexOfListener(t,e)},t.prototype.add=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,o)},t.prototype.addOnce=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,o)},t.prototype.remove=function(t,e){void 0===e&&(e=null),this.validateListener(t,"remove");var o=this._indexOfListener(t,e);return-1!==o&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),t},t.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},t.prototype.getNumListeners=function(){return this._bindings.length},t.prototype.halt=function(){this._shouldPropagate=!1},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var o,n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){o=this._bindings.slice(0),this._shouldPropagate=!0;do{n--}while(o[n]&&this._shouldPropagate&&!1!==o[n].execute(t))}}},t.prototype.forget=function(){this._prevParams=null},t.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},t.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},t.VERSION="1.0.0",t}();o.Signal=i,cc._RF.pop()},{"./SignalBinding":"SignalBinding"}],SkeletonUtil:[function(t,e,o){"use strict";cc._RF.push(e,"5128d+d2bNJIpP8oTbB+8z4","SkeletonUtil");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.SkeletonUtil=o.SchedulerUtil=o.AnimObj=void 0;var i=cc._decorator,a=i.ccclass,r=i.property,s=function(){function t(){this.skeletonTarget=null,this.nameAnim="",this.loop=!1}return n([r(sp.Skeleton)],t.prototype,"skeletonTarget",void 0),n([r(cc.String)],t.prototype,"nameAnim",void 0),n([r(cc.Boolean)],t.prototype,"loop",void 0),n([a("AnimObj")],t)}();o.AnimObj=s;var c=function(){function t(){}return Object.defineProperty(t,"inst",{get:function(){return null==this._inst&&(this._inst=new t),this._inst},enumerable:!1,configurable:!0}),t.prototype.useScheduler=function(t){return t._id="Custom.100",t.__instanceId=void 0,t},t.prototype.scheduleOnce=function(t,e,o){var n=t||function(){};cc.director.getScheduler().schedule(n,e,o,0,0,!1)},t.prototype.unschedule=function(t,e){var o=t||function(){};cc.director.getScheduler().unschedule(o,e)},t.prototype.isScheduled=function(t,e){var o=t||function(){};return cc.director.getScheduler().isScheduled(o,e)},t._inst=null,t}();o.SchedulerUtil=c;var l=function(){function t(){}return Object.defineProperty(t,"inst",{get:function(){return null==this._inst&&(this._inst=new t,this._inst=c.inst.useScheduler(this._inst)),this._inst},enumerable:!1,configurable:!0}),t.playAnimation=function(t,e,o,n){return t instanceof s?(t.skeletonTarget.setCompleteListener(function(){t.skeletonTarget.setCompleteListener(null),n&&n()}),t.skeletonTarget.setAnimation(0,t.nameAnim,t.loop)):(t.setCompleteListener(function(){t.setCompleteListener(null),n&&n()}),t.setAnimation(0,e,o))},t.addAnimation=function(t,e,o){return t instanceof s?t.skeletonTarget.addAnimation(0,t.nameAnim,t.loop):t.addAnimation(0,e,o)},t.playMultiAnim=function(e,o,n){if(0!=o.length){if(n){var i=this.getTotalDuration(e,o);c.inst.scheduleOnce(function(){c.inst.unschedule(null,t.inst),n&&n()},t.inst,i)}if(1==o.length)this.playAnimation(e,o[0],!0);else for(var a=0;a<o.length;a++){var r=o[a];0==a?this.playAnimation(e,o[0],!1):a==o.length-1?this.addAnimation(e,r,!0):this.addAnimation(e,r,!1)}}},t.getAllNameAnimInSkeleton=function(t){return t.skeletonData.getRuntimeData().animations.map(function(t){return t.name})},t.getTotalDuration=function(t,e){if(0==e.length)return 0;for(var o=0,n=0;n<e.length;n++){var i=e[n];o+=t.findAnimation(""+i).duration}return o},t._inst=null,t}();o.SkeletonUtil=l,cc._RF.pop()},{}],SkinBossUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"b96455DzyhL1JYIEFU8HEc7","SkinBossUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../config/SkinConfig"),c=t("../GameData"),l=t("../Gift/SeftUtils"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.anim="Idle",e._onUpdateSkinBoss=null,e}return i(e,t),e.prototype.onLoad=function(){this.skeleton||(this.skeleton=this.node.getComponent(sp.Skeleton))},e.prototype.onEnable=function(){this._onUpdateSkinBoss=this.onUpdateSkinBoss.bind(this),r.GlobalSignals.changeSkinBossSignal.add(this._onUpdateSkinBoss),this.onUpdateSkinBoss()},e.prototype.onDisable=function(){r.GlobalSignals.changeSkinBossSignal.remove(this._onUpdateSkinBoss)},e.prototype.onUpdateSkinBoss=function(){l.SeftUtils.deleteSkinTemp(this.skeleton);var t=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentSkinBoss),e=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentHatBoss),o=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentShoeBoss),n=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentScarfBoss),i=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentGloveBoss),a=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentEarBoss),r=new sp.spine.Skin("Temp");r.addSkin(t),e&&r.addSkin(e),o&&r.addSkin(o),n&&c.GameData.currentSkinBoss==s.SkinConfig.arraySkinBoss[0].skins[0]&&r.addSkin(n),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},a([d(sp.Skeleton)],e.prototype,"skeleton",void 0),a([d(cc.String)],e.prototype,"anim",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../Gift/SeftUtils":"SeftUtils","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig"}],SkinConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c02cavE5GRJyqMzIcM60HHk","SkinConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SkinConfig=o.SkinType=void 0;var n,i=t("../GameData"),a=t("../skin/SkinPopup");(function(t){t[t.PIN=0]="PIN",t[t.CLOTHES_MOM=1]="CLOTHES_MOM",t[t.HAT_MOM=2]="HAT_MOM",t[t.SHOES_MOM=3]="SHOES_MOM",t[t.CLOTHES_DAUGHTER=4]="CLOTHES_DAUGHTER",t[t.HAT_DAUGHTER=5]="HAT_DAUGHTER",t[t.SHOES_DAUGHTER=6]="SHOES_DAUGHTER"})(n=o.SkinType||(o.SkinType={}));var r=function(){function t(){}return t.getAllSkinTypeGiftBox=function(){var e=[];return t.arrayPinSkin.forEach(function(o){o.type==t.get_type.gift_box&&e.push(o)}),e},t.getSkinNameById=function(e){for(var o=t.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===e){var i=o[n];return i.skins[i.skins.length-1]}return"Base"},t.getAllSkinPins=function(){for(var e=[],o=0;o<t.arrayPinSkin.length;o++)t.arrayPinSkin[o].type===t.get_type.buy&&e.push[t.arrayPinSkin[o].type];return e},t.isHad=function(t,e){return-1!=e.indexOf(t)},t.getPinsSkinUnowned=function(){for(var e=t.arrayPinSkin,o=[],n=0;n<e.length;n++)e[n].type===this.get_type.buy&&(this.isHad(e[n].skinId,i.GameData.myPinSkins)||o.push(e[n]));return o},t.extendConfigSkin=function(){},t.getAllSkinsUnowned=function(){for(var t=[],e=0;e<this.arraySkinBoss.length;e++)-1==i.GameData.myBossSkins.indexOf(""+e)&&t.push(this.arraySkinBoss[e]);for(e=0;e<this.arrayHatBoss.length;e++)-1==i.GameData.myBossHats.indexOf(""+e)&&t.push(this.arrayHatBoss[e]);for(e=0;e<this.arrayShoesBoss.length;e++)-1==i.GameData.myBossShoes.indexOf(""+e)&&t.push(this.arrayShoesBoss[e]);for(e=0;e<this.arraySkinDaughter.length;e++)-1==i.GameData.myDaughterSkins.indexOf(""+e)&&t.push(this.arraySkinDaughter[e]);for(e=0;e<this.arrayHatDaughter.length;e++)-1==i.GameData.myDaughterHats.indexOf(""+e)&&t.push(this.arrayHatDaughter[e]);for(e=0;e<this.arrayShoesDaughter.length;e++)-1==i.GameData.myDaughterShoes.indexOf(""+e)&&t.push(this.arrayShoesDaughter[e]);return t},t.getArrSkinsIdOnwed=function(t,e){var o=[];switch(t){case a.Person.Mom:switch(e){case n.CLOTHES_MOM:o=i.GameData.myBossSkins;break;case n.HAT_MOM:o=i.GameData.myBossHats;break;case n.SHOES_MOM:o=i.GameData.myBossShoes}break;case a.Person.Child:switch(e){case n.CLOTHES_DAUGHTER:o=i.GameData.myDaughterSkins;break;case n.HAT_DAUGHTER:o=i.GameData.myDaughterHats;break;case n.SHOES_DAUGHTER:o=i.GameData.myDaughterShoes}break;case a.Person.Pin:o=i.GameData.myPinSkins}return o},t.getKEYData=function(t,e){var o="";switch(t){case a.Person.Mom:switch(e){case n.CLOTHES_MOM:o=i.GameData.KEY_BOSS_SKINS;break;case n.HAT_MOM:o=i.GameData.KEY_BOSS_HATS;break;case n.SHOES_MOM:o=i.GameData.KEY_BOSS_SHOES}break;case a.Person.Child:switch(e){case n.CLOTHES_DAUGHTER:o=i.GameData.KEY_DAUGHTER_SKINS;break;case n.HAT_DAUGHTER:o=i.GameData.KEY_DAUGHTER_HATS;break;case n.SHOES_DAUGHTER:o=i.GameData.KEY_DAUGHTER_SHOES}break;case a.Person.Pin:o=i.GameData.KEY_PIN_SKINS}return o},t.extendInforShirtMom={whoseSkin:a.Person.Mom,dir:"HomePin2/PopupSkin/Skin/Shirt/Mom/ShirtMomList",skin_type:n.CLOTHES_MOM},t.extendInforHattMom={whoseSkin:a.Person.Mom,dir:"HomePin2/PopupSkin/Skin/Hat/Mom/HatMomList",skin_type:n.HAT_MOM},t.extendInforShoestMom={whoseSkin:a.Person.Mom,dir:"HomePin2/PopupSkin/Skin/Shoes/Mom/ShoesMomList",skin_type:n.SHOES_MOM},t.extendInforShirtDaughter={whoseSkin:a.Person.Child,dir:"HomePin2/PopupSkin/Skin/Shirt/Child/ShirtChildList",skin_type:n.CLOTHES_DAUGHTER},t.extendInforHattDaughter={whoseSkin:a.Person.Child,dir:"HomePin2/PopupSkin/Skin/Hat/Child/HatChildList",skin_type:n.HAT_DAUGHTER},t.extendInforShoestDaughter={whoseSkin:a.Person.Child,dir:"HomePin2/PopupSkin/Skin/Shoes/Child/ShoesChildList",skin_type:n.SHOES_DAUGHTER},t.extendInforPin={whoseSkin:a.Person.Pin,dir:"HomePin2/PopupSkin/Skin/Pin/PinList",skin_type:n.PIN},t.get_type={free:"free",buy:"buy",claim_ad:"claim_ad",gift_code:"gift_code",share_fb:"share_fb",daily_reward:"daily_reward",level:"levelreward",gift_box:"gift_box"},t.arraySkinBoss=[{skinId:"0",skins:["Clothes1"],type:t.get_type.level,value:27,extendInfo:t.extendInforShirtMom},{skinId:"1",skins:["Clothes2"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"2",skins:["Clothes3"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"3",skins:["Clothes4"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"4",skins:["Clothes5"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"5",skins:["Clothes6"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"6",skins:["Clothes7"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"7",skins:["Clothes8"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"8",skins:["Clothes9"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"9",skins:["Clothes10"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"10",skins:["Clothes11"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtMom},{skinId:"11",skins:["Clothes12"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtMom},{skinId:"12",skins:["Clothes13"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtMom},{skinId:"13",skins:["Clothes14"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtMom},{skinId:"14",skins:["Clothes15"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtMom}],t.arrayHatBoss=[{skinId:"0",skins:["Chuptai"],type:t.get_type.level,value:36,extendInfo:t.extendInforHattMom},{skinId:"1",skins:["Hat1"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"2",skins:["Hat2"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"3",skins:["Hat3"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"4",skins:["Hat4"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"5",skins:["Hat5"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"6",skins:["Hat6"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"7",skins:["Hat7"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"8",skins:["Hat9"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"9",skins:["Hat8"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"10",skins:["Hat10"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattMom},{skinId:"11",skins:["Hat11"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforHattMom},{skinId:"12",skins:["Hat12"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforHattMom},{skinId:"13",skins:["Hat13"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforHattMom},{skinId:"14",skins:["Hat14"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforHattMom}],t.arrayShoesBoss=[{skinId:"0",skins:["Boots"],type:t.get_type.level,value:16,extendInfo:t.extendInforShoestMom},{skinId:"1",skins:["Shoe1"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"2",skins:["Shoe2"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"3",skins:["Shoe3"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"4",skins:["Shoe4"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"5",skins:["Shoe5"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"6",skins:["Shoe6"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"7",skins:["Shoe7"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"8",skins:["Shoe9"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"9",skins:["Shoe8"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"10",skins:["Shoe10"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestMom},{skinId:"11",skins:["Shoe11"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestMom},{skinId:"12",skins:["Shoe12"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestMom},{skinId:"13",skins:["Shoe13"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestMom},{skinId:"14",skins:["Shoe14"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestMom}],t.arraySkinDaughter=[{skinId:"0",skins:["Clothes1"],type:t.get_type.level,value:26,extendInfo:t.extendInforShirtDaughter},{skinId:"1",skins:["Clothes2"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"2",skins:["Clothes3"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"3",skins:["Clothes4"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"4",skins:["Clothes5"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"5",skins:["Clothes6"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"6",skins:["Clothes7"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"7",skins:["Clothes8"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"8",skins:["Clothes9"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"9",skins:["Clothes10"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"10",skins:["Clothes12"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShirtDaughter},{skinId:"11",skins:["Clothes11"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtDaughter},{skinId:"12",skins:["Clothes13"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtDaughter},{skinId:"13",skins:["Clothes14"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtDaughter},{skinId:"14",skins:["Clothes15"],type:t.get_type.buy,value:75e3,extendInfo:t.extendInforShirtDaughter}],t.arrayHatDaughter=[{skinId:"0",skins:["Hat_Red"],type:t.get_type.level,value:21,extendInfo:t.extendInforHattDaughter},{skinId:"1",skins:["Hat2"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"2",skins:["Hat3"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"3",skins:["Hat4"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"4",skins:["Hat5"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"5",skins:["Hat6"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"6",skins:["Hat7"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"7",skins:["Hat8"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"8",skins:["Hat9"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"9",skins:["Hat10"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"10",skins:["Hat12"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"11",skins:["Hat11"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"12",skins:["Hat13"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforHattDaughter},{skinId:"13",skins:["Hat14"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforHattDaughter},{skinId:"14",skins:["Hat15"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforHattDaughter}],t.arrayShoesDaughter=[{skinId:"0",skins:["Boots"],type:t.get_type.level,value:22,extendInfo:t.extendInforShoestDaughter},{skinId:"1",skins:["Shoe2"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"2",skins:["Shoe3"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"3",skins:["Shoe4"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"4",skins:["Shoe5"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"5",skins:["Shoe6"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"6",skins:["Shoe7"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"7",skins:["Shoe8"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"8",skins:["Shoe9"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"9",skins:["Shoe10"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"10",skins:["Shoe12"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"11",skins:["Shoe11"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforShoestDaughter},{skinId:"12",skins:["Shoe13"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestDaughter},{skinId:"13",skins:["Shoe14"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestDaughter},{skinId:"14",skins:["Shoe15"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforShoestDaughter}],t.arrayPinSkin=[{skinId:"SkinShop_PinBasic",skins:["SkinShop_PinBasic"],type:t.get_type.free,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin1",skins:["SkinShop_Pin1"],type:t.get_type.daily_reward,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin2",skins:["SkinShop_Pin2"],type:t.get_type.daily_reward,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin3",skins:["SkinShop_Pin3"],type:t.get_type.daily_reward,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin4",skins:["SkinShop_Pin4"],type:t.get_type.daily_reward,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin5",skins:["SkinShop_Pin5"],type:t.get_type.daily_reward,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin6",skins:["SkinShop_Pin6"],type:t.get_type.gift_box,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin7",skins:["SkinShop_Pin7"],type:t.get_type.gift_box,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin8",skins:["SkinShop_Pin8"],type:t.get_type.gift_box,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin9",skins:["SkinShop_Pin9"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin10",skins:["SkinShop_Pin10"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin11",skins:["SkinShop_Pin11"],type:t.get_type.buy,value:3e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin12",skins:["SkinShop_Pin12"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin13",skins:["SkinShop_Pin13"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin14",skins:["SkinShop_Pin14"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin15",skins:["SkinShop_Pin15"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin16",skins:["SkinShop_Pin16"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin17",skins:["SkinShop_Pin17"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin18",skins:["SkinShop_Pin18"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin19",skins:["SkinShop_Pin19"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin20",skins:["SkinShop_Pin20"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin21",skins:["SkinShop_Pin21"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin22",skins:["SkinShop_Pin22"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin23",skins:["SkinShop_Pin23"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin},{skinId:"SkinShop_Pin24",skins:["SkinShop_Pin24"],type:t.get_type.buy,value:5e3,extendInfo:t.extendInforPin}],t.allSkinTypeGiftBox=t.getAllSkinTypeGiftBox(),t}();o.SkinConfig=r,cc._RF.pop()},{"../GameData":"GameData","../skin/SkinPopup":"SkinPopup"}],SkinDaughterUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"03524pTW+5FfqRcdSUGn18n","SkinDaughterUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../config/SkinConfig"),c=t("../GameData"),l=t("../Gift/SeftUtils"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.anim="Idle",e._onUpdateSkinDaughter=null,e}return i(e,t),e.prototype.onLoad=function(){this.skeleton||(this.skeleton=this.node.getComponent(sp.Skeleton))},e.prototype.onEnable=function(){this._onUpdateSkinDaughter=this.onUpdateSkinDaughter.bind(this),r.GlobalSignals.changeSkinDaughterSignal.add(this._onUpdateSkinDaughter),this.onUpdateSkinDaughter()},e.prototype.onDisable=function(){r.GlobalSignals.changeSkinDaughterSignal.remove(this._onUpdateSkinDaughter)},e.prototype.onUpdateSkinDaughter=function(){l.SeftUtils.deleteSkinTemp(this.skeleton);var t=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentSkinDaughter),e=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentHatDaughter),o=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentShoeDaughter),n=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentScarfDaughter),i=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentGloveDaughter),a=this.skeleton.skeletonData.getRuntimeData().findSkin(c.GameData.currentEarDaughter),r=new sp.spine.Skin("Temp");r.addSkin(t),e&&r.addSkin(e),o&&r.addSkin(o),n&&c.GameData.currentSkinBoss==s.SkinConfig.arraySkinDaughter[0].skins[0]&&r.addSkin(n),i&&r.addSkin(i),a&&r.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},a([d(sp.Skeleton)],e.prototype,"skeleton",void 0),a([d(cc.String)],e.prototype,"anim",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../Gift/SeftUtils":"SeftUtils","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig"}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"2f495wKQ/JFyJrI9qhSlw0S","SkinItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/SkinConfig"),s=t("../GameData"),c=t("../base/utils/GUIUtil"),l=t("../MainScene"),u=t("../base/SetLabelLanguage"),p=t("../config/GlobalSignals"),d=t("./SkinPopup"),f=t("../ResUtil"),h=t("../StreakPopup/LbTimeSkinTrial"),g=t("./BtnGiftBox"),y=t("../config/GameConfig"),_=cc._decorator,v=_.ccclass,m=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.btn_level=null,e.btn_daily_reward=null,e.btn_buy=null,e.btn_gift_box=null,e.label_price=null,e.label_level=null,e.light=null,e.skinConfig=null,e.btn_click=null,e.person=null,e.type=null,e.stateActive=!1,e.skinClickCallback=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_click=this.node.getComponent(cc.Button),this.btn_click||(this.btn_click=this.node.addComponent(cc.Button)),p.GlobalSignals.buySkinItem.add(this.onBuy.bind(this))},e.prototype.onDisable=function(){p.GlobalSignals.buySkinItem.remove(this.onBuy.bind(this))},e.prototype.onClickBoss=function(){this.skinClickCallback&&this.skinClickCallback(this.skinConfig)},e.prototype.onClickBuySkinBoss=function(){var t=this;this.skinConfig.value<=s.GameData.playerCoin&&s.GameData.addSkinBoss(this.arraySkin,this.skinConfig.skinId,function(e){e||(s.GameData.addCoin(-t.skinConfig.value),p.GlobalSignals.buySkinItem.dispatch(t.skinConfig.skinId),t.updateUI())})},e.prototype.onClickGiftCode=function(){l.default.instance.showDailyPopup()},e.prototype.onClickDailyReward=function(){},e.prototype.initSkinItem=function(t,e,o,n,i,a){var r=this;this.skinConfig=i,this.skinClickCallback=a,this.arraySkin=this.getCurrentArraySkin(e,o,function(){i.skins[i.skins.length-1]===r.currentSkin&&(r.light.active=!0),n==d.Person.Pin?(r.dir=t,f.ResUtil.getSprInSprAlats(t,i.skinId).then(function(t){r.sprite.spriteFrame=t})):f.ResUtil.getSprInSprAlats(t,i.skinId).then(function(t){r.sprite.spriteFrame=t}),r.updateUI()})},e.prototype.updateUI=function(){var t=this.skinConfig;if(-1!=this.arrayData.indexOf(t.skinId))return this.btn_buy.node.active=!1,this.btn_daily_reward.node.active=!1,this.btn_level.node.active=!1,this.btn_gift_box.node.active=!1,void this.setStateActiveItem(!0);switch(this.setStateActiveItem(!1),t.type){case r.SkinConfig.get_type.buy:this.btn_buy.node.active=!0,this.label_price.string=t.value+"",s.GameData.playerCoin>=t.value?(this.btn_buy.interactable=!0,this.setGraySprite(this.btn_buy.node.getComponent(cc.Sprite),!0)):(this.btn_buy.interactable=!1,this.setGraySprite(this.btn_buy.node.getComponent(cc.Sprite),!1));break;case r.SkinConfig.get_type.daily_reward:this.btn_daily_reward.node.active=!0;break;case r.SkinConfig.get_type.level:this.btn_level.node.active=!0,this.label_level.string=u.ChangeLanguage.getText("level")+t.value;break;case r.SkinConfig.get_type.gift_box:this.btn_gift_box.node.active=!0,this.btn_gift_box.node.getComponentInChildren(h.default).initDataSkinTrial(this.skinConfig,this)}},e.prototype.onBuy=function(t){this.skinConfig.type==r.SkinConfig.get_type.buy&&t!=this.skinConfig.skinId&&this.setSateBtnBuy()},e.prototype.setSateBtnBuy=function(){this.skinConfig.type==r.SkinConfig.get_type.buy&&(s.GameData.playerCoin>=this.skinConfig.value?(this.btn_buy.interactable=!0,this.setGraySprite(this.btn_buy.node.getComponent(cc.Sprite),!0)):(this.btn_buy.interactable=!1,this.setGraySprite(this.btn_buy.node.getComponent(cc.Sprite),!1)))},e.prototype.setStateActiveItem=function(t){t?(this.stateActive=!0,this.setGraySprite(this.sprite,!0)):(this.stateActive=!1,this.setGraySprite(this.sprite,!1))},e.prototype.updateBtnGiftBox=function(t){this.btn_gift_box.getComponent(g.default).setupState(t),this.stateActive!=t&&(t?(this.setStateActiveItem(!0),this.skinConfig.trial=!0):(this.setStateActiveItem(!1),this.skinConfig.trial=!1,s.GameData.setCurrentPin(y.GameConfig.pin_skin_default,function(){})))},e.prototype.setGraySprite=function(t,e){e?t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")):t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},e.prototype.loadSkinImage=function(t,e){cc.resources.load(t,function(t,o){if(!t&&e){var n=new cc.SpriteFrame;n.setTexture(o),e(n)}})},e.prototype.loadPinImage=function(t,e,o){cc.resources.load(t,cc.SpriteAtlas,function(t,n){if(!t){var i=n.getSpriteFrame(e);o(i)}})},e.prototype.getCurrentArraySkin=function(t,e,o){void 0===o&&(o=null);var n={};switch(this.person=t,this.type=e,c.default.addClickListener(this.btn_click,this.node,"SkinItem","onClickBoss"),c.default.addClickListener(this.btn_buy,this.node,"SkinItem","onClickBuySkinBoss"),c.default.addClickListener(this.btn_level,this.node,"SkinItem","onClickLevel"),c.default.addClickListener(this.btn_daily_reward,this.node,"SkinItem","onClickDailyReward"),t){case"Mom":switch(e){case"Hat":this.arrayData=s.GameData.myBossHats,this.currentSkin=s.GameData.currentHatBoss,n.array=s.GameData.myBossHats,n.key=s.GameData.KEY_BOSS_HATS;break;case"Shirt":this.arrayData=s.GameData.myBossSkins,this.currentSkin=s.GameData.currentSkinBoss,n.array=s.GameData.myBossSkins,n.key=s.GameData.KEY_BOSS_SKINS;break;case"Shoes":this.currentSkin=s.GameData.currentShoeBoss,this.arrayData=s.GameData.myBossShoes,n.array=s.GameData.myBossShoes,n.key=s.GameData.KEY_BOSS_SHOES}break;case"Child":switch(e){case"Hat":this.currentSkin=s.GameData.currentHatDaughter,this.arrayData=s.GameData.myDaughterHats,n.array=s.GameData.myDaughterHats,n.key=s.GameData.KEY_DAUGHTER_HATS;break;case"Shirt":this.currentSkin=s.GameData.currentSkinDaughter,this.arrayData=s.GameData.myDaughterSkins,n.array=s.GameData.myDaughterSkins,n.key=s.GameData.KEY_DAUGHTER_SKINS;break;case"Shoes":this.currentSkin=s.GameData.currentShoeDaughter,this.arrayData=s.GameData.myDaughterShoes,n.array=s.GameData.myDaughterShoes,n.key=s.GameData.KEY_DAUGHTER_SHOES}break;case"Pin":this.currentSkin=s.GameData.currentPinSkin,this.arrayData=s.GameData.myPinSkins,n.array=s.GameData.myPinSkins,n.key=s.GameData.KEY_PIN_SKINS}return o&&o(n),n},a([m(cc.Sprite)],e.prototype,"sprite",void 0),a([m(cc.Button)],e.prototype,"btn_level",void 0),a([m(cc.Button)],e.prototype,"btn_daily_reward",void 0),a([m(cc.Button)],e.prototype,"btn_buy",void 0),a([m(cc.Button)],e.prototype,"btn_gift_box",void 0),a([m(cc.Label)],e.prototype,"label_price",void 0),a([m(cc.Label)],e.prototype,"label_level",void 0),a([m(cc.Node)],e.prototype,"light",void 0),a([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../ResUtil":"ResUtil","../StreakPopup/LbTimeSkinTrial":"LbTimeSkinTrial","../base/SetLabelLanguage":"SetLabelLanguage","../base/utils/GUIUtil":"GUIUtil","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig","./BtnGiftBox":"BtnGiftBox","./SkinPopup":"SkinPopup"}],SkinPopup:[function(t,e,o){"use strict";cc._RF.push(e,"077a2KjJEZJZpHqt/lLWN7i","SkinPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemType=o.Person=void 0;var r=t("./SkinItem"),s=t("../config/SkinConfig"),c=t("../config/GlobalSignals"),l=t("../GameData"),u=t("../ui/ButtonActive"),p=t("../config/ItemLevelSkin"),d=t("../ResUtil"),f=t("../base/audio/AudioManager"),h=t("../base/GameDistribution"),g=t("../Gift/SeftUtils"),y=function(){function t(){}return t.Mom="Mom",t.Child="Child",t.Pin="Pin",t}();o.Person=y;var _=function(){function t(){}return t.Hat="Hat",t.Outfit="Shirt",t.Shoe="Shoes",t}();o.ItemType=_;var v=cc._decorator,m=v.ccclass,S=v.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.skeletonDaughter=null,e.pinSprite=null,e.btnSkin=null,e.container=null,e.rowPrefab=null,e.skinPrefab=null,e.buttonActive=[],e.buttonPinSkin=null,e.buttonOutfit=null,e.arraySkin=[],e.isPerson=y.Mom,e.isType=_.Hat,e.hasHat=!1,e.hasShoe=!1,e.defaultSkeleton=null,e.defaultSkeletonDaughter=null,e}return i(e,t),e.prototype.onLoad=function(){this.initData(_.Hat,y.Mom),this.reloadMomCurrentSkin(),this.resetButton(0),this.buttonOutfit.active=!1,this.pinSprite.node.active=!1},e.prototype.onEnable=function(){this.reloadMomCurrentSkin(),this.reloadChildCurrentSkin(),this.arraySkin.forEach(function(t){null!=t&&t.setSateBtnBuy()})},e.prototype.initData=function(t,e){var o=this;this.arraySkin=[],this.container.removeAllChildren();for(var n=this.getSkinConfig(),i=n.length,a=Math.ceil(i/3),s=0,c=0;c<a;c++){var l=cc.instantiate(this.rowPrefab);this.container.addChild(l);for(var u=0;u<3&&!(s>=i);u++){var p=n[s],d=cc.instantiate(this.skinPrefab);d.position=l.children[u].position,l.addChild(d);var f,h=d.getComponent(r.default);f=e==y.Pin?"HomePin2/PopupSkin/Skin/Pin/PinList":"HomePin2/PopupSkin/Skin/"+t+"/"+e+"/"+this.getNameFileSkinsByType(t,e),h.initSkinItem(f,this.isPerson,this.isType,e,p,function(t){o.selectSkinByCfg(t)}),this.arraySkin.push(h),s++}}},e.prototype.getNameFileSkinsByType=function(t,e){if(e==y.Mom)switch(t){case _.Hat:return"HatMomList";case _.Outfit:return"ShirtMomList";case _.Shoe:return"ShoesMomList"}else if(e==y.Child)switch(t){case _.Hat:return"HatChildList";case _.Outfit:return"ShirtChildList";case _.Shoe:return"ShoesChildList"}},e.prototype.onClickBack=function(){this.node.active=!1},e.prototype.clickPin=function(){this.isPerson==y.Pin&&(this.initData("",y.Pin),this.reloadPinCurrentSkin())},e.prototype.clickHat=function(){this.resetButton(0),this.isType=_.Hat,this.isPerson==y.Mom?(this.initData(_.Hat,y.Mom),this.reloadMomCurrentSkin()):this.isPerson==y.Child&&(this.initData(_.Hat,y.Child),this.reloadChildCurrentSkin())},e.prototype.clickOutfit=function(){this.resetButton(1),this.isType=_.Outfit,this.isPerson==y.Mom?(this.initData(_.Outfit,y.Mom),this.reloadMomCurrentSkin()):this.isPerson==y.Child&&(this.initData(_.Outfit,y.Child),this.reloadChildCurrentSkin())},e.prototype.clickShoe=function(){this.resetButton(2),this.isType=_.Shoe,this.isPerson==y.Mom?(this.initData(_.Shoe,y.Mom),this.reloadMomCurrentSkin()):this.isPerson==y.Child&&(this.initData(_.Shoe,y.Child),this.reloadChildCurrentSkin())},e.prototype.resetButton=function(t){this.buttonActive[0].deactiveBtn(),this.buttonActive[1].deactiveBtn(),this.buttonActive[2].deactiveBtn(),this.buttonActive[t].activeBtn()},e.prototype.changePerson=function(){var t=this;this.btnSkin.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){t.btnSkin.getComponent(cc.Button).interactable=!0},.5),this.isPerson==y.Mom?(this.reloadChildCurrentSkin(),this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Daughter_Active",!1),this.isPerson=y.Child,this.skeleton.node.active=!1,this.skeletonDaughter.node.active=!0):(this.reloadMomCurrentSkin(),this.isPerson=y.Mom,this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Mother_Active",!1),this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!0),this.clickHat()},e.prototype.onClickPin=function(){this.buttonPinSkin.children[0].active=!0,this.buttonOutfit.active=!0,this.buttonPinSkin.children[1].active=!1,this.btnSkin.active=!1,this.buttonActive[0].node.parent.active=!1,this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!1,this.pinSprite.node.active=!0,this.isPerson=y.Pin,this.isType="",this.clickPin(),this.reloadPinCurrentSkin()},e.prototype.onOutfit=function(){this.buttonPinSkin.children[0].active=!1,this.buttonOutfit.active=!1,this.buttonPinSkin.children[1].active=!0,this.btnSkin.active=!0,this.buttonActive[0].node.parent.active=!0,this.pinSprite.node.active=!1,this.reloadMomCurrentSkin(),this.isPerson=y.Mom,this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Mother_Active",!1),this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!0,this.clickHat()},e.prototype.getSkinConfig=function(){var t=[];if(y.Mom==this.isPerson)switch(this.isType){case _.Hat:s.SkinConfig.arrayHatBoss.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)});break;case _.Outfit:s.SkinConfig.arraySkinBoss.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)});break;case _.Shoe:s.SkinConfig.arrayShoesBoss.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)})}else if(y.Child==this.isPerson)switch(this.isType){case _.Hat:s.SkinConfig.arrayHatDaughter.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)});break;case _.Outfit:s.SkinConfig.arraySkinDaughter.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)});break;case _.Shoe:s.SkinConfig.arrayShoesDaughter.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)})}else y.Pin==this.isPerson&&s.SkinConfig.arrayPinSkin.forEach(function(e){e.type!=s.SkinConfig.get_type.gift_code&&t.push(e)});return t},e.prototype.selectSkinByCfg=function(t){switch(this.isPerson){case y.Mom:switch(this.isType){case _.Hat:this.mySkinsArray=l.GameData.myBossHats,this.selectHatBossByCfg(t);break;case _.Outfit:this.mySkinsArray=l.GameData.myBossSkins,this.selectSkinBossByCfg(t);break;case _.Shoe:this.mySkinsArray=l.GameData.myBossShoes,this.selectShoeBossByCfg(t)}break;case y.Child:switch(this.isType){case _.Hat:this.mySkinsArray=l.GameData.myDaughterHats,this.selectHatDaughterByCfg(t);break;case _.Outfit:this.mySkinsArray=l.GameData.myDaughterSkins,this.selectSkinDaughterByCfg(t);break;case _.Shoe:this.mySkinsArray=l.GameData.myDaughterShoes,this.selectShoeDaughterByCfg(t)}break;case y.Pin:this.mySkinsArray=l.GameData.myPinSkins,this.selectPinByCfg(t)}},e.prototype.selectHatBossByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadMomCurrentSkin(null,o,void 0),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setHatBoss(o,function(o){o||(c.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectSkinBossByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadMomCurrentSkin(o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setSkinBoss(o,function(o){o||(c.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectShoeBossByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadMomCurrentSkin(null,void 0,o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setShoeBoss(o,function(o){o||(c.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectHatDaughterByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.addSkinDaughter(this.skeletonDaughter,o),this.reloadChildCurrentSkin(null,o,void 0),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setHatDaughter(o,function(o){o||(c.GlobalSignals.changeSkinDaughterSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectSkinDaughterByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadChildCurrentSkin(o),t.type!==s.SkinConfig.get_type.free&&-1==this.mySkinsArray.indexOf(t.skinId)||l.GameData.setSkinDaughter(o,function(o){o||(c.GlobalSignals.changeSkinDaughterSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectShoeDaughterByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadChildCurrentSkin(null,void 0,o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setShoeDaughter(o,function(o){o||(c.GlobalSignals.changeSkinDaughterSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectPinByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadPinCurrentSkin(o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setCurrentPin(o,function(o){o||e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)})}),t.trial&&l.GameData.setCurrentPin(o,function(o){o||e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)})})},e.prototype.addSkinDaughter=function(t,e){g.SeftUtils.deleteSkinTemp(t);var o=t.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinDaughter),n=new sp.spine.Skin("Temp"),i=t.skeletonData.getRuntimeData().findSkin(e);n.addSkin(i),n.addSkin(o),t.skeletonData.getRuntimeData().skins.push(n),t.setSkin(n.name)},e.prototype.reloadChildCurrentSkin=function(t,e,o){var n;g.SeftUtils.deleteSkinTemp(this.skeletonDaughter);var i=new sp.spine.Skin("Temp");if(t?(n=this.skeletonDaughter.skeletonData.getRuntimeData().findSkin(t),t==s.SkinConfig.arraySkinBoss[0].skins[0]&&this.addSkin(i,p.ItemSkinLevel.getSkinName(p.ItemLevelSkin.GLOVES),this.skeletonDaughter)):(n=this.skeletonDaughter.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinDaughter),l.GameData.currentSkinDaughter==s.SkinConfig.arraySkinBoss[0].skins[0]&&this.addSkin(i,p.ItemSkinLevel.getSkinName(p.ItemLevelSkin.GLOVES),this.skeletonDaughter)),i.addSkin(n),e){var a=e;this.addSkin(i,a,this.skeletonDaughter),e==s.SkinConfig.arrayHatBoss[0].skins[0]&&this.addSkin(i,p.ItemSkinLevel.getSkinName(p.ItemLevelSkin.HAT),this.skeletonDaughter)}else a=l.GameData.currentHatDaughter,this.addSkin(i,a,this.skeletonDaughter),l.GameData.currentHatDaughter&&l.GameData.currentHatDaughter!=s.SkinConfig.arrayHatDaughter[0].skins[0]||this.addSkin(i,l.GameData.currentEarDaughter,this.skeletonDaughter);o?(a=o,this.addSkin(i,a,this.skeletonDaughter)):(a=l.GameData.currentShoeDaughter,this.addSkin(i,a,this.skeletonDaughter)),this.skeletonDaughter.skeletonData.getRuntimeData().skins.push(i),this.skeletonDaughter.setSkin(i.name)},e.prototype.reloadMomCurrentSkin=function(t,e,o){var n;g.SeftUtils.deleteSkinTemp(this.skeleton),n=t?this.skeleton.skeletonData.getRuntimeData().findSkin(t):this.skeleton.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinBoss);var i=new sp.spine.Skin("Temp");if(i.addSkin(n),e){var a=e;this.addSkin(i,a,this.skeleton)}else a=l.GameData.currentHatBoss,this.addSkin(i,a,this.skeleton);o?(a=o,this.addSkin(i,a,this.skeleton)):(a=l.GameData.currentShoeBoss,this.addSkin(i,a,this.skeleton));var r=this.skeleton.skeletonData.getRuntimeData().findSkin(l.GameData.currentScarfBoss);r&&t==s.SkinConfig.arraySkinBoss[0].skins[0]&&i.addSkin(r),this.skeleton.skeletonData.getRuntimeData().skins.push(i),this.skeleton.setSkin(i.name)},e.prototype.reloadPinCurrentSkin=function(t){var e=this;t&&d.ResUtil.getSprInSprAlats("HomePin2/PopupSkin/Skin/Pin/PinList",t).then(function(t){e.pinSprite.spriteFrame=t})},e.prototype.addSkin=function(t,e,o){var n=o.skeletonData.getRuntimeData().findSkin(e);n&&t.addSkin(n)},e.prototype.watchReceiveCoins=function(){h.default.instance.rewardType="receiveCoinsSKin",h.default.instance.effectSoundState=f.default.EffectEnable,h.default.instance.musicSoundState=f.default.MusicEnable,h.default.instance.GDShowRewardedAd()},a([S(sp.Skeleton)],e.prototype,"skeleton",void 0),a([S(sp.Skeleton)],e.prototype,"skeletonDaughter",void 0),a([S(cc.Sprite)],e.prototype,"pinSprite",void 0),a([S(cc.Node)],e.prototype,"btnSkin",void 0),a([S(cc.Node)],e.prototype,"container",void 0),a([S(cc.Prefab)],e.prototype,"rowPrefab",void 0),a([S(cc.Prefab)],e.prototype,"skinPrefab",void 0),a([S([u.default])],e.prototype,"buttonActive",void 0),a([S(cc.Node)],e.prototype,"buttonPinSkin",void 0),a([S(cc.Node)],e.prototype,"buttonOutfit",void 0),a([S(sp.SkeletonData)],e.prototype,"defaultSkeleton",void 0),a([S(sp.SkeletonData)],e.prototype,"defaultSkeletonDaughter",void 0),a([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../GameData":"GameData","../Gift/SeftUtils":"SeftUtils","../ResUtil":"ResUtil","../base/GameDistribution":"GameDistribution","../base/audio/AudioManager":"AudioManager","../config/GlobalSignals":"GlobalSignals","../config/ItemLevelSkin":"ItemLevelSkin","../config/SkinConfig":"SkinConfig","../ui/ButtonActive":"ButtonActive","./SkinItem":"SkinItem"}],SkinTrialTimerManager:[function(t,e,o){"use strict";cc._RF.push(e,"570b6dSUK9LPIHq/HIToQr/","SkinTrialTimerManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/GlobalSignals"),s=t("../GameData"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSkinTrailCounting=[],e.arrTimeCouting=[],e.currentTime=0,e.miliTime=0,e.secondTime=0,e.lastSecondTime=0,e.PauseCount=!0,e.checkArr=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initTrailTimerManager=function(t){this.listSkinTrailCounting=t,this.countTime()},e.prototype.countTime=function(){this.arrTimeCouting=[];for(var t=0;t<this.listSkinTrailCounting.length;t++){var e=this.listSkinTrailCounting[t];this.arrTimeCouting[t]=e.currentTime}this.startRunTime()},e.prototype.startRunTime=function(){this.PauseCount=!1},e.prototype.updateSkinTrial=function(t){var e=this;this.resetDataManager(function(){e.listSkinTrailCounting=t,e.PauseCount=!0,e.countTime()})},e.prototype.resetDataManager=function(t){this.listSkinTrailCounting=[],this.arrTimeCouting=[],t&&t()},e.prototype.update=function(t){var e=this;if(this.miliTime+=t,this.miliTime>this.secondTime&&(this.lastSecondTime=this.secondTime,this.secondTime=Math.floor(this.miliTime)),!this.PauseCount&&this.secondTime>this.lastSecondTime){if(0==this.arrTimeCouting.length)return;if(this.arrTimeCouting.length!==this.listSkinTrailCounting.length)return void this.updateSkinTrial(s.GameData.skinsTrialCounting);this.arrTimeCouting.forEach(function(t,o){if(!(t<0))if(t-=1,e.arrTimeCouting[o]=t,r.GlobalSignals.UpdateTimeTrialSkin.dispatch({skinId:e.listSkinTrailCounting[o].skinTrialInfo.skinId,currentTime:e.arrTimeCouting[o]}),0==t)e.listSkinTrailCounting[o].currentTime=0,s.GameData.saveSkinTrialCounting(e.listSkinTrailCounting[o],function(){e.updateSkinTrial(s.GameData.skinsTrialCounting)});else if(e.secondTime%5==0){if(!e.listSkinTrailCounting[o])return;e.listSkinTrailCounting[o].currentTime=e.arrTimeCouting[o],s.GameData.saveSkinTrialCounting(e.listSkinTrailCounting[o],function(){e.updateSkinTrial(s.GameData.skinsTrialCounting)})}})}},a([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals"}],SlotsSpineDuplicate:[function(t,e,o){"use strict";cc._RF.push(e,"3f81cx9dWdGVJ9YoRqMkiNl","SlotsSpineDuplicate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.TypeDuplicate=void 0;var r,s=t("../custom/SyncPosition"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.CHANGE_OPACITY=0]="CHANGE_OPACITY",t[t.SET_ATTACHMENT=1]="SET_ATTACHMENT"})(r=o.TypeDuplicate||(o.TypeDuplicate={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.parent=null,e.makeAnimMixing=!1,e.slotNameArray=[],e.otherSlotName=[],e.optionTypeDuplicate=r.CHANGE_OPACITY,e._node=null,e._skeClone=null,e._color=new sp.spine.Color(1,1,1,0),e.slotsClone=null,e.slotsTarget=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this._node=cc.instantiate(this.target.node),this._node.name="SkeletonCloneNode",this._node.zIndex=100,this.target.node.parent.scaleX<0?this._node.scaleX=-this.target.node.scaleX:this._node.scaleX=this.target.node.scaleX,this.target.node.parent.on(cc.Node.EventType.SCALE_CHANGED,function(){t.target.node.parent.scaleX<0?t._node.scaleX=-t.target.node.scaleX:t._node.scaleX=t.target.node.scaleX},this),this.parent?this.parent.addChild(this._node):this.target.node.parent.addChild(this._node),this._skeClone=this._node.getComponent(sp.Skeleton),this._skeClone.defaultSkin=this.target.defaultSkin,this._skeClone.clearTrack(0),this._skeClone.setAnimation(0,this.target.animation,this.target.loop),this.target.setAnimation(0,this.target.animation,this.target.loop),this.slotsTarget=this.target.skeletonData.getRuntimeData().slots,this.slotsClone=this._skeClone.skeletonData.getRuntimeData().slots},e.prototype.activeOtherSlots=function(){if(0!=this.otherSlotName.length)for(var t=function(t){e.otherSlotName.find(function(e){return e==t.name})&&e.changeColorOpacityAttachment(t.name)},e=this,o=0,n=this.slotsClone;o<n.length;o++)t(n[o])},e.prototype.setSkinForSkeClone=function(t){this._skeClone.skeletonData.getRuntimeData().skins.push(t),this._skeClone.setSkin(t.name)},e.prototype.changeColorOpacityAttachment=function(t){var e=Object.assign({},this._skeClone.getAttachment(t,t));e._TEST="TEST",e.color=new sp.spine.Color(1,1,1,0);var o=this._skeClone.findSlot(""+t);o.color=new sp.spine.Color(1,1,1,0),o.attachment=e},e.prototype.start=function(){switch(this.optionTypeDuplicate){case r.CHANGE_OPACITY:this._node.opacity=255,this._node.addComponent(s.default).target=this.target.node;var t=Object.assign({},this._skeClone.findSlot("Head"));this._color=t.color,this._color.a=0,t.color=this._color;for(var e=function(t){o.slotNameArray.find(function(e){return e===t.name})||(t.color=o._color)},o=this,n=0,i=this.slotsClone;n<i.length;n++)e(i[n]);this._skeClone.setToSetupPose(),this.activeOtherSlots(),this._color.a=1;for(var a=0;a<this.slotsTarget.length;a++)this.slotsTarget[a].color=this._color;break;case r.SET_ATTACHMENT:}},e.prototype.onDisable=function(){this._node.destroy()},e.prototype.removeSpineClone=function(){this.parent.removeChild(this._node)},e.prototype.dup=function(t,e,o){var n=o.findSlot(t),i=e.findSlot(t);if(n&&i){var a=n.getAttachment();i.setAttachment(a)}},e.prototype.next_anim=function(t,e){void 0===e&&(e=!1),this._skeClone&&this._skeClone.setAnimation(0,t,e)},e.prototype.addAnimation=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0),this._skeClone&&this._skeClone.addAnimation(0,t,e,o)},e.prototype.make_spine_anim_mixing=function(t,e){if(void 0===e&&(e=.3),!t)return null;var o=new sp.spine.AnimationStateData(t.skeletonData.getRuntimeData());return o.defaultMix=e,t.setAnimationStateData(o),o},a([u(sp.Skeleton)],e.prototype,"target",void 0),a([u(cc.Node)],e.prototype,"parent",void 0),a([u(cc.Boolean)],e.prototype,"makeAnimMixing",void 0),a([u([cc.String])],e.prototype,"slotNameArray",void 0),a([u([cc.String])],e.prototype,"otherSlotName",void 0),a([u({type:cc.Enum(r)})],e.prototype,"optionTypeDuplicate",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../custom/SyncPosition":"SyncPosition"}],SmokeGO:[function(t,e,o){"use strict";cc._RF.push(e,"2d1deLpUf1Ik7qr/J03Wp2m","SmokeGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.force=700,e}return i(e,t),e.prototype.update=function(){var t=this.force/10*Math.random(),e=this.force*Math.random();this.body.applyForceToCenter(cc.v2(t,e),!0)},a([c(cc.RigidBody)],e.prototype,"body",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SnowGO:[function(t,e,o){"use strict";cc._RF.push(e,"114d3NpwDFJL7EK1S8sR0Cw","SnowGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../level/MapLevel"),c=t("../../config/PhysicsConfig"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.icePrefab=null,e.available=!0,e}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"snow")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.transformToRock=function(){var t=s.default.instance.rockContainer,e=cc.instantiate(this.icePrefab);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.destroy()},e.prototype.onCollisionEnter=function(t){this.available&&(t.node.group!==r.GroupConfig.LAVA&&t.node.group!==r.GroupConfig.ROCK||(this.available=!1,this.transformToRock()))},a([p(cc.Node)],e.prototype,"border",void 0),a([p(cc.Node)],e.prototype,"drop",void 0),a([p(cc.Prefab)],e.prototype,"icePrefab",void 0),a([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],SpiderWeb:[function(t,e,o){"use strict";cc._RF.push(e,"8808bspc2tPybo5u79rk41j","SpiderWeb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../base/ColliderCallback"),s=t("../../config/AudioPlayId"),c=t("../../config/GlobalSignals"),l=t("../../config/GroupConfig"),u=t("../../config/TagObject"),p=t("../../level/MapLevel"),d=t("../../MainScene"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fxWebSpiderDestroy=null,e.smallSpiderPool=[],e._isActive=!1,e.spiderCount=0,e}return i(e,t),e.prototype.onLoad=function(){this.spiderCount=this.smallSpiderPool.length;var t=function(t){t.node.group==l.GroupConfig.CHARACTER&&(t.node.name!=u.TagConfig.BOSS&&t.node.name!=u.TagConfig.GIRL||p.default.instance.isPlaying&&c.GlobalSignals.questFailSignal.dispatch()),t.node.name==u.TagConfig.HIT&&t.node.getComponent(u.default).tag2==u.TagConfig.BOSS&&(this.node.active=!1),t.node.group==l.GroupConfig.LAVA&&(this.node.active=!1,d.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water),this.spiderCount--,0!=this.spiderCount||(this.node.getComponent(cc.Collider).enable=!1))};this.smallSpiderPool.forEach(function(e){e.setColliderCallback(t.bind(e))})},e.prototype.onCollisionEnter=function(t){if(t.node.name==u.TagConfig.HIT&&t.node.group==l.GroupConfig.COLLIDER){var e=cc.instantiate(this.fxWebSpiderDestroy);e.parent=this.node.parent,e.position=this.node.position,this.scheduleOnce(function(){e.destroy()},.5),this.node.active=!1}},a([g(cc.Prefab)],e.prototype,"fxWebSpiderDestroy",void 0),a([g({type:[r.default]})],e.prototype,"smallSpiderPool",void 0),a([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],Spider:[function(t,e,o){"use strict";cc._RF.push(e,"1735eSRe+xBHoK7DhhNBrvt","Spider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("./SpiderWeb"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fxSmoke=null,e.isDead=!1,e}return i(e,t),e.prototype.onLoad=function(){this.parentScript=this.node.getParent().getComponent(s.default)},e.prototype.onCollisionEnter=function(t){if(t.node.group==r.GroupConfig.LAVA){this.node.getComponent(sp.Skeleton).enabled=!1;var e=cc.instantiate(this.fxSmoke);this.node.addChild(e),this.parentScript.countSpider()}},a([u(cc.Prefab)],e.prototype,"fxSmoke",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","./SpiderWeb":"SpiderWeb"}],StageLevel:[function(t,e,o){"use strict";cc._RF.push(e,"db7c3115FVGcJIBKyMusX2G","StageLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BoxLoseStageLevel"),s=t("./BoxWinStageLevel"),c=t("./EventStageLevel"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxCheckWin=null,e.boxCheckLose=null,e._stageIndex=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this)},e.prototype.questStagePass=function(){null!=this._stageIndex&&(this.node.active=!1)},e.prototype.questStageFail=function(){this.node.active=!1},e.prototype.showFxCoinFlyToChange=function(){},e.prototype.setStageIndex=function(t){this._stageIndex=t,this.boxCheckWin.setStageIndex(t),this.boxCheckLose.setStageIndex(t)},a([p(s.BoxWinStageLevel)],e.prototype,"boxCheckWin",void 0),a([p(r.BoxLoseStageLevel)],e.prototype,"boxCheckLose",void 0),a([u],e)}(c.default);o.default=d,cc._RF.pop()},{"./BoxLoseStageLevel":"BoxLoseStageLevel","./BoxWinStageLevel":"BoxWinStageLevel","./EventStageLevel":"EventStageLevel"}],StickHold:[function(t,e,o){"use strict";cc._RF.push(e,"ac6a0Le9y5BMIU4IVuP9T0u","StickHold");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.StickHoldType=void 0;var r,s=t("../../config/GroupConfig"),c=t("../../base/utils/GUIUtil"),l=t("../../base/ColliderCallback"),u=cc.easeInOut,p=cc.easeOut,d=t("../../GameData"),f=t("../../MainScene"),h=t("../../config/AudioPlayId"),g=t("../../config/SkinConfig"),y=t("../../config/GlobalSignals"),_=cc._decorator,v=_.ccclass,m=_.property;(function(t){t[t.FREE=0]="FREE",t[t.SLIDER=1]="SLIDER"})(r=o.StickHoldType||(o.StickHoldType={}));var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickHoldType=r.FREE,e.points=[],e.headCollider=null,e._active=!0,e.headRootPos=null,e.holdCallback=null,e.activeStickBonus=null,e.isBonus=!1,e.isBlink=!1,e.fxBonusCoin=null,e.coinBonus=0,e.timeSlider=1.6,e}return i(e,t),e.prototype.onLoad=function(){this.getSkin();var t=this.getComponent(cc.PhysicsCircleCollider),e=this.getComponent(cc.PhysicsBoxCollider),o=this.getComponent(cc.BoxCollider),n=this.node.width-2*t.radius;o.size.height+=8,o.size.width=this.node.width-10,e.size.width=n;var i=2*t.radius+n/2;if(e.offset.x=-i,o.offset.x=-n/2-t.radius,this.stickHoldType===r.SLIDER&&(this.p0=this.points[0].position,this.p1=this.points[1].position,this.p0.x+=this.node.x,this.p0.y+=this.node.y,this.p1.x+=this.node.x,this.p1.y+=this.node.y),this.headCollider&&this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.isBonus){this.fxBonusCoin.active=!1,this.node.parent.getComponentInChildren(cc.Label).string=this.coinBonus.toString();var a=Math.abs(this.node.parent.angle%360);this.node.parent.angle<0?this.fxBonusCoin.angle=360+a:this.fxBonusCoin.angle=360-a}this.isBlink&&cc.tween(this.node.children[0]).sequence(cc.tween(this.node.children[0]).to(.4,{opacity:255},{easing:"quadIn"}),cc.tween(this.node.children[0]).to(.4,{opacity:0},{easing:"quadOut"})).repeat(2).start()},e.prototype.onEnable=function(){this.headRootPos=this.node.position},e.prototype.onClick=function(){var t=this;if(this._active)if(this._active=!1,this.stickHoldType===r.FREE)y.GlobalSignals.successStep.dispatch(),f.default.instance.audioPlayer.playAudio(h.AudioPlayId.stick_move),(n=this.node.position).x+=5e3,this.isBonus&&(this.fxBonusCoin.active=!0,f.default.instance.audioPlayer.playAudio(h.AudioPlayId.bonus_star),cc.tween(this.fxBonusCoin).to(1,{opacity:0}).start()),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:n},u(2)).call(function(){t.holdCallback&&t.holdCallback(t),t.activeStickBonus&&t.activeStickBonus(t)}).start();else if(this.stickHoldType===r.SLIDER){var e=this.node,o=c.default.getDistancePoints(e.position,this.p0),n=c.default.getDistancePoints(e.position,this.p1)>o?this.p1:this.p0;cc.Tween.stopAllByTarget(e),cc.tween(e).to(this.timeSlider,{position:n},u(1)).call(function(){t.holdCallback&&t.holdCallback(t),t._active=!0}).start()}},e.prototype.onHeadCollider=function(t){var e=this;if(t.node.group===s.GroupConfig.BERRIE&&t.node!=this.node){cc.log("onHeadCollider: "+t.node.name);var o=this.node;f.default.instance.audioPlayer.playAudio(h.AudioPlayId.stick_block),this.scheduleOnce(function(){cc.Tween.stopAllByTarget(o),cc.tween(o).to(.5,{position:e.headRootPos},p(1)).call(function(){e._active=!0}).start()},.01)}},e.prototype.setHoldCallback=function(t){this.holdCallback=t},e.prototype.setActiveStickBonusCallback=function(t){this.activeStickBonus=t},e.prototype.onCollisionEnter=function(t){t.node.group===s.GroupConfig.TOUCH&&this.onClick()},e.prototype.getSkin=function(){var t,e=this,o=this.node.width;t=this.isBonus?"sprites/main/barrie/Pin Blue":d.GameData.currentPinSkin==g.SkinConfig.arrayPinSkin[0].skinId?"sprites/main/barrie/home_pin_stickbarrie":"HomePin2/GamePlay/"+d.GameData.currentPinSkin,cc.resources.load(t,cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Sprite).spriteFrame=n,e.node.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,e.node.width=o})},a([m({type:cc.Enum(r)})],e.prototype,"stickHoldType",void 0),a([m({type:[cc.Node],visible:function(){return this.stickHoldType===r.SLIDER}})],e.prototype,"points",void 0),a([m(l.default)],e.prototype,"headCollider",void 0),a([m(cc.Boolean)],e.prototype,"isBonus",void 0),a([m(cc.Boolean)],e.prototype,"isBlink",void 0),a([m({type:cc.Node,visible:function(){return this.isBonus}})],e.prototype,"fxBonusCoin",void 0),a([m({type:cc.Integer,visible:function(){return this.isBonus}})],e.prototype,"coinBonus",void 0),a([m({type:cc.Float,visible:function(){return this.stickHoldType===r.SLIDER}})],e.prototype,"timeSlider",void 0),a([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../GameData":"GameData","../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../base/utils/GUIUtil":"GUIUtil","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/SkinConfig":"SkinConfig"}],StreakData:[function(t,e,o){"use strict";cc._RF.push(e,"f5165ECm/xKQJLtASWS04qg","StreakData"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/utils/MathUtil"),i=t("../config/SkinConfig"),a=function(){function t(){}return t.getRandomSkinTrial=function(){var e=n.default.randomInt(this.arrSkinsTrial.length),o=t.arrSkinsTrial[e],i={skinId:o.skinId,skinName:o.skins,timeTrial:600};return t.arrSkinTrial.push(i),i},t.getRandomSkinUnowned=function(){var e=n.default.randomInt(this.arrAllSkinsUnowned.length),o=t.arrAllSkinsUnowned[e];return o?{skinId:o.skinId,skinName:o.skins[0],extendInfo:o.extendInfo}:null},t.arrSkinsTrial=i.SkinConfig.allSkinTypeGiftBox,t.arrAllSkinsUnowned=[],t.arrSkinTrial=[],t.arrSkinTrialCounting=[],t.arrayStreakPoint=[{sateId:1,leftOrRight:1,isEmpty:null},{sateId:2,leftOrRight:1,isEmpty:null},{sateId:3,leftOrRight:-1,isEmpty:{coin:300,skinTrial:null,skin:null}},{sateId:4,leftOrRight:1,isEmpty:null},{sateId:5,leftOrRight:null,isEmpty:{coin:500,skinTrial:null,skin:null}},{sateId:6,leftOrRight:1,isEmpty:null},{sateId:7,leftOrRight:1,isEmpty:{coin:700,skinTrial:null,skin:null}},{sateId:8,leftOrRight:1,isEmpty:null},{sateId:9,leftOrRight:1,isEmpty:null},{sateId:10,leftOrRight:null,isEmpty:{coin:1e3,skinTrial:t.getRandomSkinTrial(),skin:null}},{sateId:11,leftOrRight:1,isEmpty:null},{sateId:12,leftOrRight:1,isEmpty:null},{sateId:13,leftOrRight:1,isEmpty:null},{sateId:14,leftOrRight:1,isEmpty:null},{sateId:15,leftOrRight:null,isEmpty:{coin:1e3,skinTrial:null,skin:t.getRandomSkinUnowned.bind(t)}}],t}();o.default=a,cc._RF.pop()},{"../base/utils/MathUtil":"MathUtil","../config/SkinConfig":"SkinConfig"}],StreakLosePopup:[function(t,e,o){"use strict";cc._RF.push(e,"a251fmZMexPyaYp1EEBLWys","StreakLosePopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/audio/AudioManager"),s=t("../base/GameDistribution"),c=t("../GameData"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cbAffterHide=null,e.oldStreakId=0,e}return i(e,t),e.prototype.onEnable=function(){this.oldStreakId=c.GameData.currentStreakId,c.GameData.setStreakId(0)},e.prototype.setCbAffterHide=function(t){this.cbAffterHide=t},e.prototype.onClickKeepByAds=function(){window.setFuncKeepStreak=function(){c.GameData.setStreakId(this.oldStreakId),this.onClickHidePopup()}.bind(this),s.default.instance.rewardType="keepStreak",s.default.instance.effectSoundState=r.default.EffectEnable,s.default.instance.musicSoundState=r.default.MusicEnable,s.default.instance.GDShowRewardedAd()},e.prototype.onClickHidePopup=function(){this.node.active=!1},e.prototype.onDisable=function(){this.cbAffterHide&&this.cbAffterHide()},a([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../GameData":"GameData","../base/GameDistribution":"GameDistribution","../base/audio/AudioManager":"AudioManager"}],StreakPoint:[function(t,e,o){"use strict";cc._RF.push(e,"d6afd0ZWRNN45bsRT8jjKpK","StreakPoint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateIdLb=null,e.stateSpr=null,e.containerGift=null,e.giftCoin=null,e.txtCoin=null,e.iconCoinSpr=null,e.giftBox=null,e.bgGift=null,e.stateNode=null,e.streakWinPopup=null,e.stateActive=!1,e.dataPoint=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initView=function(t,e,o){this.dataPoint=t,this.streakWinPopup=e,this.updateView(o),this.setupDataToPopupRoot()},e.prototype.setupDataToPopupRoot=function(){if(this.dataPoint.isEmpty)if(this.dataPoint.isEmpty.skin&&"function"==typeof this.dataPoint.isEmpty.skin){var t={coin:0,skinTrial:null,skin:null};t.coin=this.dataPoint.isEmpty.coin,t.skinTrial=null,t.skin=this.dataPoint.isEmpty.skin(),this.streakWinPopup.arrReward.pop(),this.streakWinPopup.arrReward.push(t)}else this.streakWinPopup.arrReward.push(this.dataPoint.isEmpty)},e.prototype.updateView=function(){this.stateIdLb.string=this.dataPoint.sateId.toString(),this.dataPoint.leftOrRight&&(this.containerGift.scaleX=this.dataPoint.leftOrRight,this.txtCoin.node.scaleX=this.dataPoint.leftOrRight),this.dataPoint.isEmpty?!this.dataPoint.isEmpty.coin||this.dataPoint.isEmpty.skinTrial||this.dataPoint.isEmpty.skin?(this.dataPoint.isEmpty.skinTrial||this.dataPoint.isEmpty.skin)&&(this.giftCoin.active=!1,this.giftBox.active=!0):(this.giftCoin.active=!0,this.giftBox.active=!1):(this.giftBox.active=!1,this.giftCoin.active=!1,this.stateNode.active=!1),this.dataPoint.sateId<r.GameData.currentStreakId+1?(this.setGraySprite(this.stateSpr,!0),this.iconCoinSpr&&this.setGraySprite(this.iconCoinSpr,!0)):(this.setGraySprite(this.stateSpr,!1),this.setGraySprite(this.bgGift,!1),this.iconCoinSpr&&this.setGraySprite(this.iconCoinSpr,!1)),this.activeStateNode(!1),this.updateDataView()},e.prototype.updateDataView=function(){this.dataPoint.isEmpty&&(this.dataPoint.isEmpty.coin?this.txtCoin.string=""+this.dataPoint.isEmpty.coin:this.dataPoint.isEmpty.skinTrial||this.dataPoint.isEmpty.skin)},e.prototype.activeStateNode=function(t){this.dataPoint.isEmpty&&(this.stateNode.active=t)},e.prototype.setActivePoint=function(t){this.stateActive=t},e.prototype.activeSprite=function(t){this.dataPoint.sateId==t+1&&(this.fxActiveSpritePoint(this.stateSpr.node),this.setGraySprite(this.stateSpr,!0),this.setGraySprite(this.bgGift,!0),this.iconCoinSpr&&this.setGraySprite(this.iconCoinSpr,!0))},e.prototype.fxActiveSpritePoint=function(t){var e=t.scale;cc.tween(t).to(.05,{scale:1.3*e}).to(.05,{scale:t.scale}).start()},e.prototype.setGraySprite=function(t,e){e?t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")):t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},a([l(cc.Label)],e.prototype,"stateIdLb",void 0),a([l(cc.Sprite)],e.prototype,"stateSpr",void 0),a([l(cc.Node)],e.prototype,"containerGift",void 0),a([l(cc.Node)],e.prototype,"giftCoin",void 0),a([l(cc.Label)],e.prototype,"txtCoin",void 0),a([l(cc.Sprite)],e.prototype,"iconCoinSpr",void 0),a([l(cc.Node)],e.prototype,"giftBox",void 0),a([l(cc.Sprite)],e.prototype,"bgGift",void 0),a([l(cc.Node)],e.prototype,"stateNode",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData"}],StreakWinPopup:[function(t,e,o){"use strict";cc._RF.push(e,"d1181ihw5hDWoGdolYRBtw2","StreakWinPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../base/utils/MathUtil"),s=t("../config/SkinConfig"),c=t("../GameData"),l=t("../MainScene"),u=t("./RewardStreakPopup"),p=t("./StreakData"),d=t("./StreakPoint"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrStreakNode=[],e.streakCountNumLb=null,e.processBarSpr=null,e.rewardPopup=null,e.streakData=null,e.pointReward=[5,10,15],e.processRange=[0,.25,.5,.75,1],e.currentStreakId=0,e.phaseStreak=0,e.arrReward=[],e.cbAffterHide=null,e.oldPoint=0,e}return i(e,t),e.prototype.onLoad=function(){this.streakData=p.default.arrayStreakPoint,c.GameData.saveStreakId(),this.currentStreakId=c.GameData.currentStreakId,this.streakCountNumLb.string=""+this.currentStreakId,this.phaseStreak=this.getPhaseStreak(),this.setupStreakPoint()},e.prototype.onEnable=function(){this.onProcessbar()},e.prototype.getPhaseStreak=function(){switch(Math.floor(this.currentStreakId/5)){case-1:case 0:return 0;case 1:return 5;case 2:return 10}this.phaseStreak=Math.floor(this.currentStreakId/5)},e.prototype.setupStreakPoint=function(){for(var t=0;t<this.arrStreakNode.length;t++){var e=this.arrStreakNode[t];t==this.arrStreakNode.length-1?e.initView(this.streakData[this.phaseStreak+t],this,this.initViewSucess.bind(this)):e.initView(this.streakData[this.phaseStreak+t],this)}},e.prototype.onProcessbar=function(){var t=this,e=this.currentStreakId-this.phaseStreak;0!=this.currentStreakId&&this.currentStreakId>0&&0!=e&&(this.oldPoint=e-1),-1!=this.pointReward.indexOf(this.currentStreakId+1)&&this.currentStreakId>0&&this.getRewardGift(this.arrReward),this.onProcess(this.processRange[this.oldPoint],this.processRange[e],.8,function(){t.arrStreakNode[e].activeSprite(t.currentStreakId),t.streakCountNumLb.string=""+(t.currentStreakId+1),t.processSucess()})},e.prototype.initViewSucess=function(){},e.prototype.onProcess=function(t,e,o,n){var i=this,a=function(t,e,o,n){o=t+(e-t)*n,o=r.default.formatNumberWithNDecimals(o,2),i.processBarSpr.fillRange=o}.bind(this);cc.tween({a:t}).to(o,{a:e},{progress:a}).call(function(){n&&n()}).start()},e.prototype.processSucess=function(){if(-1!=this.pointReward.indexOf(this.currentStreakId+1)&&this.currentStreakId>0){var t=cc.instantiate(this.rewardPopup);t.parent=this.node,t.zIndex=1,t.getComponent(u.default).initPopup(this.arrReward,this.cbHideRewardPopup.bind(this))}},e.prototype.showRewardPopup=function(){},e.prototype.getRewardGift=function(t){console.log(t),t.forEach(function(t){if(!t.coin||t.skinTrial||t.skin){if(t.skinTrial){var e={skinTrialInfo:t.skinTrial,currentTime:t.skinTrial.timeTrial};c.GameData.saveSkinTrialCounting(e,function(){c.GameData.setCurrentPin(t.skinTrial.skinId,null),l.default.instance.skinTrialTimerManager.updateSkinTrial(c.GameData.skinsTrialCounting)})}else if(t.skin&&"function"!=typeof t.skin){var o={array:s.SkinConfig.getArrSkinsIdOnwed(t.skin.extendInfo.whoseSkin,t.skin.extendInfo.skin_type),key:s.SkinConfig.getKEYData(t.skin.extendInfo.whoseSkin,t.skin.extendInfo.skin_type)};c.GameData.saveEnableStreakPopup({enable:!1,currentTime:(new Date).getTime()}),c.GameData.addSkinBoss(o,t.skin.skinId,function(e){e||"function"==typeof t.skin||c.GameData.setCurrentSkinByType(t.skin.skinName,t.skin.extendInfo.whoseSkin,t.skin.extendInfo.skin_type)})}}else c.GameData.addCoin(t.coin)})},e.prototype.cbHideRewardPopup=function(){for(var t=0;t<this.arrStreakNode.length;t++){var e=this.arrStreakNode[t];e.setActivePoint(!0),e.activeStateNode(!0)}},e.prototype.setCbAffterHide=function(t){this.cbAffterHide=t},e.prototype.onClickHidePopup=function(){this.node.active=!1},e.prototype.onDisable=function(){this.cbAffterHide&&this.cbAffterHide()},a([g([d.default])],e.prototype,"arrStreakNode",void 0),a([g(cc.Label)],e.prototype,"streakCountNumLb",void 0),a([g(cc.Sprite)],e.prototype,"processBarSpr",void 0),a([g(cc.Prefab)],e.prototype,"rewardPopup",void 0),a([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/utils/MathUtil":"MathUtil","../config/SkinConfig":"SkinConfig","./RewardStreakPopup":"RewardStreakPopup","./StreakData":"StreakData","./StreakPoint":"StreakPoint"}],StringUtil:[function(t,e,o){"use strict";cc._RF.push(e,"bfe30UxyK5LBZkfVpU92f7E","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var n=function(){function t(){}return t.toKMBString=function(t){var e="";return t<0&&(e+="-",t=-t),t>=this.ONE_BILLION?e+=Math.floor(100*t/this.ONE_BILLION)/100+"B":t>=this.ONE_MILLION?e+=Math.floor(100*t/this.ONE_MILLION)/100+"M":t>=this.ONE_THOUSAND?e+=Math.floor(100*t/this.ONE_THOUSAND)/100+"K":e+=t,e},t.preprocessingMoney=function(e){e=parseInt(e+"");var o=Math.abs(e)+"",n=t.preprocessingString(o);return e<0&&(n="-"+n),n},t.preprocessingString=function(t){if(t.length<4)return t+"";for(var e="",o=1,n=0;n<t.length;n++)e=t[t.length-1-n]+e,o%3==0&&o!==t.length&&(e=","+e),o++;return e},t.preprocessingMoneyWithK=function(t){return t<1e3?t+"":t>=1e6?this.preprocessingMoney(t/1e3)+"K":t/1e3+"K"},t.toMoneyResultString=function(t){var e="";return t>0?e+="+":t<0&&(e+="-",t=-t),t>=this.ONE_BILLION?e+=Math.floor(100*t/this.ONE_BILLION)/100+"B":t>=this.ONE_MILLION?e+=Math.floor(100*t/this.ONE_MILLION)/100+"M":t>=this.ONE_THOUSAND?e+=Math.floor(100*t/this.ONE_THOUSAND)/100+"K":e+=t,e},t.processTimeNumber=function(t){var e=Math.abs(t)+"";return e.length<=1?"0"+e:e},t.preprocessSignMoney=function(t){return t>0?"+"+this.preprocessingMoney(t):this.preprocessingMoney(t)},t.getDateOnly=function(t){return isNaN(Date.parse(t))?t:t.split(" ")[0]},t.parseNumberSecondToClock=function(t){if(t<=0)return"00:00:00";var e=Math.floor(t/3600);t%=3600;var o=Math.floor(t/60),n=t%60;return(e<10?"0"+e:""+e)+":"+(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},t.ONE_BILLION=1e9,t.ONE_MILLION=1e6,t.ONE_THOUSAND=1e3,t}();o.StringUtil=n,cc._RF.pop()},{}],SyncPosition:[function(t,e,o){"use strict";cc._RF.push(e,"f0435y+xBdLnpaHLkuNgKgG","SyncPosition");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.yAxis=!1,e.instance=e,e}return i(e,t),e.prototype.preException=function(){},e.prototype.update=function(){this.sync()},e.prototype.sync=function(){if(this.target)if(this.yAxis){var t=this.target.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(cc.v3(0,t.y,0)))}else t=this.target.convertToWorldSpaceAR(cc.Vec3.ZERO),this.node.setPosition(this.node.parent.convertToNodeSpaceAR(t))},a([c({type:cc.Node})],e.prototype,"target",void 0),a([c()],e.prototype,"yAxis",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TagObject:[function(t,e,o){"use strict";cc._RF.push(e,"2f711BbpIFCeLUhgrTNsc6d","TagObject");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.TagConfig=void 0;var r,s=cc._decorator,c=s.ccclass,l=s.property;(function(t){t[t.NONE=0]="NONE",t[t.BOSS=1]="BOSS",t[t.BOSS_STICK=2]="BOSS_STICK",t[t.GIRL=3]="GIRL",t[t.GIRL_WONDER=4]="GIRL_WONDER",t[t.BOSS_SUPER=5]="BOSS_SUPER",t[t.SANTA=6]="SANTA",t[t.GIRL_STICK=7]="GIRL_STICK",t[t.HUSBAND=8]="HUSBAND",t[t.GEMS=99]="GEMS",t[t.LAVA=100]="LAVA",t[t.WATER=101]="WATER",t[t.SNOW=102]="SNOW",t[t.ROCK=103]="ROCK",t[t.BIG_ROCK=104]="BIG_ROCK",t[t.ICE=105]="ICE",t[t.GAS=106]="GAS",t[t.BOMB=107]="BOMB",t[t.SAW=108]="SAW",t[t.POW=109]="POW",t[t.TRAP=110]="TRAP",t[t.FIRE_BALL=112]="FIRE_BALL",t[t.HOLY_WATER=113]="HOLY_WATER",t[t.LAZE=114]="LAZE",t[t.SMOKE=115]="SMOKE",t[t.CHARCOAL=116]="CHARCOAL",t[t.CANDY=117]="CANDY",t[t.COIN=118]="COIN",t[t.WALLBREAK=119]="WALLBREAK",t[t.ITEM_SEARCH=120]="ITEM_SEARCH",t[t.HEATER=121]="HEATER",t[t.COAL=122]="COAL",t[t.NAIL=123]="NAIL",t[t.ROSE=124]="ROSE",t[t.ROSE_ACTIVE=125]="ROSE_ACTIVE",t[t.DIRTY=126]="DIRTY",t[t.KEY=150]="KEY",t[t.MONEY_BAG=151]="MONEY_BAG",t[t.MILK=152]="MILK",t[t.BREAD=153]="BREAD",t[t.SCAFT=154]="SCAFT",t[t.GLOVES=155]="GLOVES",t[t.HAT=156]="HAT",t[t.SHIRT=157]="SHIRT",t[t.SHOE=158]="SHOE",t[t.LIFEBOUY=159]="LIFEBOUY",t[t.TI=160]="TI",t[t.HEAD_SNOW=161]="HEAD_SNOW",t[t.GIFT_BOX=162]="GIFT_BOX",t[t.PUZZLE=163]="PUZZLE",t[t.RING=167]="RING",t[t.TEDDY=168]="TEDDY",t[t.BIG_SPIDER=200]="BIG_SPIDER",t[t.THEIF_THIN=201]="THEIF_THIN",t[t.THEIF_FAT=202]="THEIF_FAT",t[t.RAT=203]="RAT",t[t.DOG=204]="DOG",t[t.WEB_SPIDER=205]="WEB_SPIDER",t[t.KRAMPUS=206]="KRAMPUS",t[t.SPIDER=207]="SPIDER",t[t.CHEST=299]="CHEST",t[t.ITEM=300]="ITEM",t[t.STICK=301]="STICK",t[t.MEAT=302]="MEAT",t[t.REDIRECT_LEFT=303]="REDIRECT_LEFT",t[t.REDIRECT_RIGHT=304]="REDIRECT_RIGHT",t[t.REDIRECT_STOP=305]="REDIRECT_STOP",t[t.HIT=1e3]="HIT",t[t.GROUND=2e3]="GROUND"})(r=o.TagConfig||(o.TagConfig={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag=r.NONE,e.tag2=r.NONE,e}return i(e,t),e.prototype.onLoad=function(){this.node.name=""+this.tag},e.prototype.setTag=function(t){this.tag=t,this.node.name=""+this.tag},e.prototype.setTag2=function(t){this.tag2=t},a([l({type:cc.Enum(r)})],e.prototype,"tag",void 0),a([l({type:cc.Enum(r)})],e.prototype,"tag2",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Task:[function(t,e,o){"use strict";cc._RF.push(e,"48773qwl0FBG4Q1DVTbXLY/","Task"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskManager=o.Task=void 0;var n=function(){function t(t){this._callback=t}return t.prototype.completed=function(){this._completeCallback&&this._completeCallback()},t}();o.Task=n;var i=function(){function t(){this.tasks=[]}return t.prototype.addTask=function(t){this.tasks.push(t)},t.prototype.run=function(t,e){var o=this;if(0!==this.tasks.length){var n=this.tasks.length;t(0,n);for(var i=function(e){a.tasks[e]._completeCallback=function(){t(e+1,n),o.tasks[e+1]._callback()}},a=this,r=0;r<n-1;r++)i(r);this.tasks[n-1]._completeCallback=function(){t(n,n),e()},this.tasks[0]._callback()}else e()},t}();o.TaskManager=i,cc._RF.pop()},{}],TestPhysics:[function(t,e,o){"use strict";cc._RF.push(e,"7047dYKXU1Dt6HAam9U89Vs","TestPhysics");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClick=function(){cc.tween(this.node).by(.1,{position:new cc.Vec3(700,0,0)}).start()},a([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],TestSkeleton:[function(t,e,o){"use strict";cc._RF.push(e,"e04b2/qKM9HOLZ/xuDYNMPc","TestSkeleton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e}return i(e,t),e.prototype.changeSkin=function(){this.skeleton.setSkin("Boss0/Stick"),this.skeleton.setSlotsToSetupPose(),this.skeleton.setAnimation(0,"Idle",!0)},e.prototype.onEnable=function(){cc.log("TestSkeleton")},a([c(sp.Skeleton)],e.prototype,"skeleton",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TheifOther:[function(t,e,o){"use strict";cc._RF.push(e,"7c26bwM1tJNYLoQxhzjj3d3","TheifOther");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../MainScene"),s=t("../../../config/AudioPlayId"),c=t("../../../config/GameState"),l=t("../../../config/GlobalSignals"),u=t("../../../config/GroupConfig"),p=t("../../../config/TagObject"),d=t("../../../level/MapLevel"),f=t("../Character"),h=t("../Enemies/Enemies"),g=cc._decorator,y=g.ccclass,_=g.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animIdle2="idle2",e.animLose="Lose",e.animWin1="Win",e.animWin2="Win2",e.animGetcoin="GetCoin",e.isFat=!1,e.isThin=!1,e.soundIdle=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this)},e.prototype.start=function(){t.prototype.start.call(this),this.onSoundIdle()},e.prototype.onEnable=function(){this._onCollectGems=this.onCollectGems.bind(this),this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),l.GlobalSignals.questFailSignal.add(this._onQuestFail),l.GlobalSignals.questPassSignal.add(this._onQuestPass),l.GlobalSignals.enemiesCollectGemsSignal.add(this._onCollectGems)},e.prototype.onDisable=function(){l.GlobalSignals.enemiesCollectGemsSignal.remove(this._onCollectGems),l.GlobalSignals.questPassSignal.remove(this._onQuestPass),l.GlobalSignals.questFailSignal.remove(this._onQuestFail),o._instance=null},e.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.animGetcoin);var t=this.skeleton.findAnimation(this.animGetcoin).duration;this.scheduleOnce(function(){d.default.instance.gameState!=c.GameState.WIN&&l.GlobalSignals.questFailSignal.dispatch()},t)},e.prototype.onSoundIdle=function(){this.isFat&&(this.soundIdle=r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_fat_idle)),this.isThin&&(this.soundIdle=r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_thin_idle))},e.prototype.offSoundIdle=function(){r.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onSoundWin=function(){this.isFat&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_fat_angry),this.isThin&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_thin_angry)},e.prototype.onSoundLose=function(){this.isFat&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_fat_laugh),this.isThin&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_thin_laugh)},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.animWin1).addAnimation(this.animWin2,!0),this.offSoundIdle(),this.onSoundLose())},e.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.animLose,!0),this.offSoundIdle(),this.onSoundWin())},e.prototype.onHeadCollider=function(t){if(t.node.group===u.GroupConfig.COLLIDER){if(t.node.name==p.TagConfig.BOMB)return void this.onDieFire();(t.node.name==p.TagConfig.GAS||t.node.name==p.TagConfig.BOMB||t.node.name==p.TagConfig.HIT&&t.node!=this.hit||t.node.name==p.TagConfig.BIG_ROCK)&&this.onDieNormal()}},e.prototype.playAttack=function(t){var e=this;if(this._isAttack){var o=t.getComponent(f.default);if(o&&!o.isAlive)return}this._isAttack=!0,this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.onSoundAttack(),this.scheduleOnce(function(){e.hit.active=!0},.25),this.skeleton.setCompleteListener(function(){e.isAlive&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleAnim,!0),e.hit.active=!1,e._isAttack=!1,e.stopMove(),e.searchCollider.refreshPingToTarget())})},e.prototype.walkToTarget=function(t){this.moveToTarget(t,this.walkAnim)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this),r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_die_bomb)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this),r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_die_bomb)},e.prototype.onBodyCollider=function(e,o){e.node.group===u.GroupConfig.GEMS&&d.default.instance.countGemsCollectedByTheif++,t.prototype.onBodyCollider.call(this,e,o)},e._instance=null,a([_(cc.String)],e.prototype,"animIdle2",void 0),a([_(cc.String)],e.prototype,"animLose",void 0),a([_(cc.String)],e.prototype,"animWin1",void 0),a([_(cc.String)],e.prototype,"animWin2",void 0),a([_(cc.String)],e.prototype,"animGetcoin",void 0),a([_({visible:function(){return!this.isThin}})],e.prototype,"isFat",void 0),a([_({visible:function(){return!this.isFat}})],e.prototype,"isThin",void 0),o=a([y],e)}(h.default);o.default=v,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Character":"Character","../Enemies/Enemies":"Enemies"}],Theif:[function(t,e,o){"use strict";cc._RF.push(e,"274b2uYUAdFQbgHTgcpKU4e","Theif");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../MainScene"),s=t("../../../config/AudioPlayId"),c=t("../../../config/GlobalSignals"),l=t("../../../config/GroupConfig"),u=t("../../../config/TagObject"),p=t("../../../skin/SlotsSpineDuplicate"),d=t("../../homePin2/Libbey"),f=t("../Character"),h=cc._decorator,g=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animIdle2="idle2",e.animLose="Lose",e.animWin1="Win",e.animWin2="Win2",e.animGetcoin="GetCoin",e.isFat=!1,e.isThin=!1,e.soundIdle=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),o._instance=this},e.prototype.start=function(){this.onSoundIdle()},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),c.GlobalSignals.questFailSignal.add(this._onQuestFail),c.GlobalSignals.questPassSignal.add(this._onQuestPass)},e.prototype.onDisable=function(){c.GlobalSignals.questPassSignal.remove(this._onQuestPass),c.GlobalSignals.questFailSignal.remove(this._onQuestFail),o._instance=null},e.prototype.onSoundIdle=function(){this.isFat&&(this.soundIdle=r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_fat_idle)),this.isThin&&(this.soundIdle=r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_thin_idle))},e.prototype.offSoundIdle=function(){r.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onSoundWin=function(){this.isFat&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_fat_angry),this.isThin&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_thin_angry)},e.prototype.onSoundLose=function(){this.isFat&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_fat_laugh),this.isThin&&r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_thin_laugh)},e.prototype.onQuestFail=function(){var t;this.stopMove(),d.default.instance&&d.default.instance.isTheif&&d.default.instance.setActive(!1),null===(t=this.node.getComponent(p.default))||void 0===t||t.removeSpineClone(),this.isAlive&&(this.playAnimation(this.animWin1).addAnimation(this.animWin2,!0),this.offSoundIdle(),this.onSoundLose())},e.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.animLose,!0),this.offSoundIdle(),this.onSoundWin())},e.prototype.onHeadCollider=function(t){if(t.node.group===l.GroupConfig.COLLIDER){if(t.node.name==u.TagConfig.BOMB){var e=this.node.getComponent(p.default);return["Body","HandL","HandL2","HandL3","LegL1","LegL2","LegL","LegR","LegR2","LegR1","Hip"].forEach(function(t){e.changeColorOpacityAttachment(""+t)}),void this.onDieFire()}(t.node.name==u.TagConfig.GAS||t.node.name==u.TagConfig.BOMB||t.node.name==u.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}},e.prototype.onDieNormal=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_die_bomb)},e.prototype.onDieFire=function(){this.stopMove(),this.playAnimation(this.dieFireAnim,!0),this.isAlive=!1,r.default.instance.audioPlayer.playAudio(s.AudioPlayId.theif_die_bomb)},e.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1},e._instance=null,a([y(cc.String)],e.prototype,"animIdle2",void 0),a([y(cc.String)],e.prototype,"animLose",void 0),a([y(cc.String)],e.prototype,"animWin1",void 0),a([y(cc.String)],e.prototype,"animWin2",void 0),a([y(cc.String)],e.prototype,"animGetcoin",void 0),a([y({visible:function(){return!this.isThin}})],e.prototype,"isFat",void 0),a([y({visible:function(){return!this.isFat}})],e.prototype,"isThin",void 0),o=a([g],e)}(f.default);o.default=_,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../skin/SlotsSpineDuplicate":"SlotsSpineDuplicate","../../homePin2/Libbey":"Libbey","../Character":"Character"}],ToastReward:[function(t,e,o){"use strict";cc._RF.push(e,"e3b8cf5NOVAqZVszbj4A2Y4","ToastReward");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.easeBackOut,s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.show=function(t,e){var o=this;t<0?cc.warn("Reward = "+t):(this.label.string="+"+t,this.node.active=!0,this.node.opacity=0,this.node.scale=.4,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{opacity:255,scale:1},r()).delay(e).call(function(){o.hide()}).start())},e.prototype.hide=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.1,{opacity:0}).call(function(){t.node.active=!1}).start()},a([l(cc.Label)],e.prototype,"label",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ToggleSliderGroup:[function(t,e,o){"use strict";cc._RF.push(e,"4e0b2j91yNIqqpERehDI5ZE","ToggleSliderGroup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ToggleSlider"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleOn=null,e.toggleOff=null,e.isOn=!0,e.onClickCallback=null,e}return i(e,t),e.prototype.toggle=function(){this.setToggleState(!this.isOn)},e.prototype.setToggleState=function(t,e){void 0===e&&(e=!0),this.isOn=t,this.toggleOn.setToggleState(t,e),this.toggleOff.setToggleState(!t,e),this.onClickCallback&&this.onClickCallback(t)},e.prototype.setOnClickCallback=function(t){this.onClickCallback=t},a([l(r.default)],e.prototype,"toggleOn",void 0),a([l(r.default)],e.prototype,"toggleOff",void 0),a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./ToggleSlider":"ToggleSlider"}],ToggleSlider:[function(t,e,o){"use strict";cc._RF.push(e,"3df517scY9F7pmGd1WW8uMz","ToggleSlider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.dotSlider=null,e.p1=new cc.Vec3,e.p2=new cc.Vec3,e.isOn=!1,e}return i(e,t),e.prototype.onLoad=function(){this.p1.x=-this.dotSlider.position.x,this.p1.y=this.dotSlider.position.y,this.p2.x=this.dotSlider.position.x,this.p2.y=this.dotSlider.position.y},e.prototype.toggle=function(){this.setToggleState(!this.isOn)},e.prototype.setToggleState=function(t,e){void 0===e&&(e=!0),this.isOn=t,t?(this.node.active=!0,e?(this.dotSlider.position=this.p1,cc.tween(this.dotSlider).to(.2,{position:this.p2}).start()):this.dotSlider.position=this.p2):this.node.active=!1},a([c(cc.Label)],e.prototype,"label",void 0),a([c(cc.Node)],e.prototype,"dotSlider",void 0),a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Toilet:[function(t,e,o){"use strict";cc._RF.push(e,"1d02fXRCiNClqlFG+axfhEu","Toilet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/TagObject"),s=t("../../config/GlobalSignals"),c=t("../character/Daughter/DaughterOther"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t,e){if(t.node.name==r.TagConfig.GIRL){var o=t.node.parent.parent.getComponent(c.default);o.stopMove(),o.rotateFaceToTarget(e.node),s.GlobalSignals.questPassSignal.dispatch()}},a([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject","../character/Daughter/DaughterOther":"DaughterOther"}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"dc0adXk/RtCCZVCopuiIlm/","TouchManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../level/MapLevel"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchCollision=null,e.moving=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onDestroy=function(){o._instance=null},e.prototype.onEnable=function(){this.enableTouch()},e.prototype.onDisable=function(){this.disableTouch()},e.prototype.onMouseDown=function(t){r.default.instance&&r.default.instance.isPlaying?(this.moving=!0,this.touchCollision.active=!0,this.touchCollision.position=this.node.convertToNodeSpaceAR(t.getLocation())):this.reset()},e.prototype.onMouseMove=function(t){this.moving&&(this.touchCollision.position=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onMouseUp=function(){this.reset()},e.prototype.reset=function(){this.moving=!1,this.touchCollision.active=!1},e.prototype.disableTouch=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.off(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},e.prototype.enableTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},e._instance=null,a([l(cc.Node)],e.prototype,"touchCollision",void 0),o=a([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../level/MapLevel":"MapLevel"}],UIController:[function(t,e,o){"use strict";cc._RF.push(e,"f3b9aq19AtO4qv/6GznHKk3","UIController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UINode=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.onUINode()},e.prototype.offUINode=function(){var t=this;this.UINode.forEach(function(e){e&&t.fadeOutEffect(e,function(){e.active=!1})})},e.prototype.onUINode=function(){this.UINode&&this.UINode.forEach(function(t){t&&(t.active=!0)})},e.prototype.fadeOutEffect=function(t,e){cc.tween(t).to(.1,{opacity:0}).call(function(){e&&e()}).start()},e._instance=null,a([c([cc.Node])],e.prototype,"UINode",void 0),o=a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],UnlockNewSkin:[function(t,e,o){"use strict";cc._RF.push(e,"9e318yOQZpNIpCG6h58Wu6r","UnlockNewSkin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../MainScene"),c=t("../ResUtil"),l=t("../base/GameDistribution"),u=t("../base/LanguageController"),p=t("../base/audio/AudioManager"),d=t("../base/utils/MathUtil"),f=t("../config/AudioPlayId"),h=t("../config/GameConfig"),g=t("../config/GlobalSignals"),y=t("../config/SkinConfig"),_=cc._decorator,v=_.ccclass,m=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.lbTitle=null,e.coinNode=null,e.infoSkin=null,e.arrSkin=[],e.eventAfterOpen=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;s.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_change),this.arrSkin=y.SkinConfig.getPinsSkinUnowned(),this.arrSkin.length?(this.lbTitle.string=u.default.getText("new_skin"),this.asset.node.active=!0,this.getRandomSkin(),c.ResUtil.getSprInSprAlats("HomePin2/PopupSkin/Skin/Pin/PinList",this.infoSkin.skinId).then(function(e){t.asset.spriteFrame=e}),this.eventAfterOpen&&this.scheduleOnce(function(){t.eventAfterOpen()},.4),window.setFuncClaimSkin=function(){var t=this;r.GameData.setCurrentPin(this.infoSkin.skinId,null),r.GameData.addPinSkin({key:r.GameData.KEY_PIN_SKINS,array:r.GameData.myPinSkins},this.infoSkin.skinId,function(e){e||(t.node.active=!1)})}.bind(this)):(this.lbTitle.string=u.default.getText("get_coin"),this.coinNode.active=!0,this.asset.node.active=!1,this.eventAfterOpen&&this.scheduleOnce(function(){t.eventAfterOpen()},.4),window.setFuncClaimSkin=function(){this.node.active=!1,r.GameData.addCoin(h.GameConfig.coin_gift_skin),g.GlobalSignals.coinCurrentUpdateSignal.dispatch()}.bind(this))},e.prototype.start=function(){},e.prototype.getRandomSkin=function(){var t;do{t=d.default.randomInt(this.arrSkin.length),this.infoSkin=this.arrSkin[t]}while(!this.infoSkin)},e.prototype.setActive=function(t){this.node.active=t},e.prototype.getCoin=function(){},e.prototype.clickNoAds=function(){this.setActive(!1)},e.prototype.clickClaimAds=function(){l.default.instance.rewardType="watchRandomSkin",l.default.instance.effectSoundState=p.default.EffectEnable,l.default.instance.musicSoundState=p.default.MusicEnable,l.default.instance.GDShowRewardedAd()},e.prototype.show=function(){this.node.active=!0},e.prototype.setEventAffterOpen=function(t){this.eventAfterOpen=t},e.prototype.onDisable=function(){},a([m(cc.Sprite)],e.prototype,"asset",void 0),a([m(cc.Label)],e.prototype,"lbTitle",void 0),a([m(cc.Node)],e.prototype,"coinNode",void 0),a([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../ResUtil":"ResUtil","../base/GameDistribution":"GameDistribution","../base/LanguageController":"LanguageController","../base/audio/AudioManager":"AudioManager","../base/utils/MathUtil":"MathUtil","../config/AudioPlayId":"AudioPlayId","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig"}],Utf8:[function(t,e,o){"use strict";cc._RF.push(e,"3334eM32qZDoa95PQXWOPUh","Utf8"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8=void 0;var n=t("./Latin1"),i=function(){function t(){}return t.stringify=function(t){try{return decodeURIComponent(escape(n.Latin1.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},t.parse=function(t){return n.Latin1.parse(unescape(encodeURIComponent(t)))},t}();o.Utf8=i,cc._RF.pop()},{"./Latin1":"Latin1"}],WallBreak:[function(t,e,o){"use strict";cc._RF.push(e,"168f6nACllB+ZR9a7SRaEXR","WallBreak");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/TagObject"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bumPrefab=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){t.node.group!==r.GroupConfig.COLLIDER||t.node.name==s.TagConfig.BOMB&&(this.node.active=!1)},e.prototype.showBum=function(){cc.instantiate(this.bumPrefab)},a([u(cc.Prefab)],e.prototype,"bumPrefab",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject"}],WaterGO:[function(t,e,o){"use strict";cc._RF.push(e,"e8ed1MjmJVIJ6/Y/dlAHXfS","WaterGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/TagObject"),c=t("../../config/AudioPlayId"),l=t("../../level/MapLevel"),u=t("../../MainScene"),p=t("../../config/PhysicsConfig"),d=t("../homePin2/ContainType"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.rockPrefab=null,e.icePrefab=null,e.dirtyPrefab=null,e.charcoalPrefab=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){p.PhysicsConfig.initPhysicConfig(this.node,"water")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.transformToRock=function(t){var e=l.default.instance.rockContainer,n=cc.instantiate(t);if(n.setSiblingIndex(this.node.getSiblingIndex()),n.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),n.parent=e,this.node.destroy(),l.default.instance.container)switch(l.default.instance.container.containType){case d.ContainType.SINK:break;case d.ContainType.STOVE:l.default.instance.countWaterDestroyed++;break;case d.ContainType.SHOWER:case d.ContainType.CHIMNEY:break;default:l.default.instance.countWaterDestroyed++}!o.isTransform&&l.default.instance.isPlaying&&(o.isTransform=!0)},e.prototype.onCollisionEnter=function(t){var e=this;if(this.available){if(t.node.group===r.GroupConfig.BERRIE)return o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&(u.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)));if(t.node.group!==r.GroupConfig.COLLIDER){var n=null;switch(t.node.group){case r.GroupConfig.ROCK:t.node.name==s.TagConfig.ROCK?n=this.rockPrefab:t.node.name==s.TagConfig.ICE?n=this.icePrefab:t.node.name==s.TagConfig.CHARCOAL&&(n=this.charcoalPrefab);break;case r.GroupConfig.LAVA:n=this.charcoalPrefab;break;case r.GroupConfig.SNOW:this.node.destroy();break;case r.GroupConfig.DIRTY:n=this.dirtyPrefab}n&&(this.available=!1,this.scheduleOnce(function(){e.transformToRock(n)},.2))}else if(t.node.name==s.TagConfig.BOMB){var i=t.node.getComponent(s.default).tag2;if(i==s.TagConfig.GROUND){var a=cc.v2(this.node.position.x,this.node.position.y);return a=cc.v2(1e5*a.x,1e5*a.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(a,!0)}if(i==s.TagConfig.NONE)return l.default.instance.countWaterDestroyed++,void(this.node.active=!1)}}},e.isTransform=!1,e.colliderBarrieCount=0,a([g(cc.Node)],e.prototype,"border",void 0),a([g(cc.Node)],e.prototype,"drop",void 0),a([g(cc.Prefab)],e.prototype,"rockPrefab",void 0),a([g(cc.Prefab)],e.prototype,"icePrefab",void 0),a([g(cc.Prefab)],e.prototype,"dirtyPrefab",void 0),a([g(cc.Prefab)],e.prototype,"charcoalPrefab",void 0),o=a([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../homePin2/ContainType":"ContainType"}],WebSpider:[function(t,e,o){"use strict";cc._RF.push(e,"8687eWSWTJDrrZ/RIAFh1eo","WebSpider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/GroupConfig"),s=t("../../config/TagObject"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fxWebSpiderDestroy=null,e}return i(e,t),e.prototype.onCollisonEnter=function(t){if(t.node.name==s.TagConfig.HIT&&t.node.group==r.GroupConfig.COLLIDER){var e=cc.instantiate(this.fxWebSpiderDestroy);e.parent=this.node.parent,e.position=this.node.position,this.scheduleOnce(function(){e.destroy()},.5),this.node.active=!1}},a([u(cc.Prefab)],e.prototype,"fxWebSpiderDestroy",void 0),a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject"}],WinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"49d10hGJHpIfIQtdvk9YuUz","WinPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../GameData"),s=t("../objects/character/Mom/Mom"),c=t("../config/GameConfig"),l=cc.easeOut,u=t("./BgWinPanel"),p=t("./MapLevel"),d=t("../config/GameState"),f=t("../objects/character/Theif/Theif"),h=t("../ui/FlyingCoins"),g=t("./UIController"),y=t("../base/SetLabelLanguage"),_=t("../base/audio/AudioManager"),v=t("../base/GameDistribution"),m=t("../base/CameraManager"),S=t("../objects/character/Couple/Couple"),b=t("../objects/character/Mom/MomOther"),C=t("../objects/character/Daughter/DaughterOther"),k=t("../Gift/GiftProcess"),P=t("../objects/character/SantaClaus/SantaClaus"),O=t("../objects/character/Daughter/Daughter"),A=t("../PlayScreen"),R=t("../objects/character/Husband/Husband"),D=cc._decorator,I=D.ccclass,T=D.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.changeCoinLabel=null,e.cameraScale=1.3,e.winNode=null,e.loseNode=null,e.iconCoin=null,e.coinFlyPrefab=null,e.targetPos=null,e.btnNextLevel=null,e.btnReplay=null,e.giftProcess=null,e.coinFlyNode=null,e.cb_after_zoom_camera=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.node.scale=2,this.levelLabel.string=y.ChangeLanguage.getText("level")+(r.GameData.currentLevelId+1);var e=null,o=null;s.default.instance&&null!=s.default.instance.cam_focus?o=s.default.instance:b.default.instance&&null!=b.default.instance.cam_focus?o=b.default.instance:P.default.instance&&null!=P.default.instance.cam_focus?o=P.default.instance:C.default.instanceD&&null!=C.default.instanceD.cam_focus?o=C.default.instanceD:O.default.instanceD&&null!=O.default.instanceD.cam_focus?o=O.default.instanceD:R.default.instance&&null!=R.default.instance.cam_focus&&(o=R.default.instance),e=o?o.world_cam_focus_position:A.default.instance.posCharacter,p.default.instance.gameState==d.GameState.LOSE&&(f.default.instance?e=f.default.instance.world_cam_focus_position:S.default.instance&&(e=S.default.instance.world_cam_focus_position)),p.default.instance.isMapOther&&(this.cameraScale=1.5),m.CameraManager.instance.focusTo({position:e,is_world_pos:!0},this.cameraScale,.3),cc.tween(this.node).to(.3,{scale:1},l(5)).call(function(){t.cb_after_zoom_camera()}).start()},e.prototype.onDisable=function(){m.CameraManager.instance.reset()},e.prototype.updateGift=function(){var t=this;A.default.instance.stateGamePlay=A.StateGamePlay.BEFORE_END,this.giftProcess.updateProcessGift(function(){A.default.instance.stateGamePlay=A.StateGamePlay.END,t.btnNextLevel.active=!0})},e.prototype.showWin=function(){this.updateGift(),u.default.instance.active(),this.node.active=!0,this.cb_after_zoom_camera=this.activeWinNode},e.prototype.showLose=function(){u.default.instance.active(),this.node.active=!0,this.cb_after_zoom_camera=this.activeLoseNode},e.prototype.activeWinNode=function(){this.winNode.active=!0,this.loseNode.active=!1,this.giftProcess.node.active=!0,this.coinFlyNode.active=!0,this.showChangeCoin(c.GameConfig.coin_level_up+r.GameData.coinStickBonus),this.hideUICustom()},e.prototype.activeLoseNode=function(){this.winNode.active=!1,this.loseNode.active=!0,this.btnReplay.active=!0,this.giftProcess.node.active=!1,this.hideUICustom()},e.prototype.hideUICustom=function(){g.default.instance&&g.default.instance.offUINode()},e.prototype.hide=function(){u.default.instance&&u.default.instance.deActive(),this.btnNextLevel.active=!1,this.btnReplay.active=!1,this.winNode.active=!1,this.loseNode.active=!1,this.giftProcess.node.active=!1,null!=this.coinFlyNode&&(this.coinFlyNode.active=!1),this.node.active=!1},e.prototype.showChangeCoin=function(t){r.GameData.addCoin(t),this.changeCoinLabel.string="+"+t},e.prototype.loadCoinFly=function(){var t=cc.instantiate(this.coinFlyPrefab),e=this.node.convertToNodeSpaceAR(this.iconCoin.parent.convertToWorldSpaceAR(this.iconCoin.position));t.setPosition(e),t.getComponent(h.default).setTarget(this.targetPos),t.parent=this.node,this.coinFlyNode=t,this.coinFlyNode.active=!1},e.prototype.onClickShowAdsToReceiveBonus=function(){v.default.instance.rewardType="receiveBonus",v.default.instance.effectSoundState=_.default.EffectEnable,v.default.instance.musicSoundState=_.default.MusicEnable,v.default.instance.GDShowRewardedAd()},e.prototype.onClickShowAdsToSkipLevel=function(){v.default.instance.rewardType="skip",v.default.instance.effectSoundState=_.default.EffectEnable,v.default.instance.musicSoundState=_.default.MusicEnable,v.default.instance.GDShowRewardedAd()},a([T(cc.Label)],e.prototype,"levelLabel",void 0),a([T(cc.Label)],e.prototype,"changeCoinLabel",void 0),a([T(cc.Float)],e.prototype,"cameraScale",void 0),a([T(cc.Node)],e.prototype,"winNode",void 0),a([T(cc.Node)],e.prototype,"loseNode",void 0),a([T(cc.Node)],e.prototype,"iconCoin",void 0),a([T(cc.Prefab)],e.prototype,"coinFlyPrefab",void 0),a([T(cc.Node)],e.prototype,"targetPos",void 0),a([T(cc.Node)],e.prototype,"btnNextLevel",void 0),a([T(cc.Node)],e.prototype,"btnReplay",void 0),a([T(k.default)],e.prototype,"giftProcess",void 0),a([I],e)}(cc.Component);o.default=E,cc._RF.pop()},{"../GameData":"GameData","../Gift/GiftProcess":"GiftProcess","../PlayScreen":"PlayScreen","../base/CameraManager":"CameraManager","../base/GameDistribution":"GameDistribution","../base/SetLabelLanguage":"SetLabelLanguage","../base/audio/AudioManager":"AudioManager","../config/GameConfig":"GameConfig","../config/GameState":"GameState","../objects/character/Couple/Couple":"Couple","../objects/character/Daughter/Daughter":"Daughter","../objects/character/Daughter/DaughterOther":"DaughterOther","../objects/character/Husband/Husband":"Husband","../objects/character/Mom/Mom":"Mom","../objects/character/Mom/MomOther":"MomOther","../objects/character/SantaClaus/SantaClaus":"SantaClaus","../objects/character/Theif/Theif":"Theif","../ui/FlyingCoins":"FlyingCoins","./BgWinPanel":"BgWinPanel","./MapLevel":"MapLevel","./UIController":"UIController"}],WordArray:[function(t,e,o){"use strict";cc._RF.push(e,"1740aPVA7pFNq+ypDP1ARNo","WordArray"),Object.defineProperty(o,"__esModule",{value:!0}),o.WordArray=void 0;var n=t("../enc/Hex"),i=function(){function t(t,e){this.words=t||[],this.sigBytes=void 0!==e?e:4*this.words.length}return t.random=function(e){for(var o=[],n=function(t){var e=987654321,o=4294967295;return function(){var n=((e=36969*(65535&e)+(e>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}},i=0,a=void 0;i<e;i+=4){var r=n(4294967296*(a||Math.random()));a=987654071*r(),o.push(4294967296*r()|0)}return new t(o,e)},t.prototype.toString=function(t){return(t||n.Hex).stringify(this)},t.prototype.concat=function(t){if(this.clamp(),this.sigBytes%4)for(var e=0;e<t.sigBytes;e++){var o=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=o<<24-(this.sigBytes+e)%4*8}else for(e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this},t.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t}();o.WordArray=i,cc._RF.pop()},{"../enc/Hex":"Hex"}],"crypto-ts":[function(t,e,o){"use strict";cc._RF.push(e,"6ad71ENhsBPeYpe5u6RElqq","crypto-ts"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=o.AES=o.mode=o.pad=o.enc=o.algo=o.lib=void 0;var n=t("./lib/WordArray"),i=t("./lib/BlockCipher"),a=t("./lib/CipherParams"),r=t("./lib/Hasher"),s=t("./lib/SerializableCipher"),c=t("./lib/PasswordBasedCipher");o.lib={BlockCipher:i.BlockCipher,WordArray:n.WordArray,CipherParams:a.CipherParams,Hasher:r.Hasher,SerializableCipher:s.SerializableCipher,PasswordBasedCipher:c.PasswordBasedCipher};var l=t("./algo/AES"),u=t("./algo/SHA256");o.algo={AES:l.AES,SHA256:u.SHA256};var p=t("./enc/Utf8"),d=t("./enc/Hex");o.enc={Utf8:p.Utf8,Hex:d.Hex};var f=t("./pad/NoPadding"),h=t("./pad/PKCS7");o.pad={NoPadding:f.NoPadding,PKCS7:h.PKCS7};var g=t("./mode/CBC"),y=t("./mode/ECB");o.mode={CBC:g.CBC,ECB:y.ECB},o.AES=o.lib.BlockCipher._createHelper(o.algo.AES),o.SHA256=o.lib.Hasher._createHelper(o.algo.SHA256),cc._RF.pop()},{"./algo/AES":"AES","./algo/SHA256":"SHA256","./enc/Hex":"Hex","./enc/Utf8":"Utf8","./lib/BlockCipher":"BlockCipher","./lib/CipherParams":"CipherParams","./lib/Hasher":"Hasher","./lib/PasswordBasedCipher":"PasswordBasedCipher","./lib/SerializableCipher":"SerializableCipher","./lib/WordArray":"WordArray","./mode/CBC":"CBC","./mode/ECB":"ECB","./pad/NoPadding":"NoPadding","./pad/PKCS7":"PKCS7"}],index:[function(t,e,o){"use strict";cc._RF.push(e,"30180Ip+SVOjKHh++JZRJKF","index");var n=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),i=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||n(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),i(t("./Utf8"),o),cc._RF.pop()},{"./Utf8":"Utf8"}],"mesh-texture-mask":[function(t,e){"use strict";function o(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}cc._RF.push(e,"2b916xDwOJDaq/ZFI4mGP7k","mesh-texture-mask");var a=cc.gfx;cc.Class({extends:cc.Component,editor:!1,properties:{_temp_refresh:!1,temp_refresh:{displayName:"Refresh",type:cc.Boolean,get:function(){return this._temp_refresh},set:function(t){this._temp_refresh=t,this._applyVertexes()}},_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(t){this._offset=t,this.temp_refresh,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._applySpriteFrame()},type:cc.SpriteFrame},_vertexes:{default:function(){return[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)]},type:[cc.Vec2]},vertexes:{tooltip:"Polygon",get:function(){return this._vertexes},set:function(t){this._vertexes=t,this._updateMesh(),this.temp_refresh,this._applyVertexes()},type:[cc.Vec2]}},onLoad:function(){this._meshCache={},this._updateMesh();var t=this.node.getComponent(cc.MeshRenderer);t||(t=this.node.addComponent(cc.MeshRenderer)),t.mesh=null,this.renderer=t;var e=cc.Material.getBuiltinMaterial("unlit");t.setMaterial(0,e),this._applySpriteFrame(),this._applyVertexes()},_updateMesh:function(){var t=this._meshCache[this.vertexes.length];t||((t=new cc.Mesh).init(new a.VertexFormat([{name:a.ATTR_POSITION,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_UV0,type:a.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t),this.mesh=t},_applyVertexes:function(){var t=this,e=this.mesh;if(e.setVertices(a.ATTR_POSITION,this.vertexes),this.texture){for(var n,i=[],r=o(this.vertexes);!(n=r()).done;){var s=n.value,c=(s.x+this.texture.width/2+this.offset.x)/this.texture.width,l=1-(s.y+this.texture.height/2+this.offset.y)/this.texture.height;i.push(cc.v2(c,l))}e.setVertices(a.ATTR_UV0,i)}if(this.vertexes.length>=3){for(var u=[],p=[].concat(this.vertexes),d=0,f=-1;p.length>3;){var h=p[d],g=p[(d+1)%p.length],y=p[(d+2)%p.length],_=g.sub(h),v=y.sub(g);if(_.cross(v)>=0){for(var m,S=!1,b=o(p);!(m=b()).done;){var C=m.value;if(C!==h&&C!==g&&C!==y&&this._testInTriangle(C,h,g,y)){S=!0;break}}if(S){if((d=(d+1)%p.length)===f){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else u=u.concat([this.vertexes.indexOf(h),this.vertexes.indexOf(g),this.vertexes.indexOf(y)]),p.splice(p.indexOf(g),1),f=d}else if((d=(d+1)%p.length)===f){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}d>p.length-1&&(d=p.length-1)}u=u.concat(p.map(function(e){return t.vertexes.indexOf(e)})),e.setIndices(u),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},_testInTriangle:function(t,e,o,n){var i=o.sub(e),a=n.sub(e),r=n.sub(o),s=t.sub(e),c=t.sub(o);return i.cross(a)>=0^i.cross(s)<0&&i.cross(a)>=0^a.cross(s)>=0&&r.cross(i)>0^r.cross(c)>=0},_applySpriteFrame:function(){if(this.spriteFrame){var t=this.renderer._materials[0],e=this.spriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e),this.texture=e}}}),cc._RF.pop()},{}],supporter:[function(t,e,o){"use strict";cc._RF.push(e,"75a9cWHA7FGVqCEWJUmMSx0","supporter");var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.supporter=void 0,o.supporter={enable_log:!0,_log:"[Supporter] Log: ",SmartRoundingNumber:function(t,e){return void 0===e&&(e=2),parseFloat(t.toFixed(e).replace(/\.?0+$/,""))+" /"},Assert:function(t,e,o){void 0===o&&(o=!0);for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];return!(!t&&(console.error.apply(console,i([e],n)),o))},Warn:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return!!t||(console.warn(e),!1)},BreakLog:function(t){return!!t||(console.log(t),!1)},GenerateUUID:function(){return Date.now().toString()},GenerateUN:function(){var t=Date.now(),e=new Date(t),o=e.getFullYear(),n=(e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()),i=e.getMinutes(),a=e.getMilliseconds();return this.RandomInt(0,999)+1e3*o+1e7*n+1e9*i+1e11*a},GetReadableCurrentTime:function(){var t=Date.now(),e=new Date(t);return e.getFullYear()+"-"+("0"+e.getMonth+1).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getMilliseconds()).slice(-2)},PerfectPercent:function(t,e,o){void 0===o&&(o=!1),this.Assert(0!=e,this._log+"The decominator can not be `0`.");var n=Math.round(t/e*100);return o||n>=100&&(n=100),n},RandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},log:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enable_log&&console.log.apply(console,i([o.supporter.GetReadableCurrentTime()+"%c","backgrounf: #222; color: #bada55"],t))},error:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,i([o.supporter.GetReadableCurrentTime()+"%c > ","background: #22; color: #bada55"],t))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn.apply(console,i(["%c"+o.supporter.GetReadableCurrentTime()+" >","background: #0647c9, color: #1c1b18"],t))},time:function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&o.supporter.log("Start running the Function: ["+t.name+"] cost a certain time ..."),console.time(),t.apply(null,n),console.timeEnd(),e&&o.supporter.log("End running function...")},getMethodsAsString:function(t){return Object.getOwnPropertyNames(t).filter(function(e){return"function"==typeof t[e]})},removeContainChar:function(t,e){return t.filter(function(t){for(var o=0,n=e;o<n.length;o++){var i=n[o];if(t.includes(i))return!1}return!0})},SmartNumber:function(t){return t.toLocaleString("en-US").replace(/,/g,".")},SortTwoElementsInArray:function(t,e,o){var n=i(t);if(e>=n.length||o>=n.length||e<0||o<0)return this.warn("[Support] Log: The `first_index` and `second_index` must be smaller than the array length."),n;var a=n[e];return n[e]=n[o],n[o]=a,n},onlyContainChar:function(t,e){return e.filter(function(e){for(var o=0,n=t;o<n.length;o++){var i=n[o];if(e.includes(i))return!0}return!1})},mustContain:function(t,e){return e.filter(function(e){return t===e})},IsContain:function(t,e){return this.mustContain(t,e).length>0},GCD:function(t,e){return 0===e?t:this.GCD(e,t%e)},LCM:function(t,e){return t*e/this.GCD(t,e)},QuickFindArray:function(t,e){for(var o=0,n=e;o<n.length;o++)if(t===n[o])return!0;return!1},clone:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var a=t.constructor,r=new(a.bind.apply(a,i([t],e)));for(var s in t)"object"==typeof t[s]?(r[s],o.supporter.clone.apply(o.supporter,i([t[s]],e))):r[s]=t[s];return r},spread_clone:function(t){return n({},t)}},cc._RF.pop()},{}]},{},["BackgroundLoader","CheckLose","DailyButton","PopupDaily","FixFlash","GameData","BoxGift","GiftProcess","ProcessBar","SeftUtils","Guide","Message","HomeScreen","IntroController","LanguageOpItem","LanguageOption","Loading","MainScene","PlayScreen","PrefabManager","PrefabType","ResUtil","ScreenManager","LbTimeSkinTrial","RewardStreakItem","RewardStreakPopup","SkinTrialTimerManager","StreakData","StreakLosePopup","StreakPoint","StreakWinPopup","ActiveBox","ActiveFun","CCRigid","CameraManager","ColliderCallback","FillBannerGD","GOPool","GameDistribution","Language","LanguageController","LocalStorageManager","NodeFixSize","NumberUpdater","ParticleLoop","PhysicalEnable","PlayerCoinUpdater","PopupDisplay","RenderMask","SetLabelLanguage","Signal","SignalBinding","Task","TouchManager","FrameByFrame","RotateByRepeatAnim","RotateByRepeatAnimX2","ScaleRepeatAnim","AudioManager","AudioPlayer","CharacterAudioSetup","MyAudioPlayer","AES","EvpKDF","MD5","SHA256","crypto-ts","Base64","Encoding","Hex","Latin1","Utf8","index","Formatter","OpenSSL","KDF","OpenSSLKdf","Base","BlockCipher","BufferedBlockAlgorithm","BufferedBlockAlgorithmConfig","Cipher","CipherParams","CipherParamsInterface","Hasher","PasswordBasedCipher","SerializableCipher","WordArray","BlockCipherMode","BlockCipherModeAlgorithm","CBC","CBCDecryptor","CBCEncryptor","ECB","ECBDecryptor","ECBEncryptor","NoPadding","PKCS7","Padding","mesh-texture-mask","ToggleSlider","ToggleSliderGroup","ArrayUtil","GUIUtil","MathUtil","SkeletonUtil","StringUtil","ActionCharacterType","AudioPlayId","CaseSound","DailyConfig","GameConfig","GameState","GlobalSignals","GroupConfig","ItemLevelSkin","ItemLevelType","LevelConfig","MapType","PetConfig","PhysicsConfig","PuzzlesConfig","QuestType","RoomConfig","SkinConfig","TagObject","SyncPosition","Hand","BGActiveStageLevel","BgWinPanel","BoxLoseStageLevel","BoxWinStageLevel","EventStageLevel","MapLevel","ProcessStageLevel","RedirectBox","StageLevel","UIController","WinPanel","ExpertComponent","FCChainHelper","FCMoveTo","FastComponent","supporter","StickHold","Character","ColliderGround","ColliderSearch","Couple","Daughter","DaughterOther","BigSpider","Dog","DogOther","Enemies","Krampus","Rat","Husband","ICharacterCollider","Mom","MomOther","MoveCtrl","SantaClaus","Theif","TheifOther","WebSpider","Ball","GasGO","GemsGO","GemsPool","LavaGO","NailGO","RockGO","SnowGO","WaterGO","Bouquet","CoalGO","ContainType","Container","DirtyGO","Libbey","SmokeGO","WallBreak","BigBang","BigStone","Bomb","Bullet","CampFire","Door","FireBall","ItemChest","ItemLevel","ItemLoot","ItemPuzzle","ItemSync","MoveToItem","NormalBomb","Ring","Spider","SpiderWeb","Toilet","RopeFull","RopePart","RoseGO","RosePool","Egg","EggFoundPopup","ItemPetSwitch","Pet","PetDataManager","PetItem","PetManager","PetPanalSwitch","PetPopup","PetWalkFollowDance","PetWalkIdleAnim","FBInstantData","CheckWinIntro","CheckWinPuzzles","PuzzlesPopup","ButtonRoomState","DecorButton","FxUpgrade","MyRoom","OpenItem","ReplaceItem","RoomPopup","SelectRoomItem","BtnGiftBox","SkinBossUpdater","SkinDaughterUpdater","SkinItem","SkinPopup","SlotsSpineDuplicate","UnlockNewSkin","TestPhysics","TestSkeleton","ButtonActive","FXButtonScale","FXPrefabManager","FXShowButton","FlyingCoins","FxRotationSprite","IconQuest","RingController","SettingsPopup","ToastReward"]);